module.exports=[71499,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(41664)},74908,(a,b,c)=>{"use strict";let d="undefined"!=typeof Buffer,e=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,f=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function g(a,b,c){null==c&&null!==b&&"object"==typeof b&&(c=b,b=void 0),d&&Buffer.isBuffer(a)&&(a=a.toString()),a&&65279===a.charCodeAt(0)&&(a=a.slice(1));let g=JSON.parse(a,b);if(null===g||"object"!=typeof g)return g;let i=c&&c.protoAction||"error",j=c&&c.constructorAction||"error";if("ignore"===i&&"ignore"===j)return g;if("ignore"!==i&&"ignore"!==j){if(!1===e.test(a)&&!1===f.test(a))return g}else if("ignore"!==i&&"ignore"===j){if(!1===e.test(a))return g}else if(!1===f.test(a))return g;return h(g,{protoAction:i,constructorAction:j,safe:c&&c.safe})}function h(a,{protoAction:b="error",constructorAction:c="error",safe:d}={}){let e=[a];for(;e.length;){let a=e;for(let f of(e=[],a)){if("ignore"!==b&&Object.prototype.hasOwnProperty.call(f,"__proto__")){if(!0===d)return null;if("error"===b)throw SyntaxError("Object contains forbidden prototype property");delete f.__proto__}if("ignore"!==c&&Object.prototype.hasOwnProperty.call(f,"constructor")&&Object.prototype.hasOwnProperty.call(f.constructor,"prototype")){if(!0===d)return null;if("error"===c)throw SyntaxError("Object contains forbidden prototype property");delete f.constructor}for(let a in f){let b=f[a];b&&"object"==typeof b&&e.push(b)}}}return a}function i(a,b,c){let d=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return g(a,b,c)}finally{Error.stackTraceLimit=d}}b.exports=i,b.exports.default=i,b.exports.parse=i,b.exports.safeParse=function(a,b){let c=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return g(a,b,{safe:!0})}catch(a){return null}finally{Error.stackTraceLimit=c}},b.exports.scan=h},22206,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},84815,a=>{"use strict";let b,c;var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M=a.i(71499);a.s([],91791),a.i(91791),(d=g||(g={})).assertEqual=a=>{},d.assertIs=function(a){},d.assertNever=function(a){throw Error()},d.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},d.getValidEnumValues=a=>{let b=d.objectKeys(a).filter(b=>"number"!=typeof a[a[b]]),c={};for(let d of b)c[d]=a[d];return d.objectValues(c)},d.objectValues=a=>d.objectKeys(a).map(function(b){return a[b]}),d.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},d.find=(a,b)=>{for(let c of a)if(b(c))return c},d.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,d.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},d.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b,(h||(h={})).mergeShapes=(a,b)=>({...a,...b});let N=g.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),O=a=>{switch(typeof a){case"undefined":return N.undefined;case"string":return N.string;case"number":return Number.isNaN(a)?N.nan:N.number;case"boolean":return N.boolean;case"function":return N.function;case"bigint":return N.bigint;case"symbol":return N.symbol;case"object":if(Array.isArray(a))return N.array;if(null===a)return N.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return N.promise;if("undefined"!=typeof Map&&a instanceof Map)return N.map;if("undefined"!=typeof Set&&a instanceof Set)return N.set;if("undefined"!=typeof Date&&a instanceof Date)return N.date;return N.object;default:return N.unknown}};a.s(["ZodParsedType",0,N,"getParsedType",0,O,"objectUtil",()=>h,"util",()=>g],80598);let P=g.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Q=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");class R extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof R))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,g.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}R.create=a=>new R(a),a.s(["ZodError",()=>R,"ZodIssueCode",0,P,"quotelessJson",0,Q],40366);let S=(a,b)=>{let c;switch(a.code){case P.invalid_type:c=a.received===N.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case P.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,g.jsonStringifyReplacer)}`;break;case P.unrecognized_keys:c=`Unrecognized key(s) in object: ${g.joinValues(a.keys,", ")}`;break;case P.invalid_union:c="Invalid input";break;case P.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${g.joinValues(a.options)}`;break;case P.invalid_enum_value:c=`Invalid enum value. Expected ${g.joinValues(a.options)}, received '${a.received}'`;break;case P.invalid_arguments:c="Invalid function arguments";break;case P.invalid_return_type:c="Invalid function return type";break;case P.invalid_date:c="Invalid date";break;case P.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:g.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case P.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case P.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case P.custom:c="Invalid input";break;case P.invalid_intersection_types:c="Intersection results could not be merged";break;case P.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case P.not_finite:c="Number must be finite";break;default:c=b.defaultError,g.assertNever(a)}return{message:c}},T=S;function U(a){T=a}function V(){return T}a.s(["getErrorMap",()=>V,"setErrorMap",()=>U],19115),a.i(19115),a.s(["defaultErrorMap",0,S,"getErrorMap",()=>V,"setErrorMap",()=>U],11150),a.i(11150);let W=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}},X=[];function Y(a,b){let c=T,d=W({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,c,c===S?void 0:S].filter(a=>!!a)});a.common.issues.push(d)}class Z{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return $;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return Z.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return $;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let $=Object.freeze({status:"aborted"}),_=a=>({status:"dirty",value:a}),aa=a=>({status:"valid",value:a}),ab=a=>"aborted"===a.status,ac=a=>"dirty"===a.status,ad=a=>"valid"===a.status,ae=a=>"undefined"!=typeof Promise&&a instanceof Promise;a.s(["DIRTY",0,_,"EMPTY_PATH",0,X,"INVALID",0,$,"OK",0,aa,"ParseStatus",()=>Z,"addIssueToContext",()=>Y,"isAborted",0,ab,"isAsync",0,ae,"isDirty",0,ac,"isValid",0,ad,"makeIssue",0,W],14810),a.i(14810),a.s([],97100),a.i(97100),a.i(80598),(e=i||(i={})).errToObj=a=>"string"==typeof a?{message:a}:a||{},e.toString=a=>"string"==typeof a?a:a?.message;class af{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let ag=(a,b)=>{if(ad(b))return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new R(a.common.issues);return this._error=b,this._error}}};function ah(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class ai{get description(){return this._def.description}_getType(a){return O(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:O(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new Z,ctx:{common:a.parent.common,data:a.data,parsedType:O(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if(ae(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:O(a)},d=this._parseSync({data:a,path:c.path,parent:c});return ag(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:O(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return ad(c)?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>ad(a)?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:O(a)},d=this._parse({data:a,path:c.path,parent:c});return ag(c,await (ae(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),f=()=>d.addIssue({code:P.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new a2({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return a3.create(this,this._def)}nullable(){return a4.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return aN.create(this)}promise(){return a1.create(this,this._def)}or(a){return aP.create([this,a],this._def)}and(a){return aS.create(this,a,this._def)}transform(a){return new a2({...ah(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new a5({...ah(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:j.ZodDefault})}brand(){return new a9({typeName:j.ZodBranded,type:this,...ah(this._def)})}catch(a){return new a6({...ah(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:j.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return ba.create(this,a)}readonly(){return bb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let aj=/^c[^\s-]{8,}$/i,ak=/^[0-9a-z]+$/,al=/^[0-9A-HJKMNP-TV-Z]{26}$/i,am=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,an=/^[a-z0-9_-]{21}$/i,ao=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ap=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ar=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,as=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,at=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,au=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,av=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aw=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ax="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ay=RegExp(`^${ax}$`);function az(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}function aA(a){let b=`${ax}T${az(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)}class aB extends ai{_parse(a){var c,d,e,f;let h;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==N.string){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.string,received:b.parsedType}),$}let i=new Z;for(let j of this._def.checks)if("min"===j.kind)a.data.length<j.value&&(Y(h=this._getOrReturnCtx(a,h),{code:P.too_small,minimum:j.value,type:"string",inclusive:!0,exact:!1,message:j.message}),i.dirty());else if("max"===j.kind)a.data.length>j.value&&(Y(h=this._getOrReturnCtx(a,h),{code:P.too_big,maximum:j.value,type:"string",inclusive:!0,exact:!1,message:j.message}),i.dirty());else if("length"===j.kind){let b=a.data.length>j.value,c=a.data.length<j.value;(b||c)&&(h=this._getOrReturnCtx(a,h),b?Y(h,{code:P.too_big,maximum:j.value,type:"string",inclusive:!0,exact:!0,message:j.message}):c&&Y(h,{code:P.too_small,minimum:j.value,type:"string",inclusive:!0,exact:!0,message:j.message}),i.dirty())}else if("email"===j.kind)aq.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"email",code:P.invalid_string,message:j.message}),i.dirty());else if("emoji"===j.kind)b||(b=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),b.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"emoji",code:P.invalid_string,message:j.message}),i.dirty());else if("uuid"===j.kind)am.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"uuid",code:P.invalid_string,message:j.message}),i.dirty());else if("nanoid"===j.kind)an.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"nanoid",code:P.invalid_string,message:j.message}),i.dirty());else if("cuid"===j.kind)aj.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"cuid",code:P.invalid_string,message:j.message}),i.dirty());else if("cuid2"===j.kind)ak.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"cuid2",code:P.invalid_string,message:j.message}),i.dirty());else if("ulid"===j.kind)al.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"ulid",code:P.invalid_string,message:j.message}),i.dirty());else if("url"===j.kind)try{new URL(a.data)}catch{Y(h=this._getOrReturnCtx(a,h),{validation:"url",code:P.invalid_string,message:j.message}),i.dirty()}else"regex"===j.kind?(j.regex.lastIndex=0,j.regex.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"regex",code:P.invalid_string,message:j.message}),i.dirty())):"trim"===j.kind?a.data=a.data.trim():"includes"===j.kind?a.data.includes(j.value,j.position)||(Y(h=this._getOrReturnCtx(a,h),{code:P.invalid_string,validation:{includes:j.value,position:j.position},message:j.message}),i.dirty()):"toLowerCase"===j.kind?a.data=a.data.toLowerCase():"toUpperCase"===j.kind?a.data=a.data.toUpperCase():"startsWith"===j.kind?a.data.startsWith(j.value)||(Y(h=this._getOrReturnCtx(a,h),{code:P.invalid_string,validation:{startsWith:j.value},message:j.message}),i.dirty()):"endsWith"===j.kind?a.data.endsWith(j.value)||(Y(h=this._getOrReturnCtx(a,h),{code:P.invalid_string,validation:{endsWith:j.value},message:j.message}),i.dirty()):"datetime"===j.kind?aA(j).test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{code:P.invalid_string,validation:"datetime",message:j.message}),i.dirty()):"date"===j.kind?ay.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{code:P.invalid_string,validation:"date",message:j.message}),i.dirty()):"time"===j.kind?RegExp(`^${az(j)}$`).test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{code:P.invalid_string,validation:"time",message:j.message}),i.dirty()):"duration"===j.kind?ap.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"duration",code:P.invalid_string,message:j.message}),i.dirty()):"ip"===j.kind?(c=a.data,!(("v4"===(d=j.version)||!d)&&ar.test(c)||("v6"===d||!d)&&at.test(c))&&1&&(Y(h=this._getOrReturnCtx(a,h),{validation:"ip",code:P.invalid_string,message:j.message}),i.dirty())):"jwt"===j.kind?!function(a,b){if(!ao.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,j.alg)&&(Y(h=this._getOrReturnCtx(a,h),{validation:"jwt",code:P.invalid_string,message:j.message}),i.dirty()):"cidr"===j.kind?(e=a.data,!(("v4"===(f=j.version)||!f)&&as.test(e)||("v6"===f||!f)&&au.test(e))&&1&&(Y(h=this._getOrReturnCtx(a,h),{validation:"cidr",code:P.invalid_string,message:j.message}),i.dirty())):"base64"===j.kind?av.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"base64",code:P.invalid_string,message:j.message}),i.dirty()):"base64url"===j.kind?aw.test(a.data)||(Y(h=this._getOrReturnCtx(a,h),{validation:"base64url",code:P.invalid_string,message:j.message}),i.dirty()):g.assertNever(j);return{status:i.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:P.invalid_string,...i.errToObj(c)})}_addCheck(a){return new aB({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...i.errToObj(a)})}url(a){return this._addCheck({kind:"url",...i.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...i.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...i.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...i.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...i.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...i.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...i.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...i.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...i.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...i.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...i.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...i.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...i.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...i.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...i.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...i.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...i.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...i.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...i.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...i.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...i.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...i.errToObj(b)})}nonempty(a){return this.min(1,i.errToObj(a))}trim(){return new aB({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new aB({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new aB({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}aB.create=a=>new aB({checks:[],typeName:j.ZodString,coerce:a?.coerce??!1,...ah(a)});class aC extends ai{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==N.number){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.number,received:b.parsedType}),$}let c=new Z;for(let d of this._def.checks)"int"===d.kind?g.isInteger(a.data)||(Y(b=this._getOrReturnCtx(a,b),{code:P.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(Y(b=this._getOrReturnCtx(a,b),{code:P.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(Y(b=this._getOrReturnCtx(a,b),{code:P.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,d.value)&&(Y(b=this._getOrReturnCtx(a,b),{code:P.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(Y(b=this._getOrReturnCtx(a,b),{code:P.not_finite,message:d.message}),c.dirty()):g.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,i.toString(b))}gt(a,b){return this.setLimit("min",a,!1,i.toString(b))}lte(a,b){return this.setLimit("max",a,!0,i.toString(b))}lt(a,b){return this.setLimit("max",a,!1,i.toString(b))}setLimit(a,b,c,d){return new aC({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:i.toString(d)}]})}_addCheck(a){return new aC({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:i.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:i.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:i.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:i.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:i.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:i.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:i.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:i.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:i.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&g.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}aC.create=a=>new aC({checks:[],typeName:j.ZodNumber,coerce:a?.coerce||!1,...ah(a)});class aD extends ai{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==N.bigint)return this._getInvalidInput(a);let c=new Z;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(Y(b=this._getOrReturnCtx(a,b),{code:P.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(Y(b=this._getOrReturnCtx(a,b),{code:P.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(Y(b=this._getOrReturnCtx(a,b),{code:P.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):g.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.bigint,received:b.parsedType}),$}gte(a,b){return this.setLimit("min",a,!0,i.toString(b))}gt(a,b){return this.setLimit("min",a,!1,i.toString(b))}lte(a,b){return this.setLimit("max",a,!0,i.toString(b))}lt(a,b){return this.setLimit("max",a,!1,i.toString(b))}setLimit(a,b,c,d){return new aD({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:i.toString(d)}]})}_addCheck(a){return new aD({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:i.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:i.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:i.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:i.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:i.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}aD.create=a=>new aD({checks:[],typeName:j.ZodBigInt,coerce:a?.coerce??!1,...ah(a)});class aE extends ai{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==N.boolean){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.boolean,received:b.parsedType}),$}return aa(a.data)}}aE.create=a=>new aE({typeName:j.ZodBoolean,coerce:a?.coerce||!1,...ah(a)});class aF extends ai{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==N.date){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.date,received:b.parsedType}),$}if(Number.isNaN(a.data.getTime()))return Y(this._getOrReturnCtx(a),{code:P.invalid_date}),$;let c=new Z;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(Y(b=this._getOrReturnCtx(a,b),{code:P.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(Y(b=this._getOrReturnCtx(a,b),{code:P.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):g.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new aF({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:i.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:i.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}aF.create=a=>new aF({checks:[],coerce:a?.coerce||!1,typeName:j.ZodDate,...ah(a)});class aG extends ai{_parse(a){if(this._getType(a)!==N.symbol){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.symbol,received:b.parsedType}),$}return aa(a.data)}}aG.create=a=>new aG({typeName:j.ZodSymbol,...ah(a)});class aH extends ai{_parse(a){if(this._getType(a)!==N.undefined){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.undefined,received:b.parsedType}),$}return aa(a.data)}}aH.create=a=>new aH({typeName:j.ZodUndefined,...ah(a)});class aI extends ai{_parse(a){if(this._getType(a)!==N.null){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.null,received:b.parsedType}),$}return aa(a.data)}}aI.create=a=>new aI({typeName:j.ZodNull,...ah(a)});class aJ extends ai{constructor(){super(...arguments),this._any=!0}_parse(a){return aa(a.data)}}aJ.create=a=>new aJ({typeName:j.ZodAny,...ah(a)});class aK extends ai{constructor(){super(...arguments),this._unknown=!0}_parse(a){return aa(a.data)}}aK.create=a=>new aK({typeName:j.ZodUnknown,...ah(a)});class aL extends ai{_parse(a){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.never,received:b.parsedType}),$}}aL.create=a=>new aL({typeName:j.ZodNever,...ah(a)});class aM extends ai{_parse(a){if(this._getType(a)!==N.undefined){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.void,received:b.parsedType}),$}return aa(a.data)}}aM.create=a=>new aM({typeName:j.ZodVoid,...ah(a)});class aN extends ai{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==N.array)return Y(b,{code:P.invalid_type,expected:N.array,received:b.parsedType}),$;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&(Y(b,{code:a?P.too_big:P.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&(Y(b,{code:P.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&(Y(b,{code:P.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new af(b,a,b.path,c)))).then(a=>Z.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new af(b,a,b.path,c)));return Z.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new aN({...this._def,minLength:{value:a,message:i.toString(b)}})}max(a,b){return new aN({...this._def,maxLength:{value:a,message:i.toString(b)}})}length(a,b){return new aN({...this._def,exactLength:{value:a,message:i.toString(b)}})}nonempty(a){return this.min(1,a)}}aN.create=(a,b)=>new aN({type:a,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...ah(b)});class aO extends ai{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=g.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==N.object){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.object,received:b.parsedType}),$}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),f=[];if(!(this._def.catchall instanceof aL&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||f.push(a);let g=[];for(let a of e){let b=d[a],e=c.data[a];g.push({key:{status:"valid",value:a},value:b._parse(new af(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof aL){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of f)g.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)f.length>0&&(Y(c,{code:P.unrecognized_keys,keys:f}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of f){let d=c.data[b];g.push({key:{status:"valid",value:b},value:a._parse(new af(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of g){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>Z.mergeObjectSync(b,a)):Z.mergeObjectSync(b,g)}get shape(){return this._def.shape()}strict(a){return i.errToObj,new aO({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:i.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new aO({...this._def,unknownKeys:"strip"})}passthrough(){return new aO({...this._def,unknownKeys:"passthrough"})}extend(a){return new aO({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new aO({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:j.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new aO({...this._def,catchall:a})}pick(a){let b={};for(let c of g.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new aO({...this._def,shape:()=>b})}omit(a){let b={};for(let c of g.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new aO({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof aO){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=a3.create(a(e))}return new aO({...b._def,shape:()=>c})}if(b instanceof aN)return new aN({...b._def,type:a(b.element)});if(b instanceof a3)return a3.create(a(b.unwrap()));if(b instanceof a4)return a4.create(a(b.unwrap()));if(b instanceof aT)return aT.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of g.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new aO({...this._def,shape:()=>b})}required(a){let b={};for(let c of g.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof a3;)a=a._def.innerType;b[c]=a}return new aO({...this._def,shape:()=>b})}keyof(){return a$(g.objectKeys(this.shape))}}aO.create=(a,b)=>new aO({shape:()=>a,unknownKeys:"strip",catchall:aL.create(),typeName:j.ZodObject,...ah(b)}),aO.strictCreate=(a,b)=>new aO({shape:()=>a,unknownKeys:"strict",catchall:aL.create(),typeName:j.ZodObject,...ah(b)}),aO.lazycreate=(a,b)=>new aO({shape:a,unknownKeys:"strip",catchall:aL.create(),typeName:j.ZodObject,...ah(b)});class aP extends ai{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new R(a.ctx.common.issues));return Y(b,{code:P.invalid_union,unionErrors:c}),$});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new R(a));return Y(b,{code:P.invalid_union,unionErrors:e}),$}}get options(){return this._def.options}}aP.create=(a,b)=>new aP({options:a,typeName:j.ZodUnion,...ah(b)});let aQ=a=>{if(a instanceof aY)return aQ(a.schema);if(a instanceof a2)return aQ(a.innerType());if(a instanceof aZ)return[a.value];if(a instanceof a_)return a.options;if(a instanceof a0)return g.objectValues(a.enum);else if(a instanceof a5)return aQ(a._def.innerType);else if(a instanceof aH)return[void 0];else if(a instanceof aI)return[null];else if(a instanceof a3)return[void 0,...aQ(a.unwrap())];else if(a instanceof a4)return[null,...aQ(a.unwrap())];else if(a instanceof a9)return aQ(a.unwrap());else if(a instanceof bb)return aQ(a.unwrap());else if(a instanceof a6)return aQ(a._def.innerType);else return[]};class aR extends ai{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==N.object)return Y(b,{code:P.invalid_type,expected:N.object,received:b.parsedType}),$;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):(Y(b,{code:P.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),$)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=aQ(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new aR({typeName:j.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...ah(c)})}}class aS extends ai{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if(ab(a)||ab(d))return $;let e=function a(b,c){let d=O(b),e=O(c);if(b===c)return{valid:!0,data:b};if(d===N.object&&e===N.object){let d=g.objectKeys(c),e=g.objectKeys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};f[d]=e.data}return{valid:!0,data:f}}if(d===N.array&&e===N.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===N.date&&e===N.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return e.valid?((ac(a)||ac(d))&&b.dirty(),{status:b.value,value:e.data}):(Y(c,{code:P.invalid_intersection_types}),$)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}aS.create=(a,b,c)=>new aS({left:a,right:b,typeName:j.ZodIntersection,...ah(c)});class aT extends ai{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==N.array)return Y(c,{code:P.invalid_type,expected:N.array,received:c.parsedType}),$;if(c.data.length<this._def.items.length)return Y(c,{code:P.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$;!this._def.rest&&c.data.length>this._def.items.length&&(Y(c,{code:P.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new af(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>Z.mergeArray(b,a)):Z.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new aT({...this._def,rest:a})}}aT.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new aT({items:a,typeName:j.ZodTuple,rest:null,...ah(b)})};class aU extends ai{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==N.object)return Y(c,{code:P.invalid_type,expected:N.object,received:c.parsedType}),$;let d=[],e=this._def.keyType,f=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new af(c,a,c.path,a)),value:f._parse(new af(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?Z.mergeObjectAsync(b,d):Z.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new aU(b instanceof ai?{keyType:a,valueType:b,typeName:j.ZodRecord,...ah(c)}:{keyType:aB.create(),valueType:a,typeName:j.ZodRecord,...ah(b)})}}class aV extends ai{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==N.map)return Y(c,{code:P.invalid_type,expected:N.map,received:c.parsedType}),$;let d=this._def.keyType,e=this._def.valueType,f=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new af(c,a,c.path,[f,"key"])),value:e._parse(new af(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of f){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return $;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of f){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return $;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}aV.create=(a,b,c)=>new aV({valueType:b,keyType:a,typeName:j.ZodMap,...ah(c)});class aW extends ai{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==N.set)return Y(c,{code:P.invalid_type,expected:N.set,received:c.parsedType}),$;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&(Y(c,{code:P.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&(Y(c,{code:P.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function f(a){let c=new Set;for(let d of a){if("aborted"===d.status)return $;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let g=[...c.data.values()].map((a,b)=>e._parse(new af(c,a,c.path,b)));return c.common.async?Promise.all(g).then(a=>f(a)):f(g)}min(a,b){return new aW({...this._def,minSize:{value:a,message:i.toString(b)}})}max(a,b){return new aW({...this._def,maxSize:{value:a,message:i.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}aW.create=(a,b)=>new aW({valueType:a,minSize:null,maxSize:null,typeName:j.ZodSet,...ah(b)});class aX extends ai{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==N.function)return Y(b,{code:P.invalid_type,expected:N.function,received:b.parsedType}),$;function c(a,c){return W({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,T,S].filter(a=>!!a),issueData:{code:P.invalid_arguments,argumentsError:c}})}function d(a,c){return W({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,T,S].filter(a=>!!a),issueData:{code:P.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},f=b.data;if(this._def.returns instanceof a1){let a=this;return aa(async function(...b){let g=new R([]),h=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),i=await Reflect.apply(f,this,h);return await a._def.returns._def.type.parseAsync(i,e).catch(a=>{throw g.addIssue(d(i,a)),g})})}{let a=this;return aa(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new R([c(b,g.error)]);let h=Reflect.apply(f,this,g.data),i=a._def.returns.safeParse(h,e);if(!i.success)throw new R([d(h,i.error)]);return i.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new aX({...this._def,args:aT.create(a).rest(aK.create())})}returns(a){return new aX({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new aX({args:a||aT.create([]).rest(aK.create()),returns:b||aK.create(),typeName:j.ZodFunction,...ah(c)})}}class aY extends ai{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}aY.create=(a,b)=>new aY({getter:a,typeName:j.ZodLazy,...ah(b)});class aZ extends ai{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return Y(b,{received:b.data,code:P.invalid_literal,expected:this._def.value}),$}return{status:"valid",value:a.data}}get value(){return this._def.value}}function a$(a,b){return new a_({values:a,typeName:j.ZodEnum,...ah(b)})}aZ.create=(a,b)=>new aZ({value:a,typeName:j.ZodLiteral,...ah(b)});class a_ extends ai{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return Y(b,{expected:g.joinValues(c),received:b.parsedType,code:P.invalid_type}),$}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return Y(b,{received:b.data,code:P.invalid_enum_value,options:c}),$}return aa(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return a_.create(a,{...this._def,...b})}exclude(a,b=this._def){return a_.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}a_.create=a$;class a0 extends ai{_parse(a){let b=g.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==N.string&&c.parsedType!==N.number){let a=g.objectValues(b);return Y(c,{expected:g.joinValues(a),received:c.parsedType,code:P.invalid_type}),$}if(this._cache||(this._cache=new Set(g.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=g.objectValues(b);return Y(c,{received:c.data,code:P.invalid_enum_value,options:a}),$}return aa(a.data)}get enum(){return this._def.values}}a0.create=(a,b)=>new a0({values:a,typeName:j.ZodNativeEnum,...ah(b)});class a1 extends ai{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);return b.parsedType!==N.promise&&!1===b.common.async?(Y(b,{code:P.invalid_type,expected:N.promise,received:b.parsedType}),$):aa((b.parsedType===N.promise?b.data:Promise.resolve(b.data)).then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}a1.create=(a,b)=>new a1({type:a,typeName:j.ZodPromise,...ah(b)});class a2 extends ai{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{Y(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return $;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?$:"dirty"===d.status||"dirty"===b.value?_(d.value):d});{if("aborted"===b.value)return $;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?$:"dirty"===d.status||"dirty"===b.value?_(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?$:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?$:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>ad(a)?Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})):$);else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!ad(a))return $;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}g.assertNever(d)}}a2.create=(a,b,c)=>new a2({schema:a,typeName:j.ZodEffects,effect:b,...ah(c)}),a2.createWithPreprocess=(a,b,c)=>new a2({schema:b,effect:{type:"preprocess",transform:a},typeName:j.ZodEffects,...ah(c)});class a3 extends ai{_parse(a){return this._getType(a)===N.undefined?aa(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}a3.create=(a,b)=>new a3({innerType:a,typeName:j.ZodOptional,...ah(b)});class a4 extends ai{_parse(a){return this._getType(a)===N.null?aa(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}a4.create=(a,b)=>new a4({innerType:a,typeName:j.ZodNullable,...ah(b)});class a5 extends ai{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===N.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}a5.create=(a,b)=>new a5({innerType:a,typeName:j.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...ah(b)});class a6 extends ai{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return ae(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new R(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new R(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}a6.create=(a,b)=>new a6({innerType:a,typeName:j.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...ah(b)});class a7 extends ai{_parse(a){if(this._getType(a)!==N.nan){let b=this._getOrReturnCtx(a);return Y(b,{code:P.invalid_type,expected:N.nan,received:b.parsedType}),$}return{status:"valid",value:a.data}}}a7.create=a=>new a7({typeName:j.ZodNaN,...ah(a)});let a8=Symbol("zod_brand");class a9 extends ai{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class ba extends ai{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?$:"dirty"===a.status?(b.dirty(),_(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?$:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new ba({in:a,out:b,typeName:j.ZodPipeline})}}class bb extends ai{_parse(a){let b=this._def.innerType._parse(a),c=a=>(ad(a)&&(a.value=Object.freeze(a.value)),a);return ae(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}function bc(a,b){let c="function"==typeof a?a(b):"string"==typeof a?{message:a}:a;return"string"==typeof c?{message:c}:c}function bd(a,b={},c){return a?aJ.create().superRefine((d,e)=>{let f=a(d);if(f instanceof Promise)return f.then(a=>{if(!a){let a=bc(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}});if(!f){let a=bc(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}}):aJ.create()}bb.create=(a,b)=>new bb({innerType:a,typeName:j.ZodReadonly,...ah(b)});let be={object:aO.lazycreate};(f=j||(j={})).ZodString="ZodString",f.ZodNumber="ZodNumber",f.ZodNaN="ZodNaN",f.ZodBigInt="ZodBigInt",f.ZodBoolean="ZodBoolean",f.ZodDate="ZodDate",f.ZodSymbol="ZodSymbol",f.ZodUndefined="ZodUndefined",f.ZodNull="ZodNull",f.ZodAny="ZodAny",f.ZodUnknown="ZodUnknown",f.ZodNever="ZodNever",f.ZodVoid="ZodVoid",f.ZodArray="ZodArray",f.ZodObject="ZodObject",f.ZodUnion="ZodUnion",f.ZodDiscriminatedUnion="ZodDiscriminatedUnion",f.ZodIntersection="ZodIntersection",f.ZodTuple="ZodTuple",f.ZodRecord="ZodRecord",f.ZodMap="ZodMap",f.ZodSet="ZodSet",f.ZodFunction="ZodFunction",f.ZodLazy="ZodLazy",f.ZodLiteral="ZodLiteral",f.ZodEnum="ZodEnum",f.ZodEffects="ZodEffects",f.ZodNativeEnum="ZodNativeEnum",f.ZodOptional="ZodOptional",f.ZodNullable="ZodNullable",f.ZodDefault="ZodDefault",f.ZodCatch="ZodCatch",f.ZodPromise="ZodPromise",f.ZodBranded="ZodBranded",f.ZodPipeline="ZodPipeline",f.ZodReadonly="ZodReadonly";let bf=(a,b={message:`Input not instance of ${a.name}`})=>bd(b=>b instanceof a,b),bg=aB.create,bh=aC.create,bi=a7.create,bj=aD.create,bk=aE.create,bl=aF.create,bm=aG.create,bn=aH.create,bo=aI.create,bp=aJ.create,bq=aK.create,br=aL.create,bs=aM.create,bt=aN.create,bu=aO.create,bv=aO.strictCreate,bw=aP.create,bx=aR.create,by=aS.create,bz=aT.create,bA=aU.create,bB=aV.create,bC=aW.create,bD=aX.create,bE=aY.create,bF=aZ.create,bG=a_.create,bH=a0.create,bI=a1.create,bJ=a2.create,bK=a3.create,bL=a4.create,bM=a2.createWithPreprocess,bN=ba.create,bO=()=>bg().optional(),bP=()=>bh().optional(),bQ=()=>bk().optional(),bR={string:a=>aB.create({...a,coerce:!0}),number:a=>aC.create({...a,coerce:!0}),boolean:a=>aE.create({...a,coerce:!0}),bigint:a=>aD.create({...a,coerce:!0}),date:a=>aF.create({...a,coerce:!0})};a.s(["BRAND",0,a8,"NEVER",0,$,"Schema",()=>ai,"ZodAny",()=>aJ,"ZodArray",()=>aN,"ZodBigInt",()=>aD,"ZodBoolean",()=>aE,"ZodBranded",()=>a9,"ZodCatch",()=>a6,"ZodDate",()=>aF,"ZodDefault",()=>a5,"ZodDiscriminatedUnion",()=>aR,"ZodEffects",()=>a2,"ZodEnum",()=>a_,"ZodFirstPartyTypeKind",()=>j,"ZodFunction",()=>aX,"ZodIntersection",()=>aS,"ZodLazy",()=>aY,"ZodLiteral",()=>aZ,"ZodMap",()=>aV,"ZodNaN",()=>a7,"ZodNativeEnum",()=>a0,"ZodNever",()=>aL,"ZodNull",()=>aI,"ZodNullable",()=>a4,"ZodNumber",()=>aC,"ZodObject",()=>aO,"ZodOptional",()=>a3,"ZodPipeline",()=>ba,"ZodPromise",()=>a1,"ZodReadonly",()=>bb,"ZodRecord",()=>aU,"ZodSchema",()=>ai,"ZodSet",()=>aW,"ZodString",()=>aB,"ZodSymbol",()=>aG,"ZodTransformer",()=>a2,"ZodTuple",()=>aT,"ZodType",()=>ai,"ZodUndefined",()=>aH,"ZodUnion",()=>aP,"ZodUnknown",()=>aK,"ZodVoid",()=>aM,"any",()=>bp,"array",()=>bt,"bigint",()=>bj,"boolean",()=>bk,"coerce",0,bR,"custom",()=>bd,"date",()=>bl,"datetimeRegex",()=>aA,"discriminatedUnion",()=>bx,"effect",()=>bJ,"enum",()=>bG,"function",()=>bD,"instanceof",()=>bf,"intersection",()=>by,"late",0,be,"lazy",()=>bE,"literal",()=>bF,"map",()=>bB,"nan",()=>bi,"nativeEnum",()=>bH,"never",()=>br,"null",()=>bo,"nullable",()=>bL,"number",()=>bh,"object",()=>bu,"oboolean",()=>bQ,"onumber",()=>bP,"optional",()=>bK,"ostring",()=>bO,"pipeline",()=>bN,"preprocess",()=>bM,"promise",()=>bI,"record",()=>bA,"set",()=>bC,"strictObject",()=>bv,"string",()=>bg,"symbol",()=>bm,"transformer",()=>bJ,"tuple",()=>bz,"undefined",()=>bn,"union",()=>bw,"unknown",()=>bq,"void",()=>bs],90455),a.i(90455),a.i(40366),a.s(["BRAND",0,a8,"DIRTY",0,_,"EMPTY_PATH",0,X,"INVALID",0,$,"NEVER",0,$,"OK",0,aa,"ParseStatus",()=>Z,"Schema",()=>ai,"ZodAny",()=>aJ,"ZodArray",()=>aN,"ZodBigInt",()=>aD,"ZodBoolean",()=>aE,"ZodBranded",()=>a9,"ZodCatch",()=>a6,"ZodDate",()=>aF,"ZodDefault",()=>a5,"ZodDiscriminatedUnion",()=>aR,"ZodEffects",()=>a2,"ZodEnum",()=>a_,"ZodError",()=>R,"ZodFirstPartyTypeKind",()=>j,"ZodFunction",()=>aX,"ZodIntersection",()=>aS,"ZodIssueCode",0,P,"ZodLazy",()=>aY,"ZodLiteral",()=>aZ,"ZodMap",()=>aV,"ZodNaN",()=>a7,"ZodNativeEnum",()=>a0,"ZodNever",()=>aL,"ZodNull",()=>aI,"ZodNullable",()=>a4,"ZodNumber",()=>aC,"ZodObject",()=>aO,"ZodOptional",()=>a3,"ZodParsedType",0,N,"ZodPipeline",()=>ba,"ZodPromise",()=>a1,"ZodReadonly",()=>bb,"ZodRecord",()=>aU,"ZodSchema",()=>ai,"ZodSet",()=>aW,"ZodString",()=>aB,"ZodSymbol",()=>aG,"ZodTransformer",()=>a2,"ZodTuple",()=>aT,"ZodType",()=>ai,"ZodUndefined",()=>aH,"ZodUnion",()=>aP,"ZodUnknown",()=>aK,"ZodVoid",()=>aM,"addIssueToContext",()=>Y,"any",()=>bp,"array",()=>bt,"bigint",()=>bj,"boolean",()=>bk,"coerce",0,bR,"custom",()=>bd,"date",()=>bl,"datetimeRegex",()=>aA,"defaultErrorMap",0,S,"discriminatedUnion",()=>bx,"effect",()=>bJ,"enum",()=>bG,"function",()=>bD,"getErrorMap",()=>V,"getParsedType",0,O,"instanceof",()=>bf,"intersection",()=>by,"isAborted",0,ab,"isAsync",0,ae,"isDirty",0,ac,"isValid",0,ad,"late",0,be,"lazy",()=>bE,"literal",()=>bF,"makeIssue",0,W,"map",()=>bB,"nan",()=>bi,"nativeEnum",()=>bH,"never",()=>br,"null",()=>bo,"nullable",()=>bL,"number",()=>bh,"object",()=>bu,"objectUtil",()=>h,"oboolean",()=>bQ,"onumber",()=>bP,"optional",()=>bK,"ostring",()=>bO,"pipeline",()=>bN,"preprocess",()=>bM,"promise",()=>bI,"quotelessJson",0,Q,"record",()=>bA,"set",()=>bC,"setErrorMap",()=>U,"strictObject",()=>bv,"string",()=>bg,"symbol",()=>bm,"transformer",()=>bJ,"tuple",()=>bz,"undefined",()=>bn,"union",()=>bw,"unknown",()=>bq,"util",()=>g,"void",()=>bs],37411);var bS=a.i(37411),bS=bS,bS=bS;let bT=bS.object({translatedMessage:bS.string(),communicationMedium:bS.string().optional(),groundingTechnique:bS.string().optional(),followUpSuggestion:bS.string().optional(),safetyNote:bS.string().optional()});var bS=bS;bS.object({sentimentAnalysis:bS.object({detectedEmotion:bS.string(),escalationLevel:bS.number().min(1).max(10),underlyingNeed:bS.string()}),rephrasedMessage:bS.string(),keyChanges:bS.array(bS.string()),toneShift:bS.string(),timingSuggestion:bS.string(),alternativePhrasings:bS.array(bS.string()).min(1)});var bS=bS;bS.object({stressPrediction:bS.object({predictedStressLevel:bS.number().min(1).max(10),confidenceLevel:bS.string(),timeToPotentialCrisis:bS.string(),likelyTriggers:bS.array(bS.string())}),preventativeCoaching:bS.object({immediateInterventions:bS.array(bS.string()),shortTermStrategies:bS.array(bS.string()),supportNetworkSuggestions:bS.array(bS.string()),environmentalChanges:bS.array(bS.string())}),notification:bS.object({message:bS.string(),urgency:bS.enum(["low","moderate","high"]),recommendedAction:bS.string()})});var bU="vercel.ai.error",bV=Symbol.for(bU),bW=class a extends Error{constructor({name:a,message:b,cause:c}){super(b),this[k]=!0,this.name=a,this.cause=c}static isInstance(b){return a.hasMarker(b,bU)}static hasMarker(a,b){let c=Symbol.for(b);return null!=a&&"object"==typeof a&&c in a&&"boolean"==typeof a[c]&&!0===a[c]}toJSON(){return{name:this.name,message:this.message}}};k=bV;var bX=bW,bY=(Symbol.for("vercel.ai.error.AI_APICallError"),Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError"),"AI_InvalidArgumentError"),bZ=`vercel.ai.error.${bY}`,b$=Symbol.for(bZ),b_=class extends bX{constructor({message:a,cause:b,argument:c}){super({name:bY,message:a,cause:b}),this[l]=!0,this.argument=c}static isInstance(a){return bX.hasMarker(a,bZ)}};l=b$,Symbol.for("vercel.ai.error.AI_InvalidPromptError"),Symbol.for("vercel.ai.error.AI_InvalidResponseDataError"),Symbol.for("vercel.ai.error.AI_JSONParseError"),Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError"),Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError"),Symbol.for("vercel.ai.error.AI_TypeValidationError"),Symbol.for("vercel.ai.error.AI_UnsupportedFunctionalityError");let b0=(a,b=21)=>(c=b)=>{let d="",e=0|c;for(;e--;)d+=a[Math.random()*a.length|0];return d};var b1=a.i(74908);TransformStream,(({prefix:a,size:b=7,alphabet:c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:d="-"}={})=>{let e=b0(c,b);if(null!=a){if(c.includes(d))throw new b_({argument:"separator",message:`The separator "${d}" must not be part of the alphabet "${c}".`});return b=>`${a}${d}${e(b)}`}})();var b2=Symbol.for("vercel.ai.validator"),{btoa:b3,atob:b4}=globalThis;let b5=Symbol("Let zodToJsonSchema decide on which parser to use"),b6={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"};function b7(a,b,c,d){d?.errorMessages&&c&&(a.errorMessage={...a.errorMessage,[b]:c})}function b8(a,b,c,d,e){a[b]=c,b7(a,b,d,e)}let b9=(a,b)=>{let c=0;for(;c<a.length&&c<b.length&&a[c]===b[c];c++);return[(a.length-c).toString(),...b.slice(c)].join("/")};function ca(a){if("openAi"!==a.target)return{};let b=[...a.basePath,a.definitionPath,a.openAiAnyTypeName];return a.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===a.$refStrategy?b9(b,a.currentPath):b.join("/")}}function cb(a,b){return cw(a.type._def,b)}let cc=/^[cC][^\s-]{8,}$/,cd=/^[0-9a-z]+$/,ce=/^[0-9A-HJKMNP-TV-Z]{26}$/,cf=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,cg=()=>(void 0===c&&(c=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),c),ch=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ci=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ck=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cl=/^[a-zA-Z0-9_-]{21}$/,cm=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function cn(a,b){let c={type:"string"};if(a.checks)for(let d of a.checks)switch(d.kind){case"min":b8(c,"minLength","number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,d.message,b);break;case"max":b8(c,"maxLength","number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value,d.message,b);break;case"email":switch(b.emailStrategy){case"format:email":cq(c,"email",d.message,b);break;case"format:idn-email":cq(c,"idn-email",d.message,b);break;case"pattern:zod":cr(c,cf,d.message,b)}break;case"url":cq(c,"uri",d.message,b);break;case"uuid":cq(c,"uuid",d.message,b);break;case"regex":cr(c,d.regex,d.message,b);break;case"cuid":cr(c,cc,d.message,b);break;case"cuid2":cr(c,cd,d.message,b);break;case"startsWith":cr(c,RegExp(`^${co(d.value,b)}`),d.message,b);break;case"endsWith":cr(c,RegExp(`${co(d.value,b)}$`),d.message,b);break;case"datetime":cq(c,"date-time",d.message,b);break;case"date":cq(c,"date",d.message,b);break;case"time":cq(c,"time",d.message,b);break;case"duration":cq(c,"duration",d.message,b);break;case"length":b8(c,"minLength","number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,d.message,b),b8(c,"maxLength","number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value,d.message,b);break;case"includes":cr(c,RegExp(co(d.value,b)),d.message,b);break;case"ip":"v6"!==d.version&&cq(c,"ipv4",d.message,b),"v4"!==d.version&&cq(c,"ipv6",d.message,b);break;case"base64url":cr(c,ck,d.message,b);break;case"jwt":cr(c,cm,d.message,b);break;case"cidr":"v6"!==d.version&&cr(c,ch,d.message,b),"v4"!==d.version&&cr(c,ci,d.message,b);break;case"emoji":cr(c,cg(),d.message,b);break;case"ulid":cr(c,ce,d.message,b);break;case"base64":switch(b.base64Strategy){case"format:binary":cq(c,"binary",d.message,b);break;case"contentEncoding:base64":b8(c,"contentEncoding","base64",d.message,b);break;case"pattern:zod":cr(c,cj,d.message,b)}break;case"nanoid":cr(c,cl,d.message,b)}return c}function co(a,b){return"escape"===b.patternStrategy?function(a){let b="";for(let c=0;c<a.length;c++)cp.has(a[c])||(b+="\\"),b+=a[c];return b}(a):a}let cp=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function cq(a,b,c,d){a.format||a.anyOf?.some(a=>a.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format,...a.errorMessage&&d.errorMessages&&{errorMessage:{format:a.errorMessage.format}}}),delete a.format,a.errorMessage&&(delete a.errorMessage.format,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.anyOf.push({format:b,...c&&d.errorMessages&&{errorMessage:{format:c}}})):b8(a,"format",b,c,d)}function cr(a,b,c,d){a.pattern||a.allOf?.some(a=>a.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern,...a.errorMessage&&d.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}}}),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.allOf.push({pattern:cs(b,d),...c&&d.errorMessages&&{errorMessage:{pattern:c}}})):b8(a,"pattern",cs(b,d),c,d)}function cs(a,b){if(!b.applyRegexFlags||!a.flags)return a.source;let c={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},d=c.i?a.source.toLowerCase():a.source,e="",f=!1,g=!1,h=!1;for(let a=0;a<d.length;a++){if(f){e+=d[a],f=!1;continue}if(c.i){if(g){if(d[a].match(/[a-z]/)){h?(e+=d[a],e+=`${d[a-2]}-${d[a]}`.toUpperCase(),h=!1):"-"===d[a+1]&&d[a+2]?.match(/[a-z]/)?(e+=d[a],h=!0):e+=`${d[a]}${d[a].toUpperCase()}`;continue}}else if(d[a].match(/[a-z]/)){e+=`[${d[a]}${d[a].toUpperCase()}]`;continue}}if(c.m){if("^"===d[a]){e+=`(^|(?<=[\r
]))`;continue}else if("$"===d[a]){e+=`($|(?=[\r
]))`;continue}}if(c.s&&"."===d[a]){e+=g?`${d[a]}\r
`:`[${d[a]}\r
]`;continue}e+=d[a],"\\"===d[a]?f=!0:g&&"]"===d[a]?g=!1:g||"["!==d[a]||(g=!0)}try{new RegExp(e)}catch{return console.warn(`Could not convert regex pattern at ${b.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return e}function ct(a,b){if("openAi"===b.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===b.target&&a.keyType?._def.typeName===j.ZodEnum)return{type:"object",required:a.keyType._def.values,properties:a.keyType._def.values.reduce((c,d)=>({...c,[d]:cw(a.valueType._def,{...b,currentPath:[...b.currentPath,"properties",d]})??ca(b)}),{}),additionalProperties:b.rejectedAdditionalProperties};let c={type:"object",additionalProperties:cw(a.valueType._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]})??b.allowedAdditionalProperties};if("openApi3"===b.target)return c;if(a.keyType?._def.typeName===j.ZodString&&a.keyType._def.checks?.length){let{type:d,...e}=cn(a.keyType._def,b);return{...c,propertyNames:e}}if(a.keyType?._def.typeName===j.ZodEnum)return{...c,propertyNames:{enum:a.keyType._def.values}};if(a.keyType?._def.typeName===j.ZodBranded&&a.keyType._def.type._def.typeName===j.ZodString&&a.keyType._def.type._def.checks?.length){let{type:d,...e}=cb(a.keyType._def,b);return{...c,propertyNames:e}}return c}let cu={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},cv=(a,b)=>{let c=(a.options instanceof Map?Array.from(a.options.values()):a.options).map((a,c)=>cw(a._def,{...b,currentPath:[...b.currentPath,"anyOf",`${c}`]})).filter(a=>!!a&&(!b.strictUnions||"object"==typeof a&&Object.keys(a).length>0));return c.length?{anyOf:c}:void 0};function cw(a,b,c=!1){let d=b.seen.get(a);if(b.override){let e=b.override?.(a,b,d,c);if(e!==b5)return e}if(d&&!c){let a=cx(d,b);if(void 0!==a)return a}let e={def:a,path:b.currentPath,jsonSchema:void 0};b.seen.set(a,e);let f=((a,b,c)=>{switch(b){case j.ZodString:return cn(a,c);case j.ZodNumber:let d={type:"number"};if(!a.checks)return d;for(let b of a.checks)switch(b.kind){case"int":d.type="integer",b7(d,"type",b.message,c);break;case"min":"jsonSchema7"===c.target?b.inclusive?b8(d,"minimum",b.value,b.message,c):b8(d,"exclusiveMinimum",b.value,b.message,c):(b.inclusive||(d.exclusiveMinimum=!0),b8(d,"minimum",b.value,b.message,c));break;case"max":"jsonSchema7"===c.target?b.inclusive?b8(d,"maximum",b.value,b.message,c):b8(d,"exclusiveMaximum",b.value,b.message,c):(b.inclusive||(d.exclusiveMaximum=!0),b8(d,"maximum",b.value,b.message,c));break;case"multipleOf":b8(d,"multipleOf",b.value,b.message,c)}return d;case j.ZodObject:return function(a,b){let c="openAi"===b.target,d={type:"object",properties:{}},e=[],f=a.shape();for(let a in f){let g=f[a];if(void 0===g||void 0===g._def)continue;let h=function(a){try{return a.isOptional()}catch{return!0}}(g);h&&c&&("ZodOptional"===g._def.typeName&&(g=g._def.innerType),g.isNullable()||(g=g.nullable()),h=!1);let i=cw(g._def,{...b,currentPath:[...b.currentPath,"properties",a],propertyPath:[...b.currentPath,"properties",a]});void 0!==i&&(d.properties[a]=i,h||e.push(a))}e.length&&(d.required=e);let g=function(a,b){if("ZodNever"!==a.catchall._def.typeName)return cw(a.catchall._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return b.allowedAdditionalProperties;case"strict":return b.rejectedAdditionalProperties;case"strip":return"strict"===b.removeAdditionalStrategy?b.allowedAdditionalProperties:b.rejectedAdditionalProperties}}(a,b);return void 0!==g&&(d.additionalProperties=g),d}(a,c);case j.ZodBigInt:let e={type:"integer",format:"int64"};if(!a.checks)return e;for(let b of a.checks)switch(b.kind){case"min":"jsonSchema7"===c.target?b.inclusive?b8(e,"minimum",b.value,b.message,c):b8(e,"exclusiveMinimum",b.value,b.message,c):(b.inclusive||(e.exclusiveMinimum=!0),b8(e,"minimum",b.value,b.message,c));break;case"max":"jsonSchema7"===c.target?b.inclusive?b8(e,"maximum",b.value,b.message,c):b8(e,"exclusiveMaximum",b.value,b.message,c):(b.inclusive||(e.exclusiveMaximum=!0),b8(e,"maximum",b.value,b.message,c));break;case"multipleOf":b8(e,"multipleOf",b.value,b.message,c)}return e;case j.ZodBoolean:return{type:"boolean"};case j.ZodDate:return function a(b,c,d){let e=d??c.dateStrategy;if(Array.isArray(e))return{anyOf:e.map((d,e)=>a(b,c,d))};switch(e){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var f=b,g=c;let h={type:"integer",format:"unix-time"};if("openApi3"===g.target)return h;for(let a of f.checks)switch(a.kind){case"min":b8(h,"minimum",a.value,a.message,g);break;case"max":b8(h,"maximum",a.value,a.message,g)}return h}}(a,c);case j.ZodUndefined:return{not:ca(c)};case j.ZodNull:return"openApi3"===c.target?{enum:["null"],nullable:!0}:{type:"null"};case j.ZodArray:let f;return f={type:"array"},a.type?._def&&a.type?._def?.typeName!==j.ZodAny&&(f.items=cw(a.type._def,{...c,currentPath:[...c.currentPath,"items"]})),a.minLength&&b8(f,"minItems",a.minLength.value,a.minLength.message,c),a.maxLength&&b8(f,"maxItems",a.maxLength.value,a.maxLength.message,c),a.exactLength&&(b8(f,"minItems",a.exactLength.value,a.exactLength.message,c),b8(f,"maxItems",a.exactLength.value,a.exactLength.message,c)),f;case j.ZodUnion:case j.ZodDiscriminatedUnion:if("openApi3"===c.target)return cv(a,c);let g=a.options instanceof Map?Array.from(a.options.values()):a.options;if(g.every(a=>a._def.typeName in cu&&(!a._def.checks||!a._def.checks.length))){let a=g.reduce((a,b)=>{let c=cu[b._def.typeName];return c&&!a.includes(c)?[...a,c]:a},[]);return{type:a.length>1?a:a[0]}}if(g.every(a=>"ZodLiteral"===a._def.typeName&&!a.description)){let a=g.reduce((a,b)=>{let c=typeof b._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(null===b._def.value)return[...a,"null"];default:return a}},[]);if(a.length===g.length){let b=a.filter((a,b,c)=>c.indexOf(a)===b);return{type:b.length>1?b:b[0],enum:g.reduce((a,b)=>a.includes(b._def.value)?a:[...a,b._def.value],[])}}}else if(g.every(a=>"ZodEnum"===a._def.typeName))return{type:"string",enum:g.reduce((a,b)=>[...a,...b._def.values.filter(b=>!a.includes(b))],[])};return cv(a,c);case j.ZodIntersection:let h,i,k;return h=[cw(a.left._def,{...c,currentPath:[...c.currentPath,"allOf","0"]}),cw(a.right._def,{...c,currentPath:[...c.currentPath,"allOf","1"]})].filter(a=>!!a),i="jsonSchema2019-09"===c.target?{unevaluatedProperties:!1}:void 0,k=[],h.forEach(a=>{if((!("type"in a)||"string"!==a.type)&&"allOf"in a)k.push(...a.allOf),void 0===a.unevaluatedProperties&&(i=void 0);else{let b=a;if("additionalProperties"in a&&!1===a.additionalProperties){let{additionalProperties:c,...d}=a;b=d}else i=void 0;k.push(b)}}),k.length?{allOf:k,...i}:void 0;case j.ZodTuple:return a.rest?{type:"array",minItems:a.items.length,items:a.items.map((a,b)=>cw(a._def,{...c,currentPath:[...c.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[]),additionalItems:cw(a.rest._def,{...c,currentPath:[...c.currentPath,"additionalItems"]})}:{type:"array",minItems:a.items.length,maxItems:a.items.length,items:a.items.map((a,b)=>cw(a._def,{...c,currentPath:[...c.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[])};case j.ZodRecord:return ct(a,c);case j.ZodLiteral:let l;return"bigint"!=(l=typeof a.value)&&"number"!==l&&"boolean"!==l&&"string"!==l?{type:Array.isArray(a.value)?"array":"object"}:"openApi3"===c.target?{type:"bigint"===l?"integer":l,enum:[a.value]}:{type:"bigint"===l?"integer":l,const:a.value};case j.ZodEnum:return{type:"string",enum:Array.from(a.values)};case j.ZodNativeEnum:let m,n,o;return m=a.values,{type:1===(o=Array.from(new Set((n=Object.keys(a.values).filter(a=>"number"!=typeof m[m[a]]).map(a=>m[a])).map(a=>typeof a)))).length?"string"===o[0]?"string":"number":["string","number"],enum:n};case j.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(a.innerType._def.typeName)&&(!a.innerType._def.checks||!a.innerType._def.checks.length))return"openApi3"===c.target?{type:cu[a.innerType._def.typeName],nullable:!0}:{type:[cu[a.innerType._def.typeName],"null"]};if("openApi3"===c.target){let b=cw(a.innerType._def,{...c,currentPath:[...c.currentPath]});return b&&"$ref"in b?{allOf:[b],nullable:!0}:b&&{...b,nullable:!0}}let p=cw(a.innerType._def,{...c,currentPath:[...c.currentPath,"anyOf","0"]});return p&&{anyOf:[p,{type:"null"}]};case j.ZodOptional:if(c.currentPath.toString()===c.propertyPath?.toString())return cw(a.innerType._def,c);let q=cw(a.innerType._def,{...c,currentPath:[...c.currentPath,"anyOf","1"]});return q?{anyOf:[{not:ca(c)},q]}:ca(c);case j.ZodMap:if("record"===c.mapStrategy)return ct(a,c);return{type:"array",maxItems:125,items:{type:"array",items:[cw(a.keyType._def,{...c,currentPath:[...c.currentPath,"items","items","0"]})||ca(c),cw(a.valueType._def,{...c,currentPath:[...c.currentPath,"items","items","1"]})||ca(c)],minItems:2,maxItems:2}};case j.ZodSet:let r;return r={type:"array",uniqueItems:!0,items:cw(a.valueType._def,{...c,currentPath:[...c.currentPath,"items"]})},a.minSize&&b8(r,"minItems",a.minSize.value,a.minSize.message,c),a.maxSize&&b8(r,"maxItems",a.maxSize.value,a.maxSize.message,c),r;case j.ZodLazy:return()=>a.getter()._def;case j.ZodPromise:return cw(a.type._def,c);case j.ZodNaN:case j.ZodNever:return"openAi"===c.target?void 0:{not:ca({...c,currentPath:[...c.currentPath,"not"]})};case j.ZodEffects:return"input"===c.effectStrategy?cw(a.schema._def,c):ca(c);case j.ZodAny:case j.ZodUnknown:return ca(c);case j.ZodDefault:return{...cw(a.innerType._def,c),default:a.defaultValue()};case j.ZodBranded:return cb(a,c);case j.ZodReadonly:case j.ZodCatch:return cw(a.innerType._def,c);case j.ZodPipeline:if("input"===c.pipeStrategy)return cw(a.in._def,c);if("output"===c.pipeStrategy)return cw(a.out._def,c);let s=cw(a.in._def,{...c,currentPath:[...c.currentPath,"allOf","0"]}),t=cw(a.out._def,{...c,currentPath:[...c.currentPath,"allOf",s?"1":"0"]});return{allOf:[s,t].filter(a=>void 0!==a)};case j.ZodFunction:case j.ZodVoid:case j.ZodSymbol:default:return}})(a,a.typeName,b),g="function"==typeof f?cw(f(),b):f;if(g&&cy(a,b,g),b.postProcess){let c=b.postProcess(g,a,b);return e.jsonSchema=g,c}return e.jsonSchema=g,g}let cx=(a,b)=>{switch(b.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:b9(b.currentPath,a.path)};case"none":case"seen":if(a.path.length<b.currentPath.length&&a.path.every((a,c)=>b.currentPath[c]===a))return console.warn(`Recursive reference detected at ${b.currentPath.join("/")}! Defaulting to any`),ca(b);return"seen"===b.$refStrategy?ca(b):void 0}},cy=(a,b,c)=>(a.description&&(c.description=a.description,b.markdownDescription&&(c.markdownDescription=a.description)),c);var cz={code:"0",name:"text",parse:a=>{if("string"!=typeof a)throw Error('"text" parts expect a string value.');return{type:"text",value:a}}},cA={code:"1",name:"function_call",parse:a=>{if(null==a||"object"!=typeof a||!("function_call"in a)||"object"!=typeof a.function_call||null==a.function_call||!("name"in a.function_call)||!("arguments"in a.function_call)||"string"!=typeof a.function_call.name||"string"!=typeof a.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:a}}},cB={code:"2",name:"data",parse:a=>{if(!Array.isArray(a))throw Error('"data" parts expect an array value.');return{type:"data",value:a}}},cC={code:"3",name:"error",parse:a=>{if("string"!=typeof a)throw Error('"error" parts expect a string value.');return{type:"error",value:a}}},cD={code:"4",name:"assistant_message",parse:a=>{if(null==a||"object"!=typeof a||!("id"in a)||!("role"in a)||!("content"in a)||"string"!=typeof a.id||"string"!=typeof a.role||"assistant"!==a.role||!Array.isArray(a.content)||!a.content.every(a=>null!=a&&"object"==typeof a&&"type"in a&&"text"===a.type&&"text"in a&&null!=a.text&&"object"==typeof a.text&&"value"in a.text&&"string"==typeof a.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:a}}},cE={code:"5",name:"assistant_control_data",parse:a=>{if(null==a||"object"!=typeof a||!("threadId"in a)||!("messageId"in a)||"string"!=typeof a.threadId||"string"!=typeof a.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:a.threadId,messageId:a.messageId}}}},cF={code:"6",name:"data_message",parse:a=>{if(null==a||"object"!=typeof a||!("role"in a)||!("data"in a)||"string"!=typeof a.role||"data"!==a.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:a}}},cG={code:"7",name:"tool_calls",parse:a=>{if(null==a||"object"!=typeof a||!("tool_calls"in a)||"object"!=typeof a.tool_calls||null==a.tool_calls||!Array.isArray(a.tool_calls)||a.tool_calls.some(a=>null==a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id||!("type"in a)||"string"!=typeof a.type||!("function"in a)||null==a.function||"object"!=typeof a.function||!("arguments"in a.function)||"string"!=typeof a.function.name||"string"!=typeof a.function.arguments))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:a}}},cH={code:"8",name:"message_annotations",parse:a=>{if(!Array.isArray(a))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:a}}},cI={code:"9",name:"tool_call",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("toolName"in a)||"string"!=typeof a.toolName||!("args"in a)||"object"!=typeof a.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:a}}},cJ={code:"a",name:"tool_result",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("result"in a))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:a}}},cK={code:"b",name:"tool_call_streaming_start",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("toolName"in a)||"string"!=typeof a.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:a}}},cL={code:"c",name:"tool_call_delta",parse:a=>{if(null==a||"object"!=typeof a||!("toolCallId"in a)||"string"!=typeof a.toolCallId||!("argsTextDelta"in a)||"string"!=typeof a.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:a}}},cM={code:"d",name:"finish_message",parse:a=>{if(null==a||"object"!=typeof a||!("finishReason"in a)||"string"!=typeof a.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let b={finishReason:a.finishReason};return"usage"in a&&null!=a.usage&&"object"==typeof a.usage&&"promptTokens"in a.usage&&"completionTokens"in a.usage&&(b.usage={promptTokens:"number"==typeof a.usage.promptTokens?a.usage.promptTokens:NaN,completionTokens:"number"==typeof a.usage.completionTokens?a.usage.completionTokens:NaN}),{type:"finish_message",value:b}}},cN={code:"e",name:"finish_step",parse:a=>{if(null==a||"object"!=typeof a||!("finishReason"in a)||"string"!=typeof a.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let b={finishReason:a.finishReason,isContinued:!1};return"usage"in a&&null!=a.usage&&"object"==typeof a.usage&&"promptTokens"in a.usage&&"completionTokens"in a.usage&&(b.usage={promptTokens:"number"==typeof a.usage.promptTokens?a.usage.promptTokens:NaN,completionTokens:"number"==typeof a.usage.completionTokens?a.usage.completionTokens:NaN}),"isContinued"in a&&"boolean"==typeof a.isContinued&&(b.isContinued=a.isContinued),{type:"finish_step",value:b}}},cO=[cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN];cz.code,cA.code,cB.code,cC.code,cD.code,cE.code,cF.code,cG.code,cH.code,cI.code,cJ.code,cK.code,cL.code,cM.code,cN.code,cz.name,cz.code,cA.name,cA.code,cB.name,cB.code,cC.name,cC.code,cD.name,cD.code,cE.name,cE.code,cF.name,cF.code,cG.name,cG.code,cH.name,cH.code,cI.name,cI.code,cJ.name,cJ.code,cK.name,cK.code,cL.name,cL.code,cM.name,cM.code,cN.name,cN.code,cO.map(a=>a.code);var cP=Symbol.for("vercel.ai.schema");function cQ(a){var b;return"object"==typeof a&&null!==a&&cP in a&&!0===a[cP]&&"jsonSchema"in a&&"validate"in a?a:function(a,{validate:b}={}){return{[cP]:!0,_type:void 0,[b2]:!0,jsonSchema:a,validate:b}}(((a,b)=>{let c,d,e=(d=void 0!==(c="string"==typeof b?{...b6,name:b}:{...b6,...b}).name?[...c.basePath,c.definitionPath,c.name]:c.basePath,{...c,flags:{hasReferencedOpenAiAnyType:!1},currentPath:d,propertyPath:void 0,seen:new Map(Object.entries(c.definitions).map(([a,b])=>[b._def,{def:b._def,path:[...c.basePath,c.definitionPath,a],jsonSchema:void 0}]))}),f="object"==typeof b&&b.definitions?Object.entries(b.definitions).reduce((a,[b,c])=>({...a,[b]:cw(c._def,{...e,currentPath:[...e.basePath,e.definitionPath,b]},!0)??ca(e)}),{}):void 0,g="string"==typeof b?b:b?.nameStrategy==="title"?void 0:b?.name,h=cw(a._def,void 0===g?e:{...e,currentPath:[...e.basePath,e.definitionPath,g]},!1)??ca(e),i="object"==typeof b&&void 0!==b.name&&"title"===b.nameStrategy?b.name:void 0;void 0!==i&&(h.title=i),e.flags.hasReferencedOpenAiAnyType&&(f||(f={}),f[e.openAiAnyTypeName]||(f[e.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===e.$refStrategy?"1":[...e.basePath,e.definitionPath,e.openAiAnyTypeName].join("/")}}));let j=void 0===g?f?{...h,[e.definitionPath]:f}:h:{$ref:[..."relative"===e.$refStrategy?[]:e.basePath,e.definitionPath,g].join("/"),[e.definitionPath]:{...f,[g]:h}};return"jsonSchema7"===e.target?j.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===e.target||"openAi"===e.target)&&(j.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===e.target&&("anyOf"in j||"oneOf"in j||"allOf"in j||"type"in j&&Array.isArray(j.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),j})(b=a),{validate:a=>{let c=b.safeParse(a);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}})}var cR="vercel.ai.error",cS=Symbol.for(cR),cT=class a extends Error{constructor({name:a,message:b,cause:c}){super(b),this[m]=!0,this.name=a,this.cause=c}static isInstance(b){return a.hasMarker(b,cR)}static hasMarker(a,b){let c=Symbol.for(b);return null!=a&&"object"==typeof a&&c in a&&"boolean"==typeof a[c]&&!0===a[c]}toJSON(){return{name:this.name,message:this.message}}};m=cS;var cU=cT,cV="AI_APICallError",cW=`vercel.ai.error.${cV}`,cX=Symbol.for(cW),cY=class extends cU{constructor({message:a,url:b,requestBodyValues:c,statusCode:d,responseHeaders:e,responseBody:f,cause:g,isRetryable:h=null!=d&&(408===d||409===d||429===d||d>=500),data:i}){super({name:cV,message:a,cause:g}),this[n]=!0,this.url=b,this.requestBodyValues=c,this.statusCode=d,this.responseHeaders=e,this.responseBody=f,this.isRetryable=h,this.data=i}static isInstance(a){return cU.hasMarker(a,cW)}static isAPICallError(a){return a instanceof Error&&a.name===cV&&"string"==typeof a.url&&"object"==typeof a.requestBodyValues&&(null==a.statusCode||"number"==typeof a.statusCode)&&(null==a.responseHeaders||"object"==typeof a.responseHeaders)&&(null==a.responseBody||"string"==typeof a.responseBody)&&(null==a.cause||"object"==typeof a.cause)&&"boolean"==typeof a.isRetryable&&(null==a.data||"object"==typeof a.data)}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};function cZ(a){return null==a?"unknown error":"string"==typeof a?a:a instanceof Error?a.message:JSON.stringify(a)}n=cX,Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError");var c$="AI_InvalidArgumentError",c_=`vercel.ai.error.${c$}`,c0=Symbol.for(c_),c1=class extends cU{constructor({message:a,cause:b,argument:c}){super({name:c$,message:a,cause:b}),this[o]=!0,this.argument=c}static isInstance(a){return cU.hasMarker(a,c_)}};o=c0;var c2="AI_InvalidPromptError",c3=`vercel.ai.error.${c2}`,c4=Symbol.for(c3),c5=class extends cU{constructor({prompt:a,message:b,cause:c}){super({name:c2,message:`Invalid prompt: ${b}`,cause:c}),this[p]=!0,this.prompt=a}static isInstance(a){return cU.hasMarker(a,c3)}static isInvalidPromptError(a){return a instanceof Error&&a.name===c2&&null!=prompt}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};p=c4,Symbol.for("vercel.ai.error.AI_InvalidResponseDataError");var c6="AI_JSONParseError",c7=`vercel.ai.error.${c6}`,c8=Symbol.for(c7),c9=class extends cU{constructor({text:a,cause:b}){super({name:c6,message:`JSON parsing failed: Text: ${a}.
Error message: ${cZ(b)}`,cause:b}),this[q]=!0,this.text=a}static isInstance(a){return cU.hasMarker(a,c7)}static isJSONParseError(a){return a instanceof Error&&a.name===c6&&"text"in a&&"string"==typeof a.text}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};q=c8,Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError"),Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError");var da="AI_TypeValidationError",db=`vercel.ai.error.${da}`,dc=Symbol.for(db),dd=class a extends cU{constructor({value:a,cause:b}){super({name:da,message:`Type validation failed: Value: ${JSON.stringify(a)}.
Error message: ${cZ(b)}`,cause:b}),this[r]=!0,this.value=a}static isInstance(a){return cU.hasMarker(a,db)}static wrap({value:b,cause:c}){return a.isInstance(c)&&c.value===b?c:new a({value:b,cause:c})}static isTypeValidationError(a){return a instanceof Error&&a.name===da}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};r=dc;Symbol.for("vercel.ai.error.AI_UnsupportedFunctionalityError");TransformStream;var de=({prefix:a,size:b=7,alphabet:c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:d="-"}={})=>{let e=b0(c,b);if(null==a)return e;if(c.includes(d))throw new c1({argument:"separator",message:`The separator "${d}" must not be part of the alphabet "${c}".`});return b=>`${a}${d}${e(b)}`};de();var df=Symbol.for("vercel.ai.validator");function dg({value:a,schema:b}){var c;let d="object"==typeof b&&null!==b&&df in b&&!0===b[df]&&"validate"in b?b:(c=b,{[df]:!0,validate:a=>{let b=c.safeParse(a);return b.success?{success:!0,value:b.data}:{success:!1,error:b.error}}});try{if(null==d.validate)return{success:!0,value:a};let b=d.validate(a);if(b.success)return b;return{success:!1,error:dd.wrap({value:a,cause:b.error})}}catch(b){return{success:!1,error:dd.wrap({value:a,cause:b})}}}var{btoa:dh,atob:di}=globalThis;function dj(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCodePoint(a[c]);return dh(b)}var dk=a.i(34381),dl=a.i(72721),bS=bS,dm=Object.defineProperty,dn=(a,b)=>{for(var c in b)dm(a,c,{get:b[c],enumerable:!0})};async function dp(a){return void 0===a?Promise.resolve():new Promise(b=>setTimeout(b,a))}var dq="AI_RetryError",dr=`vercel.ai.error.${dq}`,ds=Symbol.for(dr),dt=class extends cU{constructor({message:a,reason:b,errors:c}){super({name:dq,message:a}),this[s]=!0,this.reason=b,this.errors=c,this.lastError=c[c.length-1]}static isInstance(a){return cU.hasMarker(a,dr)}static isRetryError(a){return a instanceof Error&&a.name===dq&&"string"==typeof a.reason&&Array.isArray(a.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};async function du(a,{maxRetries:b,delayInMs:c,backoffFactor:d},e=[]){try{return await a()}catch(i){if(i instanceof Error&&("AbortError"===i.name||"TimeoutError"===i.name)||0===b)throw i;let f=null==i?"unknown error":"string"==typeof i?i:i instanceof Error?i.message:JSON.stringify(i),g=[...e,i],h=g.length;if(h>b)throw new dt({message:`Failed after ${h} attempts. Last error: ${f}`,reason:"maxRetriesExceeded",errors:g});if(i instanceof Error&&cY.isAPICallError(i)&&!0===i.isRetryable&&h<=b)return await dp(c),du(a,{maxRetries:b,delayInMs:d*c,backoffFactor:d},g);if(1===h)throw i;throw new dt({message:`Failed after ${h} attempts with non-retryable error: '${f}'`,reason:"errorNotRetryable",errors:g})}}function dv({operationId:a,telemetry:b}){return{"operation.name":`${a}${(null==b?void 0:b.functionId)!=null?` ${b.functionId}`:""}`,"resource.name":null==b?void 0:b.functionId,"ai.operationId":a,"ai.telemetry.functionId":null==b?void 0:b.functionId}}s=ds;var dw={startSpan:()=>dx,startActiveSpan:(a,b,c,d)=>"function"==typeof b?b(dx):"function"==typeof c?c(dx):"function"==typeof d?d(dx):void 0},dx={spanContext:()=>dy,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},dy={traceId:"",spanId:"",traceFlags:0};function dz({name:a,tracer:b,attributes:c,fn:d,endWhenDone:e=!0}){return b.startActiveSpan(a,{attributes:c},async a=>{try{let b=await d(a);return e&&a.end(),b}catch(b){try{b instanceof Error?(a.recordException({name:b.name,message:b.message,stack:b.stack}),a.setStatus({code:dl.SpanStatusCode.ERROR,message:b.message})):a.setStatus({code:dl.SpanStatusCode.ERROR})}finally{a.end()}throw b}})}function dA({telemetry:a,attributes:b}){return(null==a?void 0:a.isEnabled)!==!0?{}:Object.entries(b).reduce((b,[c,d])=>{if(void 0===d)return b;if("object"==typeof d&&"input"in d&&"function"==typeof d.input){if((null==a?void 0:a.recordInputs)===!1)return b;let e=d.input();return void 0===e?b:{...b,[c]:e}}if("object"==typeof d&&"output"in d&&"function"==typeof d.output){if((null==a?void 0:a.recordOutputs)===!1)return b;let e=d.output();return void 0===e?b:{...b,[c]:e}}return{...b,[c]:d}},{})}var dB="AI_DownloadError",dC=`vercel.ai.error.${dB}`,dD=Symbol.for(dC),dE=class extends cU{constructor({url:a,statusCode:b,statusText:c,cause:d,message:e=null==d?`Failed to download ${a}: ${b} ${c}`:`Failed to download ${a}: ${d}`}){super({name:dB,message:e,cause:d}),this[t]=!0,this.url=a,this.statusCode=b,this.statusText=c}static isInstance(a){return cU.hasMarker(a,dC)}static isDownloadError(a){return a instanceof Error&&a.name===dB&&"string"==typeof a.url&&(null==a.statusCode||"number"==typeof a.statusCode)&&(null==a.statusText||"string"==typeof a.statusText)}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};async function dF({url:a,fetchImplementation:b=fetch}){var c;let d=a.toString();try{let a=await b(d);if(!a.ok)throw new dE({url:d,statusCode:a.status,statusText:a.statusText});return{data:new Uint8Array(await a.arrayBuffer()),mimeType:null!=(c=a.headers.get("content-type"))?c:void 0}}catch(a){if(dE.isInstance(a))throw a;throw new dE({url:d,cause:a})}}t=dD;var dG=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}],dH="AI_InvalidDataContentError",dI=`vercel.ai.error.${dH}`,dJ=Symbol.for(dI),dK=class extends cU{constructor({content:a,cause:b,message:c=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof a}.`}){super({name:dH,message:c,cause:b}),this[u]=!0,this.content=a}static isInstance(a){return cU.hasMarker(a,dI)}static isInvalidDataContentError(a){return a instanceof Error&&a.name===dH&&null!=a.content}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};u=dJ;var dL=bS.union([bS.string(),bS.instanceof(Uint8Array),bS.instanceof(ArrayBuffer),bS.custom(a=>{var b,c;return null!=(c=null==(b=globalThis.Buffer)?void 0:b.isBuffer(a))&&c},{message:"Must be a Buffer"})]);function dM(a){if(a instanceof Uint8Array)return a;if("string"==typeof a)try{let b;return b=di(a.replace(/-/g,"+").replace(/_/g,"/")),Uint8Array.from(b,a=>a.codePointAt(0))}catch(b){throw new dK({message:"Invalid data content. Content string is not a base64-encoded media.",content:a,cause:b})}if(a instanceof ArrayBuffer)return new Uint8Array(a);throw new dK({content:a})}var dN="AI_InvalidMessageRoleError",dO=`vercel.ai.error.${dN}`,dP=Symbol.for(dO),dQ=class extends cU{constructor({role:a,message:b=`Invalid message role: '${a}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:dN,message:b}),this[v]=!0,this.role=a}static isInstance(a){return cU.hasMarker(a,dO)}static isInvalidMessageRoleError(a){return a instanceof Error&&a.name===dN&&"string"==typeof a.role}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};async function dR({prompt:a,modelSupportsImageUrls:b=!0,modelSupportsUrl:c=()=>!1,downloadImplementation:d=dF}){let e=await dS(a.messages,d,b,c);return[...null!=a.system?[{role:"system",content:a.system}]:[],...a.messages.map(a=>(function(a,b){let c=a.role;switch(c){case"system":return{role:"system",content:a.content,providerMetadata:a.experimental_providerMetadata};case"user":if("string"==typeof a.content)return{role:"user",content:[{type:"text",text:a.content}],providerMetadata:a.experimental_providerMetadata};return{role:"user",content:a.content.map(a=>(function(a,b){let c,d,e;if("text"===a.type)return{type:"text",text:a.text,providerMetadata:a.experimental_providerMetadata};let f=a.mimeType,g=a.type;switch(g){case"image":c=a.image;break;case"file":c=a.data;break;default:throw Error(`Unsupported part type: ${g}`)}try{d="string"==typeof c?new URL(c):c}catch(a){d=c}if(d instanceof URL)if("data:"===d.protocol){let{mimeType:a,base64Content:b}=function(a){try{let[b,c]=a.split(",");return{mimeType:b.split(";")[0].split(":")[1],base64Content:c}}catch(a){return{mimeType:void 0,base64Content:void 0}}}(d.toString());if(null==a||null==b)throw Error(`Invalid data URL format in part ${g}`);f=a,e=dM(b)}else{let a=b[d.toString()];a?(e=a.data,null!=f||(f=a.mimeType)):e=d}else e=dM(d);switch(g){case"image":return null==f&&e instanceof Uint8Array&&(f=function(a){for(let{bytes:b,mimeType:c}of dG)if(a.length>=b.length&&b.every((b,c)=>a[c]===b))return c}(e)),{type:"image",image:e,mimeType:f,providerMetadata:a.experimental_providerMetadata};case"file":var h;if(null==f)throw Error("Mime type is missing for file part");return{type:"file",data:e instanceof Uint8Array?"string"==typeof(h=e)?h:h instanceof ArrayBuffer?dj(new Uint8Array(h)):dj(h):e,mimeType:f,providerMetadata:a.experimental_providerMetadata}}})(a,b)).filter(a=>"text"!==a.type||""!==a.text),providerMetadata:a.experimental_providerMetadata};case"assistant":if("string"==typeof a.content)return{role:"assistant",content:[{type:"text",text:a.content}],providerMetadata:a.experimental_providerMetadata};return{role:"assistant",content:a.content.filter(a=>"text"!==a.type||""!==a.text).map(a=>{let{experimental_providerMetadata:b,...c}=a;return{...c,providerMetadata:b}}),providerMetadata:a.experimental_providerMetadata};case"tool":return{role:"tool",content:a.content.map(a=>({type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:a.result,content:a.experimental_content,isError:a.isError,providerMetadata:a.experimental_providerMetadata})),providerMetadata:a.experimental_providerMetadata};default:throw new dQ({role:c})}})(a,e))]}async function dS(a,b,c,d){let e=a.filter(a=>"user"===a.role).map(a=>a.content).filter(a=>Array.isArray(a)).flat().filter(a=>"image"===a.type||"file"===a.type).filter(a=>"image"!==a.type||!0!==c).map(a=>"image"===a.type?a.image:a.data).map(a=>"string"==typeof a&&(a.startsWith("http:")||a.startsWith("https:"))?new URL(a):a).filter(a=>a instanceof URL).filter(a=>!d(a));return Object.fromEntries((await Promise.all(e.map(async a=>({url:a,data:await b({url:a})})))).map(({url:a,data:b})=>[a.toString(),b]))}v=dP;var dT="AI_InvalidArgumentError",dU=`vercel.ai.error.${dT}`,dV=Symbol.for(dU),dW=class extends cU{constructor({parameter:a,value:b,message:c}){super({name:dT,message:`Invalid argument for parameter ${a}: ${c}`}),this[w]=!0,this.parameter=a,this.value=b}static isInstance(a){return cU.hasMarker(a,dU)}static isInvalidArgumentError(a){return a instanceof Error&&a.name===dT&&"string"==typeof a.parameter&&"string"==typeof a.value}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};w=dV;var dX=bS.lazy(()=>bS.union([bS.null(),bS.string(),bS.number(),bS.boolean(),bS.record(bS.string(),dX),bS.array(dX)])),dY=bS.record(bS.string(),bS.record(bS.string(),dX)),dZ=bS.array(bS.union([bS.object({type:bS.literal("text"),text:bS.string()}),bS.object({type:bS.literal("image"),data:bS.string(),mimeType:bS.string().optional()})])),d$=bS.object({type:bS.literal("text"),text:bS.string(),experimental_providerMetadata:dY.optional()}),d_=bS.object({type:bS.literal("image"),image:bS.union([dL,bS.instanceof(URL)]),mimeType:bS.string().optional(),experimental_providerMetadata:dY.optional()}),d0=bS.object({type:bS.literal("file"),data:bS.union([dL,bS.instanceof(URL)]),mimeType:bS.string(),experimental_providerMetadata:dY.optional()}),d1=bS.object({type:bS.literal("tool-call"),toolCallId:bS.string(),toolName:bS.string(),args:bS.unknown()}),d2=bS.object({type:bS.literal("tool-result"),toolCallId:bS.string(),toolName:bS.string(),result:bS.unknown(),content:dZ.optional(),isError:bS.boolean().optional(),experimental_providerMetadata:dY.optional()}),d3=bS.object({role:bS.literal("system"),content:bS.string(),experimental_providerMetadata:dY.optional()}),d4=bS.object({role:bS.literal("user"),content:bS.union([bS.string(),bS.array(bS.union([d$,d_,d0]))]),experimental_providerMetadata:dY.optional()}),d5=bS.object({role:bS.literal("assistant"),content:bS.union([bS.string(),bS.array(bS.union([d$,d1]))]),experimental_providerMetadata:dY.optional()}),d6=bS.object({role:bS.literal("tool"),content:bS.array(d2),experimental_providerMetadata:dY.optional()}),d7=bS.union([d3,d4,d5,d6]);function d8(a){return"object"==typeof a&&null!==a&&("function"===a.role||"data"===a.role||"toolInvocations"in a||"experimental_attachments"in a)?"has-ui-specific-parts":"object"==typeof a&&null!==a&&"content"in a&&(Array.isArray(a.content)||"experimental_providerMetadata"in a)?"has-core-specific-parts":"object"==typeof a&&null!==a&&"role"in a&&"content"in a&&"string"==typeof a.content&&["system","user","assistant","tool"].includes(a.role)?"message":"other"}var d9="AI_MessageConversionError",ea=`vercel.ai.error.${d9}`,eb=Symbol.for(ea),ec=class extends cU{constructor({originalMessage:a,message:b}){super({name:d9,message:b}),this[x]=!0,this.originalMessage=a}static isInstance(a){return cU.hasMarker(a,ea)}};function ed(a,{contentType:b,dataStreamVersion:c}){var d;let e=new Headers(null!=(d=null==a?void 0:a.headers)?d:{});return e.has("Content-Type")||e.set("Content-Type",b),void 0!==c&&e.set("X-Vercel-AI-Data-Stream",c),e}x=eb;Symbol.for("vercel.ai.error.AI_NoObjectGeneratedError");de({prefix:"aiobj",size:24}),de({prefix:"aiobj",size:24});var ee="AI_InvalidToolArgumentsError",ef=`vercel.ai.error.${ee}`,eg=Symbol.for(ef),eh=class extends cU{constructor({toolArgs:a,toolName:b,cause:c,message:d=`Invalid arguments for tool ${b}: ${cZ(c)}`}){super({name:ee,message:d,cause:c}),this[y]=!0,this.toolArgs=a,this.toolName=b}static isInstance(a){return cU.hasMarker(a,ef)}static isInvalidToolArgumentsError(a){return a instanceof Error&&a.name===ee&&"string"==typeof a.toolName&&"string"==typeof a.toolArgs}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};y=eg;var ei="AI_NoSuchToolError",ej=`vercel.ai.error.${ei}`,ek=Symbol.for(ej),el=class extends cU{constructor({toolName:a,availableTools:b,message:c=`Model tried to call unavailable tool '${a}'. ${void 0===b?"No tools are available.":`Available tools: ${b.join(", ")}.`}`}){super({name:ei,message:c}),this[z]=!0,this.toolName=a,this.availableTools=b}static isInstance(a){return cU.hasMarker(a,ej)}static isNoSuchToolError(a){return a instanceof Error&&a.name===ei&&"toolName"in a&&void 0!=a.toolName&&"string"==typeof a.name}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};z=ek;var em=/^([\s\S]*?)(\s+)(\S*)$/,en=de({prefix:"aitxt",size:24});async function eo({model:a,tools:b,toolChoice:c,system:d,prompt:e,messages:f,maxRetries:g,abortSignal:h,headers:i,maxAutomaticRoundtrips:j=0,maxToolRoundtrips:k=j,maxSteps:l=null!=k?k+1:1,experimental_continuationSteps:m,experimental_continueSteps:n=null!=m&&m,experimental_telemetry:o,experimental_providerMetadata:p,experimental_activeTools:q,_internal:{generateId:r=en,currentDate:s=()=>new Date}={},onStepFinish:t,...u}){if(l<1)throw new dW({parameter:"maxSteps",value:l,message:"maxSteps must be at least 1"});let v=function({model:a,settings:b,telemetry:c,headers:d}){var e;return{"ai.model.provider":a.provider,"ai.model.id":a.modelId,...Object.entries(b).reduce((a,[b,c])=>(a[`ai.settings.${b}`]=c,a),{}),...Object.entries(null!=(e=null==c?void 0:c.metadata)?e:{}).reduce((a,[b,c])=>(a[`ai.telemetry.metadata.${b}`]=c,a),{}),...Object.entries(null!=d?d:{}).reduce((a,[b,c])=>(void 0!==c&&(a[`ai.request.headers.${b}`]=c),a),{})}}({model:a,telemetry:o,headers:i,settings:{...u,maxRetries:g}}),w=function({prompt:a,tools:b}){if(null==a.prompt&&null==a.messages)throw new c5({prompt:a,message:"prompt or messages must be defined"});if(null!=a.prompt&&null!=a.messages)throw new c5({prompt:a,message:"prompt and messages cannot be defined at the same time"});if(null!=a.system&&"string"!=typeof a.system)throw new c5({prompt:a,message:"system must be a string"});if(null!=a.prompt){if("string"!=typeof a.prompt)throw new c5({prompt:a,message:"prompt must be a string"});return{type:"prompt",system:a.system,messages:[{role:"user",content:a.prompt}]}}if(null!=a.messages){let c=function(a){if(!Array.isArray(a))return"other";if(0===a.length)return"messages";let b=a.map(d8);return b.some(a=>"has-ui-specific-parts"===a)?"ui-messages":b.every(a=>"has-core-specific-parts"===a||"message"===a)?"messages":"other"}(a.messages);if("other"===c)throw new c5({prompt:a,message:"messages must be an array of CoreMessage or UIMessage"});let d="ui-messages"===c?function(a,b){var c;let d=null!=(c=null==b?void 0:b.tools)?c:{},e=[];for(let b of a){let{role:a,content:c,toolInvocations:f,experimental_attachments:g}=b;switch(a){case"system":e.push({role:"system",content:c});break;case"user":e.push({role:"user",content:g?[{type:"text",text:c},...function(a){var b,c,d;let e=[];for(let f of a){let a;try{a=new URL(f.url)}catch(a){throw Error(`Invalid URL: ${f.url}`)}switch(a.protocol){case"http:":case"https:":if(null==(b=f.contentType)?void 0:b.startsWith("image/"))e.push({type:"image",image:a});else{if(!f.contentType)throw Error("If the attachment is not an image, it must specify a content type");e.push({type:"file",data:a,mimeType:f.contentType})}break;case"data:":{let a,b,g;try{[a,b]=f.url.split(","),g=a.split(";")[0].split(":")[1]}catch(a){throw Error(`Error processing data URL: ${f.url}`)}if(null==g||null==b)throw Error(`Invalid data URL format: ${f.url}`);if(null==(c=f.contentType)?void 0:c.startsWith("image/"))e.push({type:"image",image:dM(b)});else if(null==(d=f.contentType)?void 0:d.startsWith("text/"))e.push({type:"text",text:function(a){try{return new TextDecoder().decode(a)}catch(a){throw Error("Error decoding Uint8Array to text")}}(dM(b))});else{if(!f.contentType)throw Error("If the attachment is not an image or text, it must specify a content type");e.push({type:"file",data:b,mimeType:f.contentType})}break}default:throw Error(`Unsupported URL protocol: ${a.protocol}`)}}return e}(g)]:c});break;case"assistant":if(null==f){e.push({role:"assistant",content:c});break}e.push({role:"assistant",content:[{type:"text",text:c},...f.map(({toolCallId:a,toolName:b,args:c})=>({type:"tool-call",toolCallId:a,toolName:b,args:c}))]}),e.push({role:"tool",content:f.map(a=>{if(!("result"in a))throw new ec({originalMessage:b,message:"ToolInvocation must have a result: "+JSON.stringify(a)});let{toolCallId:c,toolName:e,result:f}=a,g=d[e];return(null==g?void 0:g.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:c,toolName:e,result:g.experimental_toToolResultContent(f),experimental_content:g.experimental_toToolResultContent(f)}:{type:"tool-result",toolCallId:c,toolName:e,result:f}})});break;case"function":case"data":case"tool":break;default:throw new ec({originalMessage:b,message:`Unsupported role: ${a}`})}}return e}(a.messages,{tools:b}):a.messages,e=dg({value:d,schema:bS.array(d7)});if(!e.success)throw new c5({prompt:a,message:"messages must be an array of CoreMessage or UIMessage",cause:e.error});return{type:"messages",messages:d,system:a.system}}throw Error("unreachable")}({prompt:{system:d,prompt:e,messages:f},tools:b}),x=function({isEnabled:a=!1,tracer:b}={}){return a?b||dk.trace.getTracer("ai"):dw}(o);return dz({name:"ai.generateText",attributes:dA({telemetry:o,attributes:{...dv({operationId:"ai.generateText",telemetry:o}),...v,"ai.prompt":{input:()=>JSON.stringify({system:d,prompt:e,messages:f})},"ai.settings.maxSteps":l}}),tracer:x,fn:async d=>{var e,f,j,k,m,y,z;let A,B=(({maxRetries:a=2,initialDelayInMs:b=2e3,backoffFactor:c=2}={})=>async d=>du(d,{maxRetries:a,delayInMs:b,backoffFactor:c}))({maxRetries:g}),C={type:"regular",...function({tools:a,toolChoice:b,activeTools:c}){return null!=a&&Object.keys(a).length>0?{tools:(null!=c?Object.entries(a).filter(([a])=>c.includes(a)):Object.entries(a)).map(([a,b])=>{let c=b.type;switch(c){case void 0:case"function":return{type:"function",name:a,description:b.description,parameters:cQ(b.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:a,id:b.id,args:b.args};default:throw Error(`Unsupported tool type: ${c}`)}}),toolChoice:null==b?{type:"auto"}:"string"==typeof b?{type:b}:{type:"tool",toolName:b.toolName}}:{tools:void 0,toolChoice:void 0}}({tools:b,toolChoice:c,activeTools:q})},D=function({maxTokens:a,temperature:b,topP:c,topK:d,presencePenalty:e,frequencyPenalty:f,stopSequences:g,seed:h,maxRetries:i}){if(null!=a){if(!Number.isInteger(a))throw new dW({parameter:"maxTokens",value:a,message:"maxTokens must be an integer"});if(a<1)throw new dW({parameter:"maxTokens",value:a,message:"maxTokens must be >= 1"})}if(null!=b&&"number"!=typeof b)throw new dW({parameter:"temperature",value:b,message:"temperature must be a number"});if(null!=c&&"number"!=typeof c)throw new dW({parameter:"topP",value:c,message:"topP must be a number"});if(null!=d&&"number"!=typeof d)throw new dW({parameter:"topK",value:d,message:"topK must be a number"});if(null!=e&&"number"!=typeof e)throw new dW({parameter:"presencePenalty",value:e,message:"presencePenalty must be a number"});if(null!=f&&"number"!=typeof f)throw new dW({parameter:"frequencyPenalty",value:f,message:"frequencyPenalty must be a number"});if(null!=h&&!Number.isInteger(h))throw new dW({parameter:"seed",value:h,message:"seed must be an integer"});if(null!=i){if(!Number.isInteger(i))throw new dW({parameter:"maxRetries",value:i,message:"maxRetries must be an integer"});if(i<0)throw new dW({parameter:"maxRetries",value:i,message:"maxRetries must be >= 0"})}return{maxTokens:a,temperature:null!=b?b:0,topP:c,topK:d,presencePenalty:e,frequencyPenalty:f,stopSequences:null!=g&&g.length>0?g:void 0,seed:h,maxRetries:null!=i?i:2}}(u),E=[],F=[],G=0,H=[],I="",J=[],K={completionTokens:0,promptTokens:0,totalTokens:0},L="initial";do{1===G&&(w.type="messages");let c=0===G?w.type:"messages",d=await dR({prompt:{type:c,system:w.system,messages:[...w.messages,...H]},modelSupportsImageUrls:a.supportsImageUrls,modelSupportsUrl:a.supportsUrl});E=(null!=(e=(A=await B(()=>dz({name:"ai.generateText.doGenerate",attributes:dA({telemetry:o,attributes:{...dv({operationId:"ai.generateText.doGenerate",telemetry:o}),...v,"ai.prompt.format":{input:()=>c},"ai.prompt.messages":{input:()=>JSON.stringify(d)},"ai.prompt.tools":{input:()=>{var a;return null==(a=C.tools)?void 0:a.map(a=>JSON.stringify(a))}},"ai.prompt.toolChoice":{input:()=>null!=C.toolChoice?JSON.stringify(C.toolChoice):void 0},"gen_ai.system":a.provider,"gen_ai.request.model":a.modelId,"gen_ai.request.frequency_penalty":u.frequencyPenalty,"gen_ai.request.max_tokens":u.maxTokens,"gen_ai.request.presence_penalty":u.presencePenalty,"gen_ai.request.stop_sequences":u.stopSequences,"gen_ai.request.temperature":u.temperature,"gen_ai.request.top_k":u.topK,"gen_ai.request.top_p":u.topP}}),tracer:x,fn:async b=>{var e,f,g,j,k,l;let m=await a.doGenerate({mode:C,...D,inputFormat:c,prompt:d,providerMetadata:p,abortSignal:h,headers:i}),n={id:null!=(f=null==(e=m.response)?void 0:e.id)?f:r(),timestamp:null!=(j=null==(g=m.response)?void 0:g.timestamp)?j:s(),modelId:null!=(l=null==(k=m.response)?void 0:k.modelId)?l:a.modelId};return b.setAttributes(dA({telemetry:o,attributes:{"ai.response.finishReason":m.finishReason,"ai.response.text":{output:()=>m.text},"ai.response.toolCalls":{output:()=>JSON.stringify(m.toolCalls)},"ai.response.id":n.id,"ai.response.model":n.modelId,"ai.response.timestamp":n.timestamp.toISOString(),"ai.usage.promptTokens":m.usage.promptTokens,"ai.usage.completionTokens":m.usage.completionTokens,"ai.finishReason":m.finishReason,"ai.result.text":{output:()=>m.text},"ai.result.toolCalls":{output:()=>JSON.stringify(m.toolCalls)},"gen_ai.response.finish_reasons":[m.finishReason],"gen_ai.response.id":n.id,"gen_ai.response.model":n.modelId,"gen_ai.usage.input_tokens":m.usage.promptTokens,"gen_ai.usage.output_tokens":m.usage.completionTokens}})),{...m,response:n}}}))).toolCalls)?e:[]).map(a=>(function({toolCall:a,tools:b}){let c=a.toolName;if(null==b)throw new el({toolName:a.toolName});let d=b[c];if(null==d)throw new el({toolName:a.toolName,availableTools:Object.keys(b)});let e=cQ(d.parameters),f=""===a.args.trim()?dg({value:{},schema:e}):function({text:a,schema:b}){try{let c=b1.default.parse(a);if(null==b)return{success:!0,value:c};return dg({value:c,schema:b})}catch(b){return{success:!1,error:c9.isJSONParseError(b)?b:new c9({text:a,cause:b})}}}({text:a.args,schema:e});if(!1===f.success)throw new eh({toolName:c,toolArgs:a.args,cause:f.error});return{type:"tool-call",toolCallId:a.toolCallId,toolName:c,args:f.value}})({toolCall:a,tools:b})),F=null==b?[]:await ep({toolCalls:E,tools:b,tracer:x,telemetry:o,abortSignal:h});let g={promptTokens:(z=A.usage).promptTokens,completionTokens:z.completionTokens,totalTokens:z.promptTokens+z.completionTokens};K.completionTokens+=g.completionTokens,K.promptTokens+=g.promptTokens,K.totalTokens+=g.totalTokens;let m="done";++G<l&&(n&&"length"===A.finishReason&&0===E.length?m="continue":E.length>0&&F.length===E.length&&(m="tool-result"));let q=null!=(f=A.text)?f:"",y="continue"===L&&I.trimEnd()!==I?q.trimStart():q,M="continue"===m?function(a){let b,c=(b=a.match(em))?{prefix:b[1],whitespace:b[2],suffix:b[3]}:void 0;return c?c.prefix+c.whitespace:a}(y):y;if(I="continue"===m||"continue"===L?I+M:M,"continue"===L){let a=H[H.length-1];"string"==typeof a.content?a.content+=M:a.content.push({text:M,type:"text"})}else H.push(...function({text:a="",tools:b,toolCalls:c,toolResults:d}){let e=[];return e.push({role:"assistant",content:[{type:"text",text:a},...c]}),d.length>0&&e.push({role:"tool",content:d.map(a=>{let c=b[a.toolName];return(null==c?void 0:c.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:c.experimental_toToolResultContent(a.result),experimental_content:c.experimental_toToolResultContent(a.result)}:{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:a.result}})}),e}({text:I,tools:null!=b?b:{},toolCalls:E,toolResults:F}));let N={stepType:L,text:M,toolCalls:E,toolResults:F,finishReason:A.finishReason,usage:g,warnings:A.warnings,logprobs:A.logprobs,request:null!=(j=A.request)?j:{},response:{...A.response,headers:null==(k=A.rawResponse)?void 0:k.headers,messages:JSON.parse(JSON.stringify(H))},experimental_providerMetadata:A.providerMetadata,isContinued:"continue"===m};J.push(N),await (null==t?void 0:t(N)),L=m}while("done"!==L)return d.setAttributes(dA({telemetry:o,attributes:{"ai.response.finishReason":A.finishReason,"ai.response.text":{output:()=>A.text},"ai.response.toolCalls":{output:()=>JSON.stringify(A.toolCalls)},"ai.usage.promptTokens":A.usage.promptTokens,"ai.usage.completionTokens":A.usage.completionTokens,"ai.finishReason":A.finishReason,"ai.result.text":{output:()=>A.text},"ai.result.toolCalls":{output:()=>JSON.stringify(A.toolCalls)}}})),new eq({text:I,toolCalls:E,toolResults:F,finishReason:A.finishReason,usage:K,warnings:A.warnings,request:null!=(m=A.request)?m:{},response:{...A.response,headers:null==(y=A.rawResponse)?void 0:y.headers,messages:H},logprobs:A.logprobs,responseMessages:H,steps:J,providerMetadata:A.providerMetadata})}})}async function ep({toolCalls:a,tools:b,tracer:c,telemetry:d,abortSignal:e}){return(await Promise.all(a.map(async a=>{let f=b[a.toolName];if((null==f?void 0:f.execute)==null)return;let g=await dz({name:"ai.toolCall",attributes:dA({telemetry:d,attributes:{...dv({operationId:"ai.toolCall",telemetry:d}),"ai.toolCall.name":a.toolName,"ai.toolCall.id":a.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(a.args)}}}),tracer:c,fn:async b=>{let c=await f.execute(a.args,{abortSignal:e});try{b.setAttributes(dA({telemetry:d,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(c)}}}))}catch(a){}return c}});return{toolCallId:a.toolCallId,toolName:a.toolName,args:a.args,result:g}}))).filter(a=>null!=a)}var eq=class{constructor(a){this.text=a.text,this.toolCalls=a.toolCalls,this.toolResults=a.toolResults,this.finishReason=a.finishReason,this.usage=a.usage,this.warnings=a.warnings,this.request=a.request,this.response=a.response,this.responseMessages=a.responseMessages,this.roundtrips=a.steps,this.steps=a.steps,this.experimental_providerMetadata=a.providerMetadata,this.rawResponse={headers:a.response.headers},this.logprobs=a.logprobs}};function er(a,b){let c,d,e=a.getReader(),f=b.getReader(),g=!1,h=!1;async function i(a){try{null==c&&(c=e.read());let b=await c;c=void 0,b.done?a.close():a.enqueue(b.value)}catch(b){a.error(b)}}async function j(a){try{null==d&&(d=f.read());let b=await d;d=void 0,b.done?a.close():a.enqueue(b.value)}catch(b){a.error(b)}}return new ReadableStream({async pull(a){try{if(g)return void await j(a);if(h)return void await i(a);null==c&&(c=e.read()),null==d&&(d=f.read());let{result:b,reader:k}=await Promise.race([c.then(a=>({result:a,reader:e})),d.then(a=>({result:a,reader:f}))]);b.done||a.enqueue(b.value),k===e?(c=void 0,b.done&&(await j(a),g=!0)):(d=void 0,b.done&&(h=!0,await i(a)))}catch(b){a.error(b)}},cancel(){e.cancel(),f.cancel()}})}function es(a){let b=new TextEncoder,c="",d=a||{};return new TransformStream({async start(){d.onStart&&await d.onStart()},async transform(a,e){let f="string"==typeof a?a:a.content;e.enqueue(b.encode(f)),c+=f,d.onToken&&await d.onToken(f),d.onText&&"string"==typeof a&&await d.onText(a)},async flush(){let a="experimental_onFunctionCall"in d;d.onCompletion&&await d.onCompletion(c),d.onFinal&&!a&&await d.onFinal(c)}})}function et(){let a=new TextEncoder,b=new TextDecoder;return new TransformStream({transform:async(c,d)=>{let e=b.decode(c);d.enqueue(a.encode(function(a,b){let c=cO.find(b=>b.name===a);if(!c)throw Error(`Invalid stream part type: ${a}`);return`${c.code}:${JSON.stringify(b)}
`}("text",e)))}})}function eu(a,b){return ev(a,b)}function ev(a,b){return a.pipeThrough(new TransformStream({transform:async(a,b)=>{var c;if("string"==typeof a)return void b.enqueue(a);if("event"in a){"on_chat_model_stream"===a.event&&ex(null==(c=a.data)?void 0:c.chunk,b);return}ex(a,b)}})).pipeThrough(es(b)).pipeThrough(et())}function ew(a,b){var c;let d=ev(a,null==b?void 0:b.callbacks),e=null==b?void 0:b.data,f=null==b?void 0:b.init;return new Response(e?er(e.stream,d):d,{status:null!=(c=null==f?void 0:f.status)?c:200,statusText:null==f?void 0:f.statusText,headers:ed(f,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function ex(a,b){if("string"==typeof a.content)b.enqueue(a.content);else for(let c of a.content)"text"===c.type&&b.enqueue(c.text)}function ey(a,b){let c,d,e;return(d=a[Symbol.asyncIterator](),e=(c=!0,a=>(c&&(a=a.trimStart())&&(c=!1),a)),new ReadableStream({async pull(a){var b;let{value:c,done:f}=await d.next();if(f)return void a.close();let g=e(null!=(b=c.delta)?b:"");g&&a.enqueue(g)}})).pipeThrough(es(b)).pipeThrough(et())}function ez(a,b={}){var c;let{init:d,data:e,callbacks:f}=b,g=ey(a,f);return new Response(e?er(e.stream,g):g,{status:null!=(c=null==d?void 0:d.status)?c:200,statusText:null==d?void 0:d.statusText,headers:ed(d,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}de({prefix:"aitxt",size:24}),Symbol.for("vercel.ai.error.AI_NoSuchProviderError"),new TextDecoder("utf-8"),dn({},{toAIStream:()=>eu,toDataStream:()=>ev,toDataStreamResponse:()=>ew}),dn({},{toDataStream:()=>ey,toDataStreamResponse:()=>ez}),Symbol("internal_openai_fn_messages"),Response;var eA="vercel.ai.error",eB=Symbol.for(eA),eC=class a extends Error{constructor({name:a,message:b,cause:c}){super(b),this[A]=!0,this.name=a,this.cause=c}static isInstance(b){return a.hasMarker(b,eA)}static hasMarker(a,b){let c=Symbol.for(b);return null!=a&&"object"==typeof a&&c in a&&"boolean"==typeof a[c]&&!0===a[c]}};A=eB;var eD=eC,eE="AI_APICallError",eF=`vercel.ai.error.${eE}`,eG=Symbol.for(eF),eH=class extends eD{constructor({message:a,url:b,requestBodyValues:c,statusCode:d,responseHeaders:e,responseBody:f,cause:g,isRetryable:h=null!=d&&(408===d||409===d||429===d||d>=500),data:i}){super({name:eE,message:a,cause:g}),this[B]=!0,this.url=b,this.requestBodyValues=c,this.statusCode=d,this.responseHeaders=e,this.responseBody=f,this.isRetryable=h,this.data=i}static isInstance(a){return eD.hasMarker(a,eF)}};B=eG;var eI="AI_EmptyResponseBodyError",eJ=`vercel.ai.error.${eI}`,eK=Symbol.for(eJ),eL=class extends eD{constructor({message:a="Empty response body"}={}){super({name:eI,message:a}),this[C]=!0}static isInstance(a){return eD.hasMarker(a,eJ)}};function eM(a){return null==a?"unknown error":"string"==typeof a?a:a instanceof Error?a.message:JSON.stringify(a)}C=eK;var eN="AI_InvalidArgumentError",eO=`vercel.ai.error.${eN}`,eP=Symbol.for(eO),eQ=class extends eD{constructor({message:a,cause:b,argument:c}){super({name:eN,message:a,cause:b}),this[D]=!0,this.argument=c}static isInstance(a){return eD.hasMarker(a,eO)}};D=eP;var eR="AI_InvalidPromptError",eS=`vercel.ai.error.${eR}`,eT=Symbol.for(eS),eU=class extends eD{constructor({prompt:a,message:b,cause:c}){super({name:eR,message:`Invalid prompt: ${b}`,cause:c}),this[E]=!0,this.prompt=a}static isInstance(a){return eD.hasMarker(a,eS)}};E=eT;var eV="AI_InvalidResponseDataError",eW=`vercel.ai.error.${eV}`,eX=Symbol.for(eW),eY=class extends eD{constructor({data:a,message:b=`Invalid response data: ${JSON.stringify(a)}.`}){super({name:eV,message:b}),this[F]=!0,this.data=a}static isInstance(a){return eD.hasMarker(a,eW)}};F=eX;var eZ="AI_JSONParseError",e$=`vercel.ai.error.${eZ}`,e_=Symbol.for(e$),e0=class extends eD{constructor({text:a,cause:b}){super({name:eZ,message:`JSON parsing failed: Text: ${a}.
Error message: ${eM(b)}`,cause:b}),this[G]=!0,this.text=a}static isInstance(a){return eD.hasMarker(a,e$)}};G=e_;var e1="AI_LoadAPIKeyError",e2=`vercel.ai.error.${e1}`,e3=Symbol.for(e2),e4=class extends eD{constructor({message:a}){super({name:e1,message:a}),this[H]=!0}static isInstance(a){return eD.hasMarker(a,e2)}};H=e3,Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError");var e5="AI_NoSuchModelError",e6=`vercel.ai.error.${e5}`,e7=Symbol.for(e6),e8=class extends eD{constructor({errorName:a=e5,modelId:b,modelType:c,message:d=`No such ${c}: ${b}`}){super({name:a,message:d}),this[I]=!0,this.modelId=b,this.modelType=c}static isInstance(a){return eD.hasMarker(a,e6)}};I=e7;var e9="AI_TooManyEmbeddingValuesForCallError",fa=`vercel.ai.error.${e9}`,fb=Symbol.for(fa),fc=class extends eD{constructor(a){super({name:e9,message:`Too many values for a single embedding call. The ${a.provider} model "${a.modelId}" can only embed up to ${a.maxEmbeddingsPerCall} values per call, but ${a.values.length} values were provided.`}),this[J]=!0,this.provider=a.provider,this.modelId=a.modelId,this.maxEmbeddingsPerCall=a.maxEmbeddingsPerCall,this.values=a.values}static isInstance(a){return eD.hasMarker(a,fa)}};J=fb;var fd="AI_TypeValidationError",fe=`vercel.ai.error.${fd}`,ff=Symbol.for(fe),fg=class a extends eD{constructor({value:a,cause:b}){super({name:fd,message:`Type validation failed: Value: ${JSON.stringify(a)}.
Error message: ${eM(b)}`,cause:b}),this[K]=!0,this.value=a}static isInstance(a){return eD.hasMarker(a,fe)}static wrap({value:b,cause:c}){return a.isInstance(c)&&c.value===b?c:new a({value:b,cause:c})}};K=ff;var fh="AI_UnsupportedFunctionalityError",fi=`vercel.ai.error.${fh}`,fj=Symbol.for(fi),fk=class extends eD{constructor({functionality:a,message:b=`'${a}' functionality not supported.`}){super({name:fh,message:b}),this[L]=!0,this.functionality=a}static isInstance(a){return eD.hasMarker(a,fi)}};L=fj;class fl extends Error{constructor(a,b){super(a),this.name="ParseError",this.type=b.type,this.field=b.field,this.value=b.value,this.line=b.line}}function fm(a){}class fn extends TransformStream{constructor({onError:a,onRetry:b,onComment:c}={}){let d;super({start(e){d=function(a){if("function"==typeof a)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:b=fm,onError:c=fm,onRetry:d=fm,onComment:e}=a,f="",g=!0,h,i="",j="";function k(a){if(""===a)return void(i.length>0&&b({id:h,event:j||void 0,data:i.endsWith(`
`)?i.slice(0,-1):i}),h=void 0,i="",j="");if(a.startsWith(":")){e&&e(a.slice(a.startsWith(": ")?2:1));return}let c=a.indexOf(":");if(-1!==c){let b=a.slice(0,c),d=" "===a[c+1]?2:1;l(b,a.slice(c+d),a);return}l(a,"",a)}function l(a,b,e){switch(a){case"event":j=b;break;case"data":i=`${i}${b}
`;break;case"id":h=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?d(parseInt(b,10)):c(new fl(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:e}));break;default:c(new fl(`Unknown field "${a.length>20?`${a.slice(0,20)}\u2026`:a}"`,{type:"unknown-field",field:a,value:b,line:e}))}}return{feed:function(a){let b=g?a.replace(/^\xEF\xBB\xBF/,""):a,[c,d]=function(a){let b=[],c="",d=0;for(;d<a.length;){let e=a.indexOf("\r",d),f=a.indexOf(`
`,d),g=-1;if(-1!==e&&-1!==f?g=Math.min(e,f):-1!==e?g=e===a.length-1?-1:e:-1!==f&&(g=f),-1===g){c=a.slice(d);break}{let c=a.slice(d,g);b.push(c),"\r"===a[(d=g+1)-1]&&a[d]===`
`&&d++}}return[b,c]}(`${f}${b}`);for(let a of c)k(a);f=d,g=!1},reset:function(a={}){f&&a.consume&&k(f),g=!0,h=void 0,i="",j="",f=""}}}({onEvent:a=>{e.enqueue(a)},onError(b){"terminate"===a?e.error(b):"function"==typeof a&&a(b)},onRetry:b,onComment:c})},transform(a){d.feed(a)}})}}let fo=Object.freeze({status:"aborted"});function fp(a,b,c){function d(c,d){var e;for(let f in Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(e=c._zod).traits??(e.traits=new Set),c._zod.traits.add(a),b(c,d),g.prototype)f in c||Object.defineProperty(c,f,{value:g.prototype[f].bind(c)});c._zod.constr=g,c._zod.def=d}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}let fq=Symbol("zod_brand");class fr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}let fs={};function ft(a){return a&&Object.assign(fs,a),fs}function fu(a){return a}function fv(a){return a}function fw(a){}function fx(a){throw Error()}function fy(a){}function fz(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function fA(a,b="|"){return a.map(a=>fX(a)).join(b)}function fB(a,b){return"bigint"==typeof b?b.toString():b}function fC(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function fD(a){return null==a}function fE(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function fF(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}function fG(a,b,c){Object.defineProperty(a,b,{get(){{let d=c();return a[b]=d,d}},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function fH(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function fI(a,b){return b?b.reduce((a,b)=>a?.[b],a):a}function fJ(a){let b=Object.keys(a);return Promise.all(b.map(b=>a[b])).then(a=>{let c={};for(let d=0;d<b.length;d++)c[b[d]]=a[d];return c})}function fK(a=10){let b="abcdefghijklmnopqrstuvwxyz",c="";for(let d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c}function fL(a){return JSON.stringify(a)}a.s(["$ZodAsyncError",()=>fr,"$brand",0,fq,"$constructor",()=>fp,"NEVER",0,fo,"config",()=>ft,"globalConfig",0,fs],85679);let fM=Error.captureStackTrace?Error.captureStackTrace:(...a)=>{};function fN(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let fO=fC(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function fP(a){if(!1===fN(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!1!==fN(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function fQ(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}let fR=new Set(["string","number","symbol"]),fS=new Set(["string","number","bigint","boolean","symbol","undefined"]);function fT(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fU(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function fV(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function fW(a){let b;return new Proxy({},{get:(c,d,e)=>(b??(b=a()),Reflect.get(b,d,e)),set:(c,d,e,f)=>(b??(b=a()),Reflect.set(b,d,e,f)),has:(c,d)=>(b??(b=a()),Reflect.has(b,d)),deleteProperty:(c,d)=>(b??(b=a()),Reflect.deleteProperty(b,d)),ownKeys:c=>(b??(b=a()),Reflect.ownKeys(b)),getOwnPropertyDescriptor:(c,d)=>(b??(b=a()),Reflect.getOwnPropertyDescriptor(b,d)),defineProperty:(c,d,e)=>(b??(b=a()),Reflect.defineProperty(b,d,e))})}function fX(a){return"bigint"==typeof a?a.toString()+"n":"string"==typeof a?`"${a}"`:`${a}`}function fY(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}let fZ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},f$={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function f_(a,b){let c={},d=a._zod.def;for(let a in b){if(!(a in d.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&(c[a]=d.shape[a])}return fU(a,{...a._zod.def,shape:c,checks:[]})}function f0(a,b){let c={...a._zod.def.shape},d=a._zod.def;for(let a in b){if(!(a in d.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete c[a]}return fU(a,{...a._zod.def,shape:c,checks:[]})}function f1(a,b){if(!fP(b))throw Error("Invalid input to extend: expected a plain object");let c={...a._zod.def,get shape(){let c={...a._zod.def.shape,...b};return fH(this,"shape",c),c},checks:[]};return fU(a,c)}function f2(a,b){return fU(a,{...a._zod.def,get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return fH(this,"shape",c),c},catchall:b._zod.def.catchall,checks:[]})}function f3(a,b,c){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return fU(b,{...b._zod.def,shape:e,checks:[]})}function f4(a,b,c){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return fU(b,{...b._zod.def,shape:e,checks:[]})}function f5(a,b=0){for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function f6(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function f7(a){return"string"==typeof a?a:a?.message}function f8(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=f7(a.inst?._zod.def?.error?.(a))??f7(b?.error?.(a))??f7(c.customError?.(a))??f7(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function f9(a){return a instanceof Set?"set":a instanceof Map?"map":a instanceof File?"file":"unknown"}function ga(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function gb(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}function gc(a){return Object.entries(a).filter(([a,b])=>Number.isNaN(Number.parseInt(a,10))).map(a=>a[1])}class gd{constructor(...a){}}a.s(["BIGINT_FORMAT_RANGES",0,f$,"Class",()=>gd,"NUMBER_FORMAT_RANGES",0,fZ,"aborted",()=>f5,"allowsEval",0,fO,"assert",()=>fy,"assertEqual",()=>fu,"assertIs",()=>fw,"assertNever",()=>fx,"assertNotEqual",()=>fv,"assignProp",()=>fH,"cached",()=>fC,"captureStackTrace",0,fM,"cleanEnum",()=>gc,"cleanRegex",()=>fE,"clone",()=>fU,"createTransparentProxy",()=>fW,"defineLazy",()=>fG,"esc",()=>fL,"escapeRegex",()=>fT,"extend",()=>f1,"finalizeIssue",()=>f8,"floatSafeRemainder",()=>fF,"getElementAtPath",()=>fI,"getEnumValues",()=>fz,"getLengthableOrigin",()=>ga,"getParsedType",0,a=>{let b=typeof a;switch(b){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(a)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return"promise";if("undefined"!=typeof Map&&a instanceof Map)return"map";if("undefined"!=typeof Set&&a instanceof Set)return"set";if("undefined"!=typeof Date&&a instanceof Date)return"date";if("undefined"!=typeof File&&a instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${b}`)}},"getSizableOrigin",()=>f9,"isObject",()=>fN,"isPlainObject",()=>fP,"issue",()=>gb,"joinValues",()=>fA,"jsonStringifyReplacer",()=>fB,"merge",()=>f2,"normalizeParams",()=>fV,"nullish",()=>fD,"numKeys",()=>fQ,"omit",()=>f0,"optionalKeys",()=>fY,"partial",()=>f3,"pick",()=>f_,"prefixIssues",()=>f6,"primitiveTypes",0,fS,"promiseAllObject",()=>fJ,"propertyKeyTypes",0,fR,"randomString",()=>fK,"required",()=>f4,"stringifyPrimitive",()=>fX,"unwrapMessage",()=>f7],92455);let ge=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),Object.defineProperty(a,"message",{get:()=>JSON.stringify(b,fB,2),enumerable:!0}),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},gf=fp("$ZodError",ge),gg=fp("$ZodError",ge,{Parent:Error});function gh(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}}function gi(a,b){let c=b||function(a){return a.message},d={_errors:[]},e=a=>{for(let b of a.issues)if("invalid_union"===b.code&&b.errors.length)b.errors.map(a=>e({issues:a}));else if("invalid_key"===b.code)e({issues:b.issues});else if("invalid_element"===b.code)e({issues:b.issues});else if(0===b.path.length)d._errors.push(c(b));else{let a=d,e=0;for(;e<b.path.length;){let d=b.path[e];e===b.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(c(b))):a[d]=a[d]||{_errors:[]},a=a[d],e++}}};return e(a),d}function gj(a,b){let c=b||function(a){return a.message},d={errors:[]},e=(a,b=[])=>{var f,g;for(let h of a.issues)if("invalid_union"===h.code&&h.errors.length)h.errors.map(a=>e({issues:a},h.path));else if("invalid_key"===h.code)e({issues:h.issues},h.path);else if("invalid_element"===h.code)e({issues:h.issues},h.path);else{let a=[...b,...h.path];if(0===a.length){d.errors.push(c(h));continue}let e=d,i=0;for(;i<a.length;){let b=a[i],d=i===a.length-1;"string"==typeof b?(e.properties??(e.properties={}),(f=e.properties)[b]??(f[b]={errors:[]}),e=e.properties[b]):(e.items??(e.items=[]),(g=e.items)[b]??(g[b]={errors:[]}),e=e.items[b]),d&&e.errors.push(c(h)),i++}}};return e(a),d}function gk(a){let b=[];for(let c of a)"number"==typeof c?b.push(`[${c}]`):"symbol"==typeof c?b.push(`[${JSON.stringify(String(c))}]`):/[^\w$]/.test(c)?b.push(`[${JSON.stringify(c)}]`):(b.length&&b.push("."),b.push(c));return b.join("")}function gl(a){let b=[];for(let c of[...a.issues].sort((a,b)=>a.path.length-b.path.length))b.push(` ${c.message}`),c.path?.length&&b.push(`   at ${gk(c.path)}`);return b.join("\n")}a.s(["$ZodError",0,gf,"$ZodRealError",0,gg,"flattenError",()=>gh,"formatError",()=>gi,"prettifyError",()=>gl,"toDotPath",()=>gk,"treeifyError",()=>gj],13399);let gm=a=>(b,c,d,e)=>{let f=d?Object.assign(d,{async:!1}):{async:!1},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise)throw new fr;if(g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>f8(a,f,ft())));throw fM(b,e?.callee),b}return g.value},gn=gm(gg),go=a=>async(b,c,d,e)=>{let f=d?Object.assign(d,{async:!0}):{async:!0},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise&&(g=await g),g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>f8(a,f,ft())));throw fM(b,e?.callee),b}return g.value},gp=go(gg),gq=a=>(b,c,d)=>{let e=d?{...d,async:!1}:{async:!1},f=b._zod.run({value:c,issues:[]},e);if(f instanceof Promise)throw new fr;return f.issues.length?{success:!1,error:new(a??gf)(f.issues.map(a=>f8(a,e,ft())))}:{success:!0,data:f.value}},gr=gq(gg),gs=a=>async(b,c,d)=>{let e=d?Object.assign(d,{async:!0}):{async:!0},f=b._zod.run({value:c,issues:[]},e);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new a(f.issues.map(a=>f8(a,e,ft())))}:{success:!0,data:f.value}},gt=gs(gg);a.s(["_parse",0,gm,"_parseAsync",0,go,"_safeParse",0,gq,"_safeParseAsync",0,gs,"parse",0,gn,"parseAsync",0,gp,"safeParse",0,gr,"safeParseAsync",0,gt],51152);let gu=(a,b)=>{gf.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>gi(a,b)},flatten:{value:b=>gh(a,b)},addIssue:{value:b=>a.issues.push(b)},addIssues:{value:b=>a.issues.push(...b)},isEmpty:{get:()=>0===a.issues.length}})},gv=fp("ZodError",gu),gw=fp("ZodError",gu,{Parent:Error});a.s(["ZodError",0,gv,"ZodRealError",0,gw],75160);let gx=gm(gw),gy=go(gw),gz=gq(gw),gA=gs(gw);a.s(["parse",0,gx,"parseAsync",0,gy,"safeParse",0,gz,"safeParseAsync",0,gA],73590);let gB=Symbol("ZodOutput"),gC=Symbol("ZodInput");class gD{constructor(){this._map=new Map,this._idmap=new Map}add(a,...b){let c=b[0];if(this._map.set(a,c),c&&"object"==typeof c&&"id"in c){if(this._idmap.has(c.id))throw Error(`ID ${c.id} already exists in the registry`);this._idmap.set(c.id,a)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};return delete c.id,{...c,...this._map.get(a)}}return this._map.get(a)}has(a){return this._map.has(a)}}function gE(){return new gD}let gF=gE();a.s(["$ZodRegistry",()=>gD,"$input",0,gC,"$output",0,gB,"globalRegistry",0,gF,"registry",()=>gE],64166);class gG{constructor(a){this.counter=0,this.metadataRegistry=a?.metadata??gF,this.target=a?.target??"draft-2020-12",this.unrepresentable=a?.unrepresentable??"throw",this.override=a?.override??(()=>{}),this.io=a?.io??"output",this.seen=new Map}process(a,b={path:[],schemaPath:[]}){var c;let d=a._zod.def,e=this.seen.get(a);if(e)return e.count++,b.schemaPath.includes(a)&&(e.cycle=b.path),e.schema;let f={schema:{},count:1,cycle:void 0,path:b.path};this.seen.set(a,f);let g=a._zod.toJSONSchema?.();if(g)f.schema=g;else{let c={...b,schemaPath:[...b.schemaPath,a],path:b.path},e=a._zod.parent;if(e)f.ref=e,this.process(e,c),this.seen.get(e).isParent=!0;else{let b=f.schema;switch(d.type){case"string":{b.type="string";let{minimum:c,maximum:d,format:e,patterns:g,contentEncoding:h}=a._zod.bag;if("number"==typeof c&&(b.minLength=c),"number"==typeof d&&(b.maxLength=d),e&&(b.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[e]??e,""===b.format&&delete b.format),h&&(b.contentEncoding=h),g&&g.size>0){let a=[...g];1===a.length?b.pattern=a[0].source:a.length>1&&(f.schema.allOf=[...a.map(a=>({..."draft-7"===this.target?{type:"string"}:{},pattern:a.source}))])}break}case"number":{let{minimum:c,maximum:d,format:e,multipleOf:f,exclusiveMaximum:g,exclusiveMinimum:h}=a._zod.bag;"string"==typeof e&&e.includes("int")?b.type="integer":b.type="number","number"==typeof h&&(b.exclusiveMinimum=h),"number"==typeof c&&(b.minimum=c,"number"==typeof h&&(h>=c?delete b.minimum:delete b.exclusiveMinimum)),"number"==typeof g&&(b.exclusiveMaximum=g),"number"==typeof d&&(b.maximum=d,"number"==typeof g&&(g<=d?delete b.maximum:delete b.exclusiveMaximum)),"number"==typeof f&&(b.multipleOf=f);break}case"boolean":case"success":b.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":b.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":b.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:e,maximum:f}=a._zod.bag;"number"==typeof e&&(b.minItems=e),"number"==typeof f&&(b.maxItems=f),b.type="array",b.items=this.process(d.element,{...c,path:[...c.path,"items"]});break}case"object":{b.type="object",b.properties={};let a=d.shape;for(let d in a)b.properties[d]=this.process(a[d],{...c,path:[...c.path,"properties",d]});let e=new Set([...new Set(Object.keys(a))].filter(a=>{let b=d.shape[a]._zod;return"input"===this.io?void 0===b.optin:void 0===b.optout}));e.size>0&&(b.required=Array.from(e)),d.catchall?._zod.def.type==="never"?b.additionalProperties=!1:d.catchall?d.catchall&&(b.additionalProperties=this.process(d.catchall,{...c,path:[...c.path,"additionalProperties"]})):"output"===this.io&&(b.additionalProperties=!1);break}case"union":b.anyOf=d.options.map((a,b)=>this.process(a,{...c,path:[...c.path,"anyOf",b]}));break;case"intersection":{let a=this.process(d.left,{...c,path:[...c.path,"allOf",0]}),e=this.process(d.right,{...c,path:[...c.path,"allOf",1]}),f=a=>"allOf"in a&&1===Object.keys(a).length;b.allOf=[...f(a)?a.allOf:[a],...f(e)?e.allOf:[e]];break}case"tuple":{b.type="array";let e=d.items.map((a,b)=>this.process(a,{...c,path:[...c.path,"prefixItems",b]}));if("draft-2020-12"===this.target?b.prefixItems=e:b.items=e,d.rest){let a=this.process(d.rest,{...c,path:[...c.path,"items"]});"draft-2020-12"===this.target?b.items=a:b.additionalItems=a}d.rest&&(b.items=this.process(d.rest,{...c,path:[...c.path,"items"]}));let{minimum:f,maximum:g}=a._zod.bag;"number"==typeof f&&(b.minItems=f),"number"==typeof g&&(b.maxItems=g);break}case"record":b.type="object",b.propertyNames=this.process(d.keyType,{...c,path:[...c.path,"propertyNames"]}),b.additionalProperties=this.process(d.valueType,{...c,path:[...c.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let a=fz(d.entries);a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),b.enum=a;break}case"literal":{let a=[];for(let b of d.values)if(void 0===b){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof b)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else a.push(Number(b));else a.push(b);if(0===a.length);else if(1===a.length){let c=a[0];b.type=null===c?"null":typeof c,b.const=c}else a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),a.every(a=>"boolean"==typeof a)&&(b.type="string"),a.every(a=>null===a)&&(b.type="null"),b.enum=a;break}case"file":{let c={type:"string",format:"binary",contentEncoding:"binary"},{minimum:d,maximum:e,mime:f}=a._zod.bag;void 0!==d&&(c.minLength=d),void 0!==e&&(c.maxLength=e),f?1===f.length?(c.contentMediaType=f[0],Object.assign(b,c)):b.anyOf=f.map(a=>({...c,contentMediaType:a})):Object.assign(b,c);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":b.anyOf=[this.process(d.innerType,c),{type:"null"}];break;case"nonoptional":case"promise":case"optional":this.process(d.innerType,c),f.ref=d.innerType;break;case"default":this.process(d.innerType,c),f.ref=d.innerType,b.default=JSON.parse(JSON.stringify(d.defaultValue));break;case"prefault":this.process(d.innerType,c),f.ref=d.innerType,"input"===this.io&&(b._prefault=JSON.parse(JSON.stringify(d.defaultValue)));break;case"catch":{let a;this.process(d.innerType,c),f.ref=d.innerType;try{a=d.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}b.default=a;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let c=a._zod.pattern;if(!c)throw Error("Pattern not found in template literal");b.type="string",b.pattern=c.source;break}case"pipe":{let a="input"===this.io?"transform"===d.in._zod.def.type?d.out:d.in:d.out;this.process(a,c),f.ref=a;break}case"readonly":this.process(d.innerType,c),f.ref=d.innerType,b.readOnly=!0;break;case"lazy":{let b=a._zod.innerType;this.process(b,c),f.ref=b;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema")}}}let h=this.metadataRegistry.get(a);return h&&Object.assign(f.schema,h),"input"===this.io&&function a(b,c){let d=c??{seen:new Set};if(d.seen.has(b))return!1;d.seen.add(b);let e=b._zod.def;switch(e.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return a(e.element,d);case"object":for(let b in e.shape)if(a(e.shape[b],d))return!0;return!1;case"union":for(let b of e.options)if(a(b,d))return!0;return!1;case"intersection":return a(e.left,d)||a(e.right,d);case"tuple":for(let b of e.items)if(a(b,d))return!0;if(e.rest&&a(e.rest,d))return!0;return!1;case"record":case"map":return a(e.keyType,d)||a(e.valueType,d);case"set":return a(e.valueType,d);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return a(e.innerType,d);case"lazy":return a(e.getter(),d);case"transform":return!0;case"pipe":return a(e.in,d)||a(e.out,d)}throw Error(`Unknown schema type: ${e.type}`)}(a)&&(delete f.schema.examples,delete f.schema.default),"input"===this.io&&f.schema._prefault&&((c=f.schema).default??(c.default=f.schema._prefault)),delete f.schema._prefault,this.seen.get(a).schema}emit(a,b){let c={cycles:b?.cycles??"ref",reused:b?.reused??"inline",external:b?.external??void 0},d=this.seen.get(a);if(!d)throw Error("Unprocessed schema. This is a bug in Zod.");let e=a=>{let b="draft-2020-12"===this.target?"$defs":"definitions";if(c.external){let d=c.external.registry.get(a[0])?.id,e=c.external.uri??(a=>a);if(d)return{ref:e(d)};let f=a[1].defId??a[1].schema.id??`schema${this.counter++}`;return a[1].defId=f,{defId:f,ref:`${e("__shared")}#/${b}/${f}`}}if(a[1]===d)return{ref:"#"};let e=`#/${b}/`,f=a[1].schema.id??`__schema${this.counter++}`;return{defId:f,ref:e+f}},f=a=>{if(a[1].schema.$ref)return;let b=a[1],{ref:c,defId:d}=e(a);b.def={...b.schema},d&&(b.defId=d);let f=b.schema;for(let a in f)delete f[a];f.$ref=c};if("throw"===c.cycles)for(let a of this.seen.entries()){let b=a[1];if(b.cycle)throw Error(`Cycle detected: #/${b.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let b of this.seen.entries()){let d=b[1];if(a===b[0]){f(b);continue}if(c.external){let d=c.external.registry.get(b[0])?.id;if(a!==b[0]&&d){f(b);continue}}if(this.metadataRegistry.get(b[0])?.id||d.cycle||d.count>1&&"ref"===c.reused){f(b);continue}}let g=(a,b)=>{let c=this.seen.get(a),d=c.def??c.schema,e={...d};if(null===c.ref)return;let f=c.ref;if(c.ref=null,f){g(f,b);let a=this.seen.get(f).schema;a.$ref&&"draft-7"===b.target?(d.allOf=d.allOf??[],d.allOf.push(a)):(Object.assign(d,a),Object.assign(d,e))}c.isParent||this.override({zodSchema:a,jsonSchema:d,path:c.path??[]})};for(let a of[...this.seen.entries()].reverse())g(a[0],{target:this.target});let h={};if("draft-2020-12"===this.target?h.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?h.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),c.external?.uri){let b=c.external.registry.get(a)?.id;if(!b)throw Error("Schema is missing an `id` property");h.$id=c.external.uri(b)}Object.assign(h,d.def);let i=c.external?.defs??{};for(let a of this.seen.entries()){let b=a[1];b.def&&b.defId&&(i[b.defId]=b.def)}c.external||Object.keys(i).length>0&&("draft-2020-12"===this.target?h.$defs=i:h.definitions=i);try{return JSON.parse(JSON.stringify(h))}catch(a){throw Error("Error converting schema to JSON.")}}}function gH(a,b){if(a instanceof gD){let c=new gG(b),d={};for(let b of a._idmap.entries()){let[a,d]=b;c.process(d)}let e={},f={registry:a,uri:b?.uri,defs:d};for(let d of a._idmap.entries()){let[a,g]=d;e[a]=c.emit(g,{...b,external:f})}return Object.keys(d).length>0&&(e.__shared={["draft-2020-12"===c.target?"$defs":"definitions"]:d}),{schemas:e}}let c=new gG(b);return c.process(a),c.emit(a,b)}function gI(...a){return a.reduce((a,b)=>({...a,...null!=b?b:{}}),{})}function gJ(a){return Object.fromEntries([...a.headers])}a.s(["JSONSchemaGenerator",()=>gG,"toJSONSchema",()=>gH],76403);var gK=(({prefix:a,size:b=16,alphabet:c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:d="-"}={})=>{let e=()=>{let a=c.length,d=Array(b);for(let e=0;e<b;e++)d[e]=c[Math.random()*a|0];return d.join("")};if(null==a)return e;if(c.includes(d))throw new eQ({argument:"separator",message:`The separator "${d}" must not be part of the alphabet "${c}".`});return()=>`${a}${d}${e()}`})();function gL(a){return(a instanceof Error||a instanceof DOMException)&&("AbortError"===a.name||"ResponseAborted"===a.name||"TimeoutError"===a.name)}var gM=["fetch failed","failed to fetch"];function gN(a,...b){let c=new Headers(function(a){if(null==a)return{};let b={};if(a instanceof Headers)a.forEach((a,c)=>{b[c.toLowerCase()]=a});else for(let[c,d]of(Array.isArray(a)||(a=Object.entries(a)),a))null!=d&&(b[c.toLowerCase()]=d);return b}(a)),d=c.get("user-agent")||"";return c.set("user-agent",[d,...b].filter(Boolean).join(" ")),Object.fromEntries(c.entries())}function gO({apiKey:a,environmentVariableName:b,apiKeyParameterName:c="apiKey",description:d}){if("string"==typeof a)return a;if(null!=a)throw new e4({message:`${d} API key must be a string.`});if("undefined"==typeof process)throw new e4({message:`${d} API key is missing. Pass it using the '${c}' parameter. Environment variables is not supported in this environment.`});if(null==(a=process.env[b]))throw new e4({message:`${d} API key is missing. Pass it using the '${c}' parameter or the ${b} environment variable.`});if("string"!=typeof a)throw new e4({message:`${d} API key must be a string. The value of the ${b} environment variable is not a string.`});return a}function gP({settingValue:a,environmentVariableName:b}){return"string"==typeof a?a:null!=a||"undefined"==typeof process?void 0:null!=(a=process.env[b])&&"string"==typeof a?a:void 0}var gQ=/"__proto__"\s*:/,gR=/"constructor"\s*:/;function gS(a){let b=JSON.parse(a);return null===b||"object"!=typeof b||!1===gQ.test(a)&&!1===gR.test(a)?b:function(a){let b=[a];for(;b.length;){let a=b;for(let c of(b=[],a)){if(Object.prototype.hasOwnProperty.call(c,"__proto__")||Object.prototype.hasOwnProperty.call(c,"constructor")&&Object.prototype.hasOwnProperty.call(c.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let a in c){let d=c[a];d&&"object"==typeof d&&b.push(d)}}}return a}(b)}function gT(a){let{stackTraceLimit:b}=Error;try{Error.stackTraceLimit=0}catch(b){return gS(a)}try{return gS(a)}finally{Error.stackTraceLimit=b}}var gU=Symbol.for("vercel.ai.validator");function gV(a){let b;return()=>(null==b&&(b=a()),b)}async function gW({value:a,schema:b}){let c=await gX({value:a,schema:b});if(!c.success)throw fg.wrap({value:a,cause:c.error});return c.value}async function gX({value:a,schema:b}){var c;let d="object"==typeof b&&null!==b&&gU in b&&!0===b[gU]&&"validate"in b?b:"function"==typeof b?b():(c=b,{[gU]:!0,validate:async a=>{let b=await c["~standard"].validate(a);return null==b.issues?{success:!0,value:b.value}:{success:!1,error:new fg({value:a,cause:b.issues})}}});try{if(null==d.validate)return{success:!0,value:a,rawValue:a};let b=await d.validate(a);if(b.success)return{success:!0,value:b.value,rawValue:a};return{success:!1,error:fg.wrap({value:a,cause:b.error}),rawValue:a}}catch(b){return{success:!1,error:fg.wrap({value:a,cause:b}),rawValue:a}}}async function gY({text:a,schema:b}){try{let c=gT(a);if(null==b)return c;return gW({value:c,schema:b})}catch(b){if(e0.isInstance(b)||fg.isInstance(b))throw b;throw new e0({text:a,cause:b})}}async function gZ({text:a,schema:b}){try{let c=gT(a);if(null==b)return{success:!0,value:c,rawValue:c};return await gX({value:c,schema:b})}catch(b){return{success:!1,error:e0.isInstance(b)?b:new e0({text:a,cause:b}),rawValue:void 0}}}function g$(a){try{return gT(a),!0}catch(a){return!1}}async function g_({provider:a,providerOptions:b,schema:c}){if((null==b?void 0:b[a])==null)return;let d=await gX({value:b[a],schema:c});if(!d.success)throw new eQ({argument:"providerOptions",message:`invalid ${a} provider options`,cause:d.error});return d.value}var g0=()=>globalThis.fetch,g1=async({url:a,headers:b,body:c,failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g})=>g3({url:a,headers:{"Content-Type":"application/json",...b},body:{content:JSON.stringify(c),values:c},failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g}),g2=async({url:a,headers:b,formData:c,failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g})=>g3({url:a,headers:b,body:{content:c,values:Object.fromEntries(c.entries())},failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g}),g3=async({url:a,headers:b={},body:c,successfulResponseHandler:d,failedResponseHandler:e,abortSignal:f,fetch:g=g0()})=>{try{let h=await g(a,{method:"POST",headers:gN(b,"ai-sdk/provider-utils/3.0.17",function(a=globalThis){var b,c,d;return a.window?"runtime/browser":(null==(b=a.navigator)?void 0:b.userAgent)?`runtime/${a.navigator.userAgent.toLowerCase()}`:(null==(d=null==(c=a.process)?void 0:c.versions)?void 0:d.node)?`runtime/node.js/${a.process.version.substring(0)}`:a.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}()),body:c.content,signal:f}),i=gJ(h);if(!h.ok){let b;try{b=await e({response:h,url:a,requestBodyValues:c.values})}catch(b){if(gL(b)||eH.isInstance(b))throw b;throw new eH({message:"Failed to process error response",cause:b,statusCode:h.status,url:a,responseHeaders:i,requestBodyValues:c.values})}throw b.value}try{return await d({response:h,url:a,requestBodyValues:c.values})}catch(b){if(b instanceof Error&&(gL(b)||eH.isInstance(b)))throw b;throw new eH({message:"Failed to process successful response",cause:b,statusCode:h.status,url:a,responseHeaders:i,requestBodyValues:c.values})}}catch(b){throw function({error:a,url:b,requestBodyValues:c}){if(gL(a))return a;if(a instanceof TypeError&&gM.includes(a.message.toLowerCase())){let d=a.cause;if(null!=d)return new eH({message:`Cannot connect to API: ${d.message}`,cause:d,url:b,requestBodyValues:c,isRetryable:!0})}return a}({error:b,url:a,requestBodyValues:c.values})}};function g4({id:a,name:b,inputSchema:c}){return({execute:d,outputSchema:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i,...j})=>({type:"provider-defined",id:a,name:b,args:j,inputSchema:c,outputSchema:e,execute:d,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i})}function g5({id:a,name:b,inputSchema:c,outputSchema:d}){return({execute:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i,...j})=>({type:"provider-defined",id:a,name:b,args:j,inputSchema:c,outputSchema:d,execute:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i})}async function g6(a){return"function"==typeof a&&(a=a()),Promise.resolve(a)}var g7=({errorSchema:a,errorToMessage:b,isRetryable:c})=>async({response:d,url:e,requestBodyValues:f})=>{let g=await d.text(),h=gJ(d);if(""===g.trim())return{responseHeaders:h,value:new eH({message:d.statusText,url:e,requestBodyValues:f,statusCode:d.status,responseHeaders:h,responseBody:g,isRetryable:null==c?void 0:c(d)})};try{let i=await gY({text:g,schema:a});return{responseHeaders:h,value:new eH({message:b(i),url:e,requestBodyValues:f,statusCode:d.status,responseHeaders:h,responseBody:g,data:i,isRetryable:null==c?void 0:c(d,i)})}}catch(a){return{responseHeaders:h,value:new eH({message:d.statusText,url:e,requestBodyValues:f,statusCode:d.status,responseHeaders:h,responseBody:g,isRetryable:null==c?void 0:c(d)})}}},g8=a=>async({response:b})=>{let c=gJ(b);if(null==b.body)throw new eL({});return{responseHeaders:c,value:function({stream:a,schema:b}){return a.pipeThrough(new TextDecoderStream).pipeThrough(new fn).pipeThrough(new TransformStream({async transform({data:a},c){"[DONE]"!==a&&c.enqueue(await gZ({text:a,schema:b}))}}))}({stream:b.body,schema:a})}},g9=a=>async({response:b,url:c,requestBodyValues:d})=>{let e=await b.text(),f=await gZ({text:e,schema:a}),g=gJ(b);if(!f.success)throw new eH({message:"Invalid JSON response",cause:f.error,statusCode:b.status,responseHeaders:g,responseBody:e,url:c,requestBodyValues:d});return{responseHeaders:g,value:f.value,rawValue:f.rawValue}},ha=Symbol("Let zodToJsonSchema decide on which parser to use"),hb={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function hc(a,b){return hx(a.type._def,b)}var hd=void 0,he=/^[cC][^\s-]{8,}$/,hf=/^[0-9a-z]+$/,hg=/^[0-9A-HJKMNP-TV-Z]{26}$/,hh=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,hi=()=>(void 0===hd&&(hd=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),hd),hj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,hk=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hl=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hm=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hn=/^[a-zA-Z0-9_-]{21}$/,ho=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function hp(a,b){let c={type:"string"};if(a.checks)for(let d of a.checks)switch(d.kind){case"min":c.minLength="number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value;break;case"max":c.maxLength="number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value;break;case"email":switch(b.emailStrategy){case"format:email":hs(c,"email",d.message,b);break;case"format:idn-email":hs(c,"idn-email",d.message,b);break;case"pattern:zod":ht(c,hh,d.message,b)}break;case"url":hs(c,"uri",d.message,b);break;case"uuid":hs(c,"uuid",d.message,b);break;case"regex":ht(c,d.regex,d.message,b);break;case"cuid":ht(c,he,d.message,b);break;case"cuid2":ht(c,hf,d.message,b);break;case"startsWith":ht(c,RegExp(`^${hq(d.value,b)}`),d.message,b);break;case"endsWith":ht(c,RegExp(`${hq(d.value,b)}$`),d.message,b);break;case"datetime":hs(c,"date-time",d.message,b);break;case"date":hs(c,"date",d.message,b);break;case"time":hs(c,"time",d.message,b);break;case"duration":hs(c,"duration",d.message,b);break;case"length":c.minLength="number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,c.maxLength="number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value;break;case"includes":ht(c,RegExp(hq(d.value,b)),d.message,b);break;case"ip":"v6"!==d.version&&hs(c,"ipv4",d.message,b),"v4"!==d.version&&hs(c,"ipv6",d.message,b);break;case"base64url":ht(c,hm,d.message,b);break;case"jwt":ht(c,ho,d.message,b);break;case"cidr":"v6"!==d.version&&ht(c,hj,d.message,b),"v4"!==d.version&&ht(c,hk,d.message,b);break;case"emoji":ht(c,hi(),d.message,b);break;case"ulid":ht(c,hg,d.message,b);break;case"base64":switch(b.base64Strategy){case"format:binary":hs(c,"binary",d.message,b);break;case"contentEncoding:base64":c.contentEncoding="base64";break;case"pattern:zod":ht(c,hl,d.message,b)}break;case"nanoid":ht(c,hn,d.message,b)}return c}function hq(a,b){return"escape"===b.patternStrategy?function(a){let b="";for(let c=0;c<a.length;c++)hr.has(a[c])||(b+="\\"),b+=a[c];return b}(a):a}var hr=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function hs(a,b,c,d){var e;a.format||(null==(e=a.anyOf)?void 0:e.some(a=>a.format))?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format}),delete a.format),a.anyOf.push({format:b,...c&&d.errorMessages&&{errorMessage:{format:c}}})):a.format=b}function ht(a,b,c,d){var e;a.pattern||(null==(e=a.allOf)?void 0:e.some(a=>a.pattern))?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern}),delete a.pattern),a.allOf.push({pattern:hu(b,d),...c&&d.errorMessages&&{errorMessage:{pattern:c}}})):a.pattern=hu(b,d)}function hu(a,b){var c;if(!b.applyRegexFlags||!a.flags)return a.source;let d={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},e=d.i?a.source.toLowerCase():a.source,f="",g=!1,h=!1,i=!1;for(let a=0;a<e.length;a++){if(g){f+=e[a],g=!1;continue}if(d.i){if(h){if(e[a].match(/[a-z]/)){i?(f+=e[a],f+=`${e[a-2]}-${e[a]}`.toUpperCase(),i=!1):"-"===e[a+1]&&(null==(c=e[a+2])?void 0:c.match(/[a-z]/))?(f+=e[a],i=!0):f+=`${e[a]}${e[a].toUpperCase()}`;continue}}else if(e[a].match(/[a-z]/)){f+=`[${e[a]}${e[a].toUpperCase()}]`;continue}}if(d.m){if("^"===e[a]){f+=`(^|(?<=[\r
]))`;continue}else if("$"===e[a]){f+=`($|(?=[\r
]))`;continue}}if(d.s&&"."===e[a]){f+=h?`${e[a]}\r
`:`[${e[a]}\r
]`;continue}f+=e[a],"\\"===e[a]?g=!0:h&&"]"===e[a]?h=!1:h||"["!==e[a]||(h=!0)}try{new RegExp(f)}catch(c){return console.warn(`Could not convert regex pattern at ${b.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return f}function hv(a,b){var c,d,e,f,g,h;let i={type:"object",additionalProperties:null!=(c=hx(a.valueType._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]}))?c:b.allowedAdditionalProperties};if((null==(d=a.keyType)?void 0:d._def.typeName)===j.ZodString&&(null==(e=a.keyType._def.checks)?void 0:e.length)){let{type:c,...d}=hp(a.keyType._def,b);return{...i,propertyNames:d}}if((null==(f=a.keyType)?void 0:f._def.typeName)===j.ZodEnum)return{...i,propertyNames:{enum:a.keyType._def.values}};if((null==(g=a.keyType)?void 0:g._def.typeName)===j.ZodBranded&&a.keyType._def.type._def.typeName===j.ZodString&&(null==(h=a.keyType._def.type._def.checks)?void 0:h.length)){let{type:c,...d}=hc(a.keyType._def,b);return{...i,propertyNames:d}}return i}var hw={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function hx(a,b,c=!1){var d;let e=b.seen.get(a);if(b.override){let f=null==(d=b.override)?void 0:d.call(b,a,b,e,c);if(f!==ha)return f}if(e&&!c){let a=hy(e,b);if(void 0!==a)return a}let f={def:a,path:b.currentPath,jsonSchema:void 0};b.seen.set(a,f);let g=((a,b,c)=>{var d,e,f,g,h,i;switch(b){case j.ZodString:return hp(a,c);case j.ZodNumber:let k={type:"number"};if(!a.checks)return k;for(let b of a.checks)switch(b.kind){case"int":k.type="integer";break;case"min":b.inclusive?k.minimum=b.value:k.exclusiveMinimum=b.value;break;case"max":b.inclusive?k.maximum=b.value:k.exclusiveMaximum=b.value;break;case"multipleOf":k.multipleOf=b.value}return k;case j.ZodObject:return function(a,b){let c={type:"object",properties:{}},d=[],e=a.shape();for(let a in e){let f=e[a];if(void 0===f||void 0===f._def)continue;let g=function(a){try{return a.isOptional()}catch(a){return!0}}(f),h=hx(f._def,{...b,currentPath:[...b.currentPath,"properties",a],propertyPath:[...b.currentPath,"properties",a]});void 0!==h&&(c.properties[a]=h,g||d.push(a))}d.length&&(c.required=d);let f=function(a,b){if("ZodNever"!==a.catchall._def.typeName)return hx(a.catchall._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return b.allowedAdditionalProperties;case"strict":return b.rejectedAdditionalProperties;case"strip":return"strict"===b.removeAdditionalStrategy?b.allowedAdditionalProperties:b.rejectedAdditionalProperties}}(a,b);return void 0!==f&&(c.additionalProperties=f),c}(a,c);case j.ZodBigInt:let l={type:"integer",format:"int64"};if(!a.checks)return l;for(let b of a.checks)switch(b.kind){case"min":b.inclusive?l.minimum=b.value:l.exclusiveMinimum=b.value;break;case"max":b.inclusive?l.maximum=b.value:l.exclusiveMaximum=b.value;break;case"multipleOf":l.multipleOf=b.value}return l;case j.ZodBoolean:return{type:"boolean"};case j.ZodDate:return function a(b,c,d){let e=null!=d?d:c.dateStrategy;if(Array.isArray(e))return{anyOf:e.map((d,e)=>a(b,c,d))};switch(e){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var f=b;let g={type:"integer",format:"unix-time"};for(let a of f.checks)switch(a.kind){case"min":g.minimum=a.value;break;case"max":g.maximum=a.value}return g}}(a,c);case j.ZodUndefined:return{not:{}};case j.ZodNull:return{type:"null"};case j.ZodArray:let m;return m={type:"array"},(null==(f=a.type)?void 0:f._def)&&(null==(h=null==(g=a.type)?void 0:g._def)?void 0:h.typeName)!==j.ZodAny&&(m.items=hx(a.type._def,{...c,currentPath:[...c.currentPath,"items"]})),a.minLength&&(m.minItems=a.minLength.value),a.maxLength&&(m.maxItems=a.maxLength.value),a.exactLength&&(m.minItems=a.exactLength.value,m.maxItems=a.exactLength.value),m;case j.ZodUnion:case j.ZodDiscriminatedUnion:let n,o=a.options instanceof Map?Array.from(a.options.values()):a.options;if(o.every(a=>a._def.typeName in hw&&(!a._def.checks||!a._def.checks.length))){let a=o.reduce((a,b)=>{let c=hw[b._def.typeName];return c&&!a.includes(c)?[...a,c]:a},[]);return{type:a.length>1?a:a[0]}}if(o.every(a=>"ZodLiteral"===a._def.typeName&&!a.description)){let a=o.reduce((a,b)=>{let c=typeof b._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(null===b._def.value)return[...a,"null"];default:return a}},[]);if(a.length===o.length){let b=a.filter((a,b,c)=>c.indexOf(a)===b);return{type:b.length>1?b:b[0],enum:o.reduce((a,b)=>a.includes(b._def.value)?a:[...a,b._def.value],[])}}}else if(o.every(a=>"ZodEnum"===a._def.typeName))return{type:"string",enum:o.reduce((a,b)=>[...a,...b._def.values.filter(b=>!a.includes(b))],[])};return d=a,e=c,(n=(d.options instanceof Map?Array.from(d.options.values()):d.options).map((a,b)=>hx(a._def,{...e,currentPath:[...e.currentPath,"anyOf",`${b}`]})).filter(a=>!!a&&(!e.strictUnions||"object"==typeof a&&Object.keys(a).length>0))).length?{anyOf:n}:void 0;case j.ZodIntersection:let p,q;return p=[hx(a.left._def,{...c,currentPath:[...c.currentPath,"allOf","0"]}),hx(a.right._def,{...c,currentPath:[...c.currentPath,"allOf","1"]})].filter(a=>!!a),q=[],p.forEach(a=>{if((!("type"in a)||"string"!==a.type)&&"allOf"in a)q.push(...a.allOf);else{let b=a;if("additionalProperties"in a&&!1===a.additionalProperties){let{additionalProperties:c,...d}=a;b=d}q.push(b)}}),q.length?{allOf:q}:void 0;case j.ZodTuple:return a.rest?{type:"array",minItems:a.items.length,items:a.items.map((a,b)=>hx(a._def,{...c,currentPath:[...c.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[]),additionalItems:hx(a.rest._def,{...c,currentPath:[...c.currentPath,"additionalItems"]})}:{type:"array",minItems:a.items.length,maxItems:a.items.length,items:a.items.map((a,b)=>hx(a._def,{...c,currentPath:[...c.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[])};case j.ZodRecord:return hv(a,c);case j.ZodLiteral:let r;return"bigint"!=(r=typeof a.value)&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(a.value)?"array":"object"}:{type:"bigint"===r?"integer":r,const:a.value};case j.ZodEnum:return{type:"string",enum:Array.from(a.values)};case j.ZodNativeEnum:let s,t,u;return s=a.values,{type:1===(u=Array.from(new Set((t=Object.keys(a.values).filter(a=>"number"!=typeof s[s[a]]).map(a=>s[a])).map(a=>typeof a)))).length?"string"===u[0]?"string":"number":["string","number"],enum:t};case j.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(a.innerType._def.typeName)&&(!a.innerType._def.checks||!a.innerType._def.checks.length))return{type:[hw[a.innerType._def.typeName],"null"]};let v=hx(a.innerType._def,{...c,currentPath:[...c.currentPath,"anyOf","0"]});return v&&{anyOf:[v,{type:"null"}]};case j.ZodOptional:if(c.currentPath.toString()===(null==(i=c.propertyPath)?void 0:i.toString()))return hx(a.innerType._def,c);let w=hx(a.innerType._def,{...c,currentPath:[...c.currentPath,"anyOf","1"]});return w?{anyOf:[{not:{}},w]}:{};case j.ZodMap:if("record"===c.mapStrategy)return hv(a,c);return{type:"array",maxItems:125,items:{type:"array",items:[hx(a.keyType._def,{...c,currentPath:[...c.currentPath,"items","items","0"]})||{},hx(a.valueType._def,{...c,currentPath:[...c.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case j.ZodSet:let x;return x={type:"array",uniqueItems:!0,items:hx(a.valueType._def,{...c,currentPath:[...c.currentPath,"items"]})},a.minSize&&(x.minItems=a.minSize.value),a.maxSize&&(x.maxItems=a.maxSize.value),x;case j.ZodLazy:return()=>a.getter()._def;case j.ZodPromise:return hx(a.type._def,c);case j.ZodNaN:case j.ZodNever:return{not:{}};case j.ZodEffects:return"input"===c.effectStrategy?hx(a.schema._def,c):{};case j.ZodAny:case j.ZodUnknown:return{};case j.ZodDefault:return{...hx(a.innerType._def,c),default:a.defaultValue()};case j.ZodBranded:return hc(a,c);case j.ZodReadonly:case j.ZodCatch:return hx(a.innerType._def,c);case j.ZodPipeline:if("input"===c.pipeStrategy)return hx(a.in._def,c);if("output"===c.pipeStrategy)return hx(a.out._def,c);let y=hx(a.in._def,{...c,currentPath:[...c.currentPath,"allOf","0"]}),z=hx(a.out._def,{...c,currentPath:[...c.currentPath,"allOf",y?"1":"0"]});return{allOf:[y,z].filter(a=>void 0!==a)};case j.ZodFunction:case j.ZodVoid:case j.ZodSymbol:default:return}})(a,a.typeName,b),h="function"==typeof g?hx(g(),b):g;if(h&&hz(a,b,h),b.postProcess){let c=b.postProcess(h,a,b);return f.jsonSchema=h,c}return f.jsonSchema=h,h}var hy=(a,b)=>{switch(b.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:((a,b)=>{let c=0;for(;c<a.length&&c<b.length&&a[c]===b[c];c++);return[(a.length-c).toString(),...b.slice(c)].join("/")})(b.currentPath,a.path)};case"none":case"seen":if(a.path.length<b.currentPath.length&&a.path.every((a,c)=>b.currentPath[c]===a))return console.warn(`Recursive reference detected at ${b.currentPath.join("/")}! Defaulting to any`),{};return"seen"===b.$refStrategy?{}:void 0}},hz=(a,b,c)=>(a.description&&(c.description=a.description),c);function hA(a,b){var c,d;let e;if("_zod"in a){let d;return d=null!=(c=null==b?void 0:b.useReferences)&&c,hD(()=>gH(a,{target:"draft-7",io:"output",reused:d?"ref":"inline"}),{validate:async b=>{let c=await gA(a,b);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}})}return e=null!=(d=null==b?void 0:b.useReferences)&&d,hD(()=>((a,b)=>{var c;let d,e,f=(e=void 0!==(d="string"==typeof b?{...hb,name:b}:{...hb,...b}).name?[...d.basePath,d.definitionPath,d.name]:d.basePath,{...d,currentPath:e,propertyPath:void 0,seen:new Map(Object.entries(d.definitions).map(([a,b])=>[b._def,{def:b._def,path:[...d.basePath,d.definitionPath,a],jsonSchema:void 0}]))}),g="object"==typeof b&&b.definitions?Object.entries(b.definitions).reduce((a,[b,c])=>{var d;return{...a,[b]:null!=(d=hx(c._def,{...f,currentPath:[...f.basePath,f.definitionPath,b]},!0))?d:{}}},{}):void 0,h="string"==typeof b?b:(null==b?void 0:b.nameStrategy)==="title"||null==b?void 0:b.name,i=null!=(c=hx(a._def,void 0===h?f:{...f,currentPath:[...f.basePath,f.definitionPath,h]},!1))?c:{},j="object"==typeof b&&void 0!==b.name&&"title"===b.nameStrategy?b.name:void 0;void 0!==j&&(i.title=j);let k=void 0===h?g?{...i,[f.definitionPath]:g}:i:{$ref:[..."relative"===f.$refStrategy?[]:f.basePath,f.definitionPath,h].join("/"),[f.definitionPath]:{...g,[h]:i}};return k.$schema="http://json-schema.org/draft-07/schema#",k})(a,{$refStrategy:e?"root":"none"}),{validate:async b=>{let c=await a.safeParseAsync(b);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}})}var hB=Symbol.for("vercel.ai.schema");function hC(a){let b;return()=>(null==b&&(b=a()),b)}function hD(a,{validate:b}={}){return{[hB]:!0,_type:void 0,[gU]:!0,get jsonSchema(){return"function"==typeof a&&(a=a()),a},validate:b}}var{btoa:hE,atob:hF}=globalThis;function hG(a){return a instanceof Uint8Array?function(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCodePoint(a[c]);return hE(b)}(a):a}function hH(a){return null==a?void 0:a.replace(/\/$/,"")}function hI(){let a,b;return{localeError:(a={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},b={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Invalid input: expected ${c.expected}, received ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Invalid input: expected ${fX(c.values[0])}`;return`Invalid option: expected one of ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Too big: expected ${c.origin??"value"} to have ${b}${c.maximum.toString()} ${d.unit??"elements"}`;return`Too big: expected ${c.origin??"value"} to be ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Too small: expected ${c.origin} to have ${b}${c.minimum.toString()} ${d.unit}`;return`Too small: expected ${c.origin} to be ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Invalid string: must start with "${c.prefix}"`;if("ends_with"===c.format)return`Invalid string: must end with "${c.suffix}"`;if("includes"===c.format)return`Invalid string: must include "${c.includes}"`;if("regex"===c.format)return`Invalid string: must match pattern ${c.pattern}`;return`Invalid ${b[c.format]??c.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${c.divisor}`;case"unrecognized_keys":return`Unrecognized key${c.keys.length>1?"s":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`Invalid key in ${c.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${c.origin}`}})}}ft(hI()),a.s([],22157),a.i(22157),a.s([],38005),a.i(38005),a.i(85679),a.i(51152),a.i(13399);let hJ=/^[cC][^\s-]{8,}$/,hK=/^[0-9a-z]+$/,hL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,hM=/^[0-9a-vA-V]{20}$/,hN=/^[A-Za-z0-9]{27}$/,hO=/^[a-zA-Z0-9_-]{21}$/,hP=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,hQ=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,hR=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,hS=hR(4),hT=hR(6),hU=hR(7),hV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,hW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function hX(){return RegExp(hW,"u")}let hY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hZ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,h$=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,h_=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,h0=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,h1=/^[A-Za-z0-9_-]*$/,h2=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,h3=/^\+(?:[0-9]){6,14}[0-9]$/,h4="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",h5=RegExp(`^${h4}$`);function h6(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}function h7(a){return RegExp(`^${h6(a)}$`)}function h8(a){let b=h6({precision:a.precision}),c=["Z"];a.local&&c.push(""),a.offset&&c.push("([+-]\\d{2}:\\d{2})");let d=`${b}(?:${c.join("|")})`;return RegExp(`^${h4}T(?:${d})$`)}let h9=a=>{let b=a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${b}$`)},ia=/^\d+n?$/,ib=/^\d+$/,ic=/^-?\d+(?:\.\d+)?/i,id=/true|false/i,ie=/null/i,ig=/undefined/i,ih=/^[^A-Z]*$/,ii=/^[^a-z]*$/;a.s(["_emoji",0,hW,"base64",0,h0,"base64url",0,h1,"bigint",0,ia,"boolean",0,id,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,h$,"cidrv6",0,h_,"cuid",0,hJ,"cuid2",0,hK,"date",0,h5,"datetime",()=>h8,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,hP,"e164",0,h3,"email",0,hV,"emoji",()=>hX,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,hQ,"hostname",0,h2,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"integer",0,ib,"ipv4",0,hY,"ipv6",0,hZ,"ksuid",0,hN,"lowercase",0,ih,"nanoid",0,hO,"null",()=>ie,"number",0,ic,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"string",0,h9,"time",()=>h7,"ulid",0,hL,"undefined",()=>ig,"unicodeEmail",0,/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,"uppercase",0,ii,"uuid",0,hR,"uuid4",0,hS,"uuid6",0,hT,"uuid7",0,hU,"xid",0,hM],20559);let ij=fp("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),ik={number:"number",bigint:"bigint",object:"date"},il=fp("$ZodCheckLessThan",(a,b)=>{ij.init(a,b);let c=ik[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.maximum:c.exclusiveMaximum)??1/0;b.value<d&&(b.inclusive?c.maximum=b.value:c.exclusiveMaximum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value<=b.value:d.value<b.value)||d.issues.push({origin:c,code:"too_big",maximum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),im=fp("$ZodCheckGreaterThan",(a,b)=>{ij.init(a,b);let c=ik[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.minimum:c.exclusiveMinimum)??-1/0;b.value>d&&(b.inclusive?c.minimum=b.value:c.exclusiveMinimum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value>=b.value:d.value>b.value)||d.issues.push({origin:c,code:"too_small",minimum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),io=fp("$ZodCheckMultipleOf",(a,b)=>{ij.init(a,b),a._zod.onattach.push(a=>{var c;(c=a._zod.bag).multipleOf??(c.multipleOf=b.value)}),a._zod.check=c=>{if(typeof c.value!=typeof b.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof c.value?c.value%b.value===BigInt(0):0===fF(c.value,b.value))||c.issues.push({origin:typeof c.value,code:"not_multiple_of",divisor:b.value,input:c.value,inst:a,continue:!b.abort})}}),ip=fp("$ZodCheckNumberFormat",(a,b)=>{ij.init(a,b),b.format=b.format||"float64";let c=b.format?.includes("int"),d=c?"int":"number",[e,f]=fZ[b.format];a._zod.onattach.push(a=>{let d=a._zod.bag;d.format=b.format,d.minimum=e,d.maximum=f,c&&(d.pattern=ib)}),a._zod.check=g=>{let h=g.value;if(c){if(!Number.isInteger(h))return void g.issues.push({expected:d,format:b.format,code:"invalid_type",input:h,inst:a});if(!Number.isSafeInteger(h))return void(h>0?g.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}):g.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}))}h<e&&g.issues.push({origin:"number",input:h,code:"too_small",minimum:e,inclusive:!0,inst:a,continue:!b.abort}),h>f&&g.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inst:a})}}),iq=fp("$ZodCheckBigIntFormat",(a,b)=>{ij.init(a,b);let[c,d]=f$[b.format];a._zod.onattach.push(a=>{let e=a._zod.bag;e.format=b.format,e.minimum=c,e.maximum=d}),a._zod.check=e=>{let f=e.value;f<c&&e.issues.push({origin:"bigint",input:f,code:"too_small",minimum:c,inclusive:!0,inst:a,continue:!b.abort}),f>d&&e.issues.push({origin:"bigint",input:f,code:"too_big",maximum:d,inst:a})}}),ir=fp("$ZodCheckMaxSize",(a,b)=>{var c;ij.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!fD(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;d.size<=b.maximum||c.issues.push({origin:f9(d),code:"too_big",maximum:b.maximum,input:d,inst:a,continue:!b.abort})}}),is=fp("$ZodCheckMinSize",(a,b)=>{var c;ij.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!fD(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;d.size>=b.minimum||c.issues.push({origin:f9(d),code:"too_small",minimum:b.minimum,input:d,inst:a,continue:!b.abort})}}),it=fp("$ZodCheckSizeEquals",(a,b)=>{var c;ij.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!fD(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.size,c.maximum=b.size,c.size=b.size}),a._zod.check=c=>{let d=c.value,e=d.size;if(e===b.size)return;let f=e>b.size;c.issues.push({origin:f9(d),...f?{code:"too_big",maximum:b.size}:{code:"too_small",minimum:b.size},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),iu=fp("$ZodCheckMaxLength",(a,b)=>{var c;ij.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!fD(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=ga(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),iv=fp("$ZodCheckMinLength",(a,b)=>{var c;ij.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!fD(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=ga(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),iw=fp("$ZodCheckLengthEquals",(a,b)=>{var c;ij.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!fD(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=ga(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),ix=fp("$ZodCheckStringFormat",(a,b)=>{var c,d;ij.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),iy=fp("$ZodCheckRegex",(a,b)=>{ix.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),iz=fp("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=ih),ix.init(a,b)}),iA=fp("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=ii),ix.init(a,b)}),iB=fp("$ZodCheckIncludes",(a,b)=>{ij.init(a,b);let c=fT(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),iC=fp("$ZodCheckStartsWith",(a,b)=>{ij.init(a,b);let c=RegExp(`^${fT(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),iD=fp("$ZodCheckEndsWith",(a,b)=>{ij.init(a,b);let c=RegExp(`.*${fT(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}});function iE(a,b,c){a.issues.length&&b.issues.push(...f6(c,a.issues))}let iF=fp("$ZodCheckProperty",(a,b)=>{ij.init(a,b),a._zod.check=a=>{let c=b.schema._zod.run({value:a.value[b.property],issues:[]},{});if(c instanceof Promise)return c.then(c=>iE(c,a,b.property));iE(c,a,b.property)}}),iG=fp("$ZodCheckMimeType",(a,b)=>{ij.init(a,b);let c=new Set(b.mime);a._zod.onattach.push(a=>{a._zod.bag.mime=b.mime}),a._zod.check=d=>{c.has(d.value.type)||d.issues.push({code:"invalid_value",values:b.mime,input:d.value.type,inst:a})}}),iH=fp("$ZodCheckOverwrite",(a,b)=>{ij.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}});a.s(["$ZodCheck",0,ij,"$ZodCheckBigIntFormat",0,iq,"$ZodCheckEndsWith",0,iD,"$ZodCheckGreaterThan",0,im,"$ZodCheckIncludes",0,iB,"$ZodCheckLengthEquals",0,iw,"$ZodCheckLessThan",0,il,"$ZodCheckLowerCase",0,iz,"$ZodCheckMaxLength",0,iu,"$ZodCheckMaxSize",0,ir,"$ZodCheckMimeType",0,iG,"$ZodCheckMinLength",0,iv,"$ZodCheckMinSize",0,is,"$ZodCheckMultipleOf",0,io,"$ZodCheckNumberFormat",0,ip,"$ZodCheckOverwrite",0,iH,"$ZodCheckProperty",0,iF,"$ZodCheckRegex",0,iy,"$ZodCheckSizeEquals",0,it,"$ZodCheckStartsWith",0,iC,"$ZodCheckStringFormat",0,ix,"$ZodCheckUpperCase",0,iA],61802);class iI{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}a.s(["Doc",()=>iI],66004);let iJ={major:4,minor:0,patch:0};a.s(["version",0,iJ],72385);let iK=fp("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=iJ;let d=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&d.unshift(a),d))for(let c of b._zod.onattach)c(a);if(0===d.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let d,e=f5(a);for(let f of b){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(e)continue;let b=a.issues.length,g=f._zod.check(a);if(g instanceof Promise&&c?.async===!1)throw new fr;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==b&&(e||(e=f5(a,b)))});else{if(a.issues.length===b)continue;e||(e=f5(a,b))}}return d?d.then(()=>a):a};a._zod.run=(c,e)=>{let f=a._zod.parse(c,e);if(f instanceof Promise){if(!1===e.async)throw new fr;return f.then(a=>b(a,d,e))}return b(f,d,e)}}a["~standard"]={validate:b=>{try{let c=gr(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return gt(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),iL=fp("$ZodString",(a,b)=>{iK.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??h9(a._zod.bag),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),iM=fp("$ZodStringFormat",(a,b)=>{ix.init(a,b),iL.init(a,b)}),iN=fp("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=hQ),iM.init(a,b)}),iO=fp("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=hR(a))}else b.pattern??(b.pattern=hR());iM.init(a,b)}),iP=fp("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=hV),iM.init(a,b)}),iQ=fp("$ZodURL",(a,b)=>{iM.init(a,b),a._zod.check=c=>{try{let d=c.value,e=new URL(d),f=e.href;b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:h2.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),!d.endsWith("/")&&f.endsWith("/")?c.value=f.slice(0,-1):c.value=f;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),iR=fp("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=hX()),iM.init(a,b)}),iS=fp("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=hO),iM.init(a,b)}),iT=fp("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=hJ),iM.init(a,b)}),iU=fp("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=hK),iM.init(a,b)}),iV=fp("$ZodULID",(a,b)=>{b.pattern??(b.pattern=hL),iM.init(a,b)}),iW=fp("$ZodXID",(a,b)=>{b.pattern??(b.pattern=hM),iM.init(a,b)}),iX=fp("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=hN),iM.init(a,b)}),iY=fp("$ZodISODateTime",(a,b)=>{b.pattern??(b.pattern=h8(b)),iM.init(a,b)}),iZ=fp("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=h5),iM.init(a,b)}),i$=fp("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=h7(b)),iM.init(a,b)}),i_=fp("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=hP),iM.init(a,b)}),i0=fp("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=hY),iM.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv4"})}),i1=fp("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=hZ),iM.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv6"}),a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),i2=fp("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=h$),iM.init(a,b)}),i3=fp("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=h_),iM.init(a,b),a._zod.check=c=>{let[d,e]=c.value.split("/");try{if(!e)throw Error();let a=Number(e);if(`${a}`!==e||a<0||a>128)throw Error();new URL(`http://[${d}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function i4(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let i5=fp("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=h0),iM.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),a._zod.check=c=>{i4(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}});function i6(a){if(!h1.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return i4(b.padEnd(4*Math.ceil(b.length/4),"="))}let i7=fp("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=h1),iM.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),a._zod.check=c=>{i6(c.value)||c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),i8=fp("$ZodE164",(a,b)=>{b.pattern??(b.pattern=h3),iM.init(a,b)});function i9(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}let ja=fp("$ZodJWT",(a,b)=>{iM.init(a,b),a._zod.check=c=>{i9(c.value,b.alg)||c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),jb=fp("$ZodCustomStringFormat",(a,b)=>{iM.init(a,b),a._zod.check=c=>{b.fn(c.value)||c.issues.push({code:"invalid_format",format:b.format,input:c.value,inst:a,continue:!b.abort})}}),jc=fp("$ZodNumber",(a,b)=>{iK.init(a,b),a._zod.pattern=a._zod.bag.pattern??ic,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=Number(c.value)}catch(a){}let e=c.value;if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return c;let f="number"==typeof e?Number.isNaN(e)?"NaN":Number.isFinite(e)?void 0:"Infinity":void 0;return c.issues.push({expected:"number",code:"invalid_type",input:e,inst:a,...f?{received:f}:{}}),c}}),jd=fp("$ZodNumber",(a,b)=>{ip.init(a,b),jc.init(a,b)}),je=fp("$ZodBoolean",(a,b)=>{iK.init(a,b),a._zod.pattern=id,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=!!c.value}catch(a){}let e=c.value;return"boolean"==typeof e||c.issues.push({expected:"boolean",code:"invalid_type",input:e,inst:a}),c}}),jf=fp("$ZodBigInt",(a,b)=>{iK.init(a,b),a._zod.pattern=ia,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=BigInt(c.value)}catch(a){}return"bigint"==typeof c.value||c.issues.push({expected:"bigint",code:"invalid_type",input:c.value,inst:a}),c}}),jg=fp("$ZodBigInt",(a,b)=>{iq.init(a,b),jf.init(a,b)}),jh=fp("$ZodSymbol",(a,b)=>{iK.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return"symbol"==typeof d||b.issues.push({expected:"symbol",code:"invalid_type",input:d,inst:a}),b}}),ji=fp("$ZodUndefined",(a,b)=>{iK.init(a,b),a._zod.pattern=ig,a._zod.values=new Set([void 0]),a._zod.optin="optional",a._zod.optout="optional",a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"undefined",code:"invalid_type",input:d,inst:a}),b}}),jj=fp("$ZodNull",(a,b)=>{iK.init(a,b),a._zod.pattern=ie,a._zod.values=new Set([null]),a._zod.parse=(b,c)=>{let d=b.value;return null===d||b.issues.push({expected:"null",code:"invalid_type",input:d,inst:a}),b}}),jk=fp("$ZodAny",(a,b)=>{iK.init(a,b),a._zod.parse=a=>a}),jl=fp("$ZodUnknown",(a,b)=>{iK.init(a,b),a._zod.parse=a=>a}),jm=fp("$ZodNever",(a,b)=>{iK.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)}),jn=fp("$ZodVoid",(a,b)=>{iK.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"void",code:"invalid_type",input:d,inst:a}),b}}),jo=fp("$ZodDate",(a,b)=>{iK.init(a,b),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=new Date(c.value)}catch(a){}let e=c.value,f=e instanceof Date;return f&&!Number.isNaN(e.getTime())||c.issues.push({expected:"date",code:"invalid_type",input:e,...f?{received:"Invalid Date"}:{},inst:a}),c}});function jp(a,b,c){a.issues.length&&b.issues.push(...f6(c,a.issues)),b.value[c]=a.value}let jq=fp("$ZodArray",(a,b)=>{iK.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>jp(b,c,a))):jp(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function jr(a,b,c){a.issues.length&&b.issues.push(...f6(c,a.issues)),b.value[c]=a.value}function js(a,b,c,d){a.issues.length?void 0===d[c]?c in d?b.value[c]=void 0:b.value[c]=a.value:b.issues.push(...f6(c,a.issues)):void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}let jt=fp("$ZodObject",(a,b)=>{let c,d;iK.init(a,b);let e=fC(()=>{let a=Object.keys(b.shape);for(let c of a)if(!(b.shape[c]instanceof iK))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=fY(b.shape);return{shape:b.shape,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(c)}});fG(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let f=!fs.jitless,g=f&&fO.value,h=b.catchall;a._zod.parse=(i,j)=>{d??(d=e.value);let k=i.value;if(!fN(k))return i.issues.push({expected:"object",code:"invalid_type",input:k,inst:a}),i;let l=[];if(f&&g&&j?.async===!1&&!0!==j.jitless)c||(c=(a=>{let b=new iI(["shape","payload","ctx"]),c=e.value,d=a=>{let b=fL(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let f=Object.create(null),g=0;for(let a of c.keys)f[a]=`key_${g++}`;for(let a of(b.write("const newResult = {}"),c.keys))if(c.optionalKeys.has(a)){let c=f[a];b.write(`const ${c} = ${d(a)};`);let e=fL(a);b.write(`
        if (${c}.issues.length) {
          if (input[${e}] === undefined) {
            if (${e} in input) {
              newResult[${e}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${c}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${e}, ...iss.path] : [${e}],
              }))
            );
          }
        } else if (${c}.value === undefined) {
          if (${e} in input) newResult[${e}] = undefined;
        } else {
          newResult[${e}] = ${c}.value;
        }
        `)}else{let c=f[a];b.write(`const ${c} = ${d(a)};`),b.write(`
          if (${c}.issues.length) payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${fL(a)}, ...iss.path] : [${fL(a)}]
          })));`),b.write(`newResult[${fL(a)}] = ${c}.value`)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)})(b.shape)),i=c(i,j);else{i.value={};let a=d.shape;for(let b of d.keys){let c=a[b],d=c._zod.run({value:k[b],issues:[]},j),e="optional"===c._zod.optin&&"optional"===c._zod.optout;d instanceof Promise?l.push(d.then(a=>e?js(a,i,b,k):jr(a,i,b))):e?js(d,i,b,k):jr(d,i,b)}}if(!h)return l.length?Promise.all(l).then(()=>i):i;let m=[],n=d.keySet,o=h._zod,p=o.def.type;for(let a of Object.keys(k)){if(n.has(a))continue;if("never"===p){m.push(a);continue}let b=o.run({value:k[a],issues:[]},j);b instanceof Promise?l.push(b.then(b=>jr(b,i,a))):jr(b,i,a)}return(m.length&&i.issues.push({code:"unrecognized_keys",keys:m,input:k,inst:a}),l.length)?Promise.all(l).then(()=>i):i}});function ju(a,b,c,d){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;return b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>f8(a,d,ft())))}),b}let jv=fp("$ZodUnion",(a,b)=>{iK.init(a,b),fG(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),fG(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),fG(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),fG(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>fE(a.source)).join("|")})$`)}}),a._zod.parse=(c,d)=>{let e=!1,f=[];for(let a of b.options){let b=a._zod.run({value:c.value,issues:[]},d);if(b instanceof Promise)f.push(b),e=!0;else{if(0===b.issues.length)return b;f.push(b)}}return e?Promise.all(f).then(b=>ju(b,c,a,d)):ju(f,c,a,d)}}),jw=fp("$ZodDiscriminatedUnion",(a,b)=>{jv.init(a,b);let c=a._zod.parse;fG(a._zod,"propValues",()=>{let a={};for(let c of b.options){let d=c._zod.propValues;if(!d||0===Object.keys(d).length)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(c)}"`);for(let[b,c]of Object.entries(d))for(let d of(a[b]||(a[b]=new Set),c))a[b].add(d)}return a});let d=fC(()=>{let a=b.options,c=new Map;for(let d of a){let a=d._zod.propValues[b.discriminator];if(!a||0===a.size)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(d)}"`);for(let b of a){if(c.has(b))throw Error(`Duplicate discriminator value "${String(b)}"`);c.set(b,d)}}return c});a._zod.parse=(e,f)=>{let g=e.value;if(!fN(g))return e.issues.push({code:"invalid_type",expected:"object",input:g,inst:a}),e;let h=d.value.get(g?.[b.discriminator]);return h?h._zod.run(e,f):b.unionFallback?c(e,f):(e.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:g,path:[b.discriminator],inst:a}),e)}}),jx=fp("$ZodIntersection",(a,b)=>{iK.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>jy(a,b,c)):jy(a,e,f)}});function jy(a,b,c){if(b.issues.length&&a.issues.push(...b.issues),c.issues.length&&a.issues.push(...c.issues),f5(a))return a;let d=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(fP(b)&&fP(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!d.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return a.value=d.data,a}let jz=fp("$ZodTuple",(a,b)=>{iK.init(a,b);let c=b.items,d=c.length-[...c].reverse().findIndex(a=>"optional"!==a._zod.optin);a._zod.parse=(e,f)=>{let g=e.value;if(!Array.isArray(g))return e.issues.push({input:g,inst:a,expected:"tuple",code:"invalid_type"}),e;e.value=[];let h=[];if(!b.rest){let b=g.length>c.length,f=g.length<d-1;if(b||f)return e.issues.push({input:g,inst:a,origin:"array",...b?{code:"too_big",maximum:c.length}:{code:"too_small",minimum:c.length}}),e}let i=-1;for(let a of c){if(++i>=g.length&&i>=d)continue;let b=a._zod.run({value:g[i],issues:[]},f);b instanceof Promise?h.push(b.then(a=>jA(a,e,i))):jA(b,e,i)}if(b.rest)for(let a of g.slice(c.length)){i++;let c=b.rest._zod.run({value:a,issues:[]},f);c instanceof Promise?h.push(c.then(a=>jA(a,e,i))):jA(c,e,i)}return h.length?Promise.all(h).then(()=>e):e}});function jA(a,b,c){a.issues.length&&b.issues.push(...f6(c,a.issues)),b.value[c]=a.value}let jB=fp("$ZodRecord",(a,b)=>{iK.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!fP(e))return c.issues.push({expected:"record",code:"invalid_type",input:e,inst:a}),c;let f=[];if(b.keyType._zod.values){let g,h=b.keyType._zod.values;for(let a of(c.value={},h))if("string"==typeof a||"number"==typeof a||"symbol"==typeof a){let g=b.valueType._zod.run({value:e[a],issues:[]},d);g instanceof Promise?f.push(g.then(b=>{b.issues.length&&c.issues.push(...f6(a,b.issues)),c.value[a]=b.value})):(g.issues.length&&c.issues.push(...f6(a,g.issues)),c.value[a]=g.value)}for(let a in e)h.has(a)||(g=g??[]).push(a);g&&g.length>0&&c.issues.push({code:"unrecognized_keys",input:e,inst:a,keys:g})}else for(let g of(c.value={},Reflect.ownKeys(e))){if("__proto__"===g)continue;let h=b.keyType._zod.run({value:g,issues:[]},d);if(h instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(h.issues.length){c.issues.push({origin:"record",code:"invalid_key",issues:h.issues.map(a=>f8(a,d,ft())),input:g,path:[g],inst:a}),c.value[h.value]=h.value;continue}let i=b.valueType._zod.run({value:e[g],issues:[]},d);i instanceof Promise?f.push(i.then(a=>{a.issues.length&&c.issues.push(...f6(g,a.issues)),c.value[h.value]=a.value})):(i.issues.length&&c.issues.push(...f6(g,i.issues)),c.value[h.value]=i.value)}return f.length?Promise.all(f).then(()=>c):c}}),jC=fp("$ZodMap",(a,b)=>{iK.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Map))return c.issues.push({expected:"map",code:"invalid_type",input:e,inst:a}),c;let f=[];for(let[g,h]of(c.value=new Map,e)){let i=b.keyType._zod.run({value:g,issues:[]},d),j=b.valueType._zod.run({value:h,issues:[]},d);i instanceof Promise||j instanceof Promise?f.push(Promise.all([i,j]).then(([b,f])=>{jD(b,f,c,g,e,a,d)})):jD(i,j,c,g,e,a,d)}return f.length?Promise.all(f).then(()=>c):c}});function jD(a,b,c,d,e,f,g){a.issues.length&&(fR.has(typeof d)?c.issues.push(...f6(d,a.issues)):c.issues.push({origin:"map",code:"invalid_key",input:e,inst:f,issues:a.issues.map(a=>f8(a,g,ft()))})),b.issues.length&&(fR.has(typeof d)?c.issues.push(...f6(d,b.issues)):c.issues.push({origin:"map",code:"invalid_element",input:e,inst:f,key:d,issues:b.issues.map(a=>f8(a,g,ft()))})),c.value.set(a.value,b.value)}let jE=fp("$ZodSet",(a,b)=>{iK.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Set))return c.issues.push({input:e,inst:a,expected:"set",code:"invalid_type"}),c;let f=[];for(let a of(c.value=new Set,e)){let e=b.valueType._zod.run({value:a,issues:[]},d);e instanceof Promise?f.push(e.then(a=>jF(a,c))):jF(e,c)}return f.length?Promise.all(f).then(()=>c):c}});function jF(a,b){a.issues.length&&b.issues.push(...a.issues),b.value.add(a.value)}let jG=fp("$ZodEnum",(a,b)=>{iK.init(a,b);let c=fz(b.entries);a._zod.values=new Set(c),a._zod.pattern=RegExp(`^(${c.filter(a=>fR.has(typeof a)).map(a=>"string"==typeof a?fT(a):a.toString()).join("|")})$`),a._zod.parse=(b,d)=>{let e=b.value;return a._zod.values.has(e)||b.issues.push({code:"invalid_value",values:c,input:e,inst:a}),b}}),jH=fp("$ZodLiteral",(a,b)=>{iK.init(a,b),a._zod.values=new Set(b.values),a._zod.pattern=RegExp(`^(${b.values.map(a=>"string"==typeof a?fT(a):a?a.toString():String(a)).join("|")})$`),a._zod.parse=(c,d)=>{let e=c.value;return a._zod.values.has(e)||c.issues.push({code:"invalid_value",values:b.values,input:e,inst:a}),c}}),jI=fp("$ZodFile",(a,b)=>{iK.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return d instanceof File||b.issues.push({expected:"file",code:"invalid_type",input:d,inst:a}),b}}),jJ=fp("$ZodTransform",(a,b)=>{iK.init(a,b),a._zod.parse=(a,c)=>{let d=b.transform(a.value,a);if(c.async)return(d instanceof Promise?d:Promise.resolve(d)).then(b=>(a.value=b,a));if(d instanceof Promise)throw new fr;return a.value=d,a}}),jK=fp("$ZodOptional",(a,b)=>{iK.init(a,b),a._zod.optin="optional",a._zod.optout="optional",fG(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),fG(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${fE(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>"optional"===b.innerType._zod.optin?b.innerType._zod.run(a,c):void 0===a.value?a:b.innerType._zod.run(a,c)}),jL=fp("$ZodNullable",(a,b)=>{iK.init(a,b),fG(a._zod,"optin",()=>b.innerType._zod.optin),fG(a._zod,"optout",()=>b.innerType._zod.optout),fG(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${fE(a.source)}|null)$`):void 0}),fG(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),jM=fp("$ZodDefault",(a,b)=>{iK.init(a,b),a._zod.optin="optional",fG(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>jN(a,b)):jN(d,b)}});function jN(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let jO=fp("$ZodPrefault",(a,b)=>{iK.init(a,b),a._zod.optin="optional",fG(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>(void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),jP=fp("$ZodNonOptional",(a,b)=>{iK.init(a,b),fG(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>jQ(b,a)):jQ(e,a)}});function jQ(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let jR=fp("$ZodSuccess",(a,b)=>{iK.init(a,b),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>(a.value=0===b.issues.length,a)):(a.value=0===d.issues.length,a)}}),jS=fp("$ZodCatch",(a,b)=>{iK.init(a,b),a._zod.optin="optional",fG(a._zod,"optout",()=>b.innerType._zod.optout),fG(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(d=>(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>f8(a,c,ft()))},input:a.value}),a.issues=[]),a)):(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>f8(a,c,ft()))},input:a.value}),a.issues=[]),a)}}),jT=fp("$ZodNaN",(a,b)=>{iK.init(a,b),a._zod.parse=(b,c)=>("number"==typeof b.value&&Number.isNaN(b.value)||b.issues.push({input:b.value,inst:a,expected:"nan",code:"invalid_type"}),b)}),jU=fp("$ZodPipe",(a,b)=>{iK.init(a,b),fG(a._zod,"values",()=>b.in._zod.values),fG(a._zod,"optin",()=>b.in._zod.optin),fG(a._zod,"optout",()=>b.out._zod.optout),a._zod.parse=(a,c)=>{let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>jV(a,b,c)):jV(d,b,c)}});function jV(a,b,c){return f5(a)?a:b.out._zod.run({value:a.value,issues:a.issues},c)}let jW=fp("$ZodReadonly",(a,b)=>{iK.init(a,b),fG(a._zod,"propValues",()=>b.innerType._zod.propValues),fG(a._zod,"values",()=>b.innerType._zod.values),fG(a._zod,"optin",()=>b.innerType._zod.optin),fG(a._zod,"optout",()=>b.innerType._zod.optout),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(jX):jX(d)}});function jX(a){return a.value=Object.freeze(a.value),a}let jY=fp("$ZodTemplateLiteral",(a,b)=>{iK.init(a,b);let c=[];for(let a of b.parts)if(a instanceof iK){if(!a._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...a._zod.traits].shift()}`);let b=a._zod.pattern instanceof RegExp?a._zod.pattern.source:a._zod.pattern;if(!b)throw Error(`Invalid template literal part: ${a._zod.traits}`);let d=+!!b.startsWith("^"),e=b.endsWith("$")?b.length-1:b.length;c.push(b.slice(d,e))}else if(null===a||fS.has(typeof a))c.push(fT(`${a}`));else throw Error(`Invalid template literal part: ${a}`);a._zod.pattern=RegExp(`^${c.join("")}$`),a._zod.parse=(b,c)=>("string"!=typeof b.value?b.issues.push({input:b.value,inst:a,expected:"template_literal",code:"invalid_type"}):(a._zod.pattern.lastIndex=0,a._zod.pattern.test(b.value)||b.issues.push({input:b.value,inst:a,code:"invalid_format",format:"template_literal",pattern:a._zod.pattern.source})),b)}),jZ=fp("$ZodPromise",(a,b)=>{iK.init(a,b),a._zod.parse=(a,c)=>Promise.resolve(a.value).then(a=>b.innerType._zod.run({value:a,issues:[]},c))}),j$=fp("$ZodLazy",(a,b)=>{iK.init(a,b),fG(a._zod,"innerType",()=>b.getter()),fG(a._zod,"pattern",()=>a._zod.innerType._zod.pattern),fG(a._zod,"propValues",()=>a._zod.innerType._zod.propValues),fG(a._zod,"optin",()=>a._zod.innerType._zod.optin),fG(a._zod,"optout",()=>a._zod.innerType._zod.optout),a._zod.parse=(b,c)=>a._zod.innerType._zod.run(b,c)}),j_=fp("$ZodCustom",(a,b)=>{ij.init(a,b),iK.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>j0(b,c,d,a));j0(e,c,d,a)}});function j0(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(gb(a))}}a.s(["$ZodAny",0,jk,"$ZodArray",0,jq,"$ZodBase64",0,i5,"$ZodBase64URL",0,i7,"$ZodBigInt",0,jf,"$ZodBigIntFormat",0,jg,"$ZodBoolean",0,je,"$ZodCIDRv4",0,i2,"$ZodCIDRv6",0,i3,"$ZodCUID",0,iT,"$ZodCUID2",0,iU,"$ZodCatch",0,jS,"$ZodCustom",0,j_,"$ZodCustomStringFormat",0,jb,"$ZodDate",0,jo,"$ZodDefault",0,jM,"$ZodDiscriminatedUnion",0,jw,"$ZodE164",0,i8,"$ZodEmail",0,iP,"$ZodEmoji",0,iR,"$ZodEnum",0,jG,"$ZodFile",0,jI,"$ZodGUID",0,iN,"$ZodIPv4",0,i0,"$ZodIPv6",0,i1,"$ZodISODate",0,iZ,"$ZodISODateTime",0,iY,"$ZodISODuration",0,i_,"$ZodISOTime",0,i$,"$ZodIntersection",0,jx,"$ZodJWT",0,ja,"$ZodKSUID",0,iX,"$ZodLazy",0,j$,"$ZodLiteral",0,jH,"$ZodMap",0,jC,"$ZodNaN",0,jT,"$ZodNanoID",0,iS,"$ZodNever",0,jm,"$ZodNonOptional",0,jP,"$ZodNull",0,jj,"$ZodNullable",0,jL,"$ZodNumber",0,jc,"$ZodNumberFormat",0,jd,"$ZodObject",0,jt,"$ZodOptional",0,jK,"$ZodPipe",0,jU,"$ZodPrefault",0,jO,"$ZodPromise",0,jZ,"$ZodReadonly",0,jW,"$ZodRecord",0,jB,"$ZodSet",0,jE,"$ZodString",0,iL,"$ZodStringFormat",0,iM,"$ZodSuccess",0,jR,"$ZodSymbol",0,jh,"$ZodTemplateLiteral",0,jY,"$ZodTransform",0,jJ,"$ZodTuple",0,jz,"$ZodType",0,iK,"$ZodULID",0,iV,"$ZodURL",0,iQ,"$ZodUUID",0,iO,"$ZodUndefined",0,ji,"$ZodUnion",0,jv,"$ZodUnknown",0,jl,"$ZodVoid",0,jn,"$ZodXID",0,iW,"isValidBase64",()=>i4,"isValidBase64URL",()=>i6,"isValidJWT",()=>i9],84516),a.i(84516),a.s(["$ZodAny",0,jk,"$ZodArray",0,jq,"$ZodBase64",0,i5,"$ZodBase64URL",0,i7,"$ZodBigInt",0,jf,"$ZodBigIntFormat",0,jg,"$ZodBoolean",0,je,"$ZodCIDRv4",0,i2,"$ZodCIDRv6",0,i3,"$ZodCUID",0,iT,"$ZodCUID2",0,iU,"$ZodCatch",0,jS,"$ZodCustom",0,j_,"$ZodCustomStringFormat",0,jb,"$ZodDate",0,jo,"$ZodDefault",0,jM,"$ZodDiscriminatedUnion",0,jw,"$ZodE164",0,i8,"$ZodEmail",0,iP,"$ZodEmoji",0,iR,"$ZodEnum",0,jG,"$ZodFile",0,jI,"$ZodGUID",0,iN,"$ZodIPv4",0,i0,"$ZodIPv6",0,i1,"$ZodISODate",0,iZ,"$ZodISODateTime",0,iY,"$ZodISODuration",0,i_,"$ZodISOTime",0,i$,"$ZodIntersection",0,jx,"$ZodJWT",0,ja,"$ZodKSUID",0,iX,"$ZodLazy",0,j$,"$ZodLiteral",0,jH,"$ZodMap",0,jC,"$ZodNaN",0,jT,"$ZodNanoID",0,iS,"$ZodNever",0,jm,"$ZodNonOptional",0,jP,"$ZodNull",0,jj,"$ZodNullable",0,jL,"$ZodNumber",0,jc,"$ZodNumberFormat",0,jd,"$ZodObject",0,jt,"$ZodOptional",0,jK,"$ZodPipe",0,jU,"$ZodPrefault",0,jO,"$ZodPromise",0,jZ,"$ZodReadonly",0,jW,"$ZodRecord",0,jB,"$ZodSet",0,jE,"$ZodString",0,iL,"$ZodStringFormat",0,iM,"$ZodSuccess",0,jR,"$ZodSymbol",0,jh,"$ZodTemplateLiteral",0,jY,"$ZodTransform",0,jJ,"$ZodTuple",0,jz,"$ZodType",0,iK,"$ZodULID",0,iV,"$ZodURL",0,iQ,"$ZodUUID",0,iO,"$ZodUndefined",0,ji,"$ZodUnion",0,jv,"$ZodUnknown",0,jl,"$ZodVoid",0,jn,"$ZodXID",0,iW,"clone",()=>fU,"isValidBase64",()=>i4,"isValidBase64URL",()=>i6,"isValidJWT",()=>i9],9419),a.i(9419),a.i(61802),a.i(72385);var j1=a.i(92455),j2=a.i(20559);function j3(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}function j4(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}a.s([],94551),a.i(94551),a.s(["ar",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return`  :   ${c.expected}    ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`  :   ${fX(c.values[0])}`;return`  :     : ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`   :    ${c.origin??""} ${b} ${c.maximum.toString()} ${d.unit??""}`;return`  :    ${c.origin??""} ${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`  :   ${c.origin}   ${b} ${c.minimum.toString()} ${d.unit}`;return`  :   ${c.origin}   ${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`  :     "${c.prefix}"`;if("ends_with"===c.format)return`  :     "${c.suffix}"`;if("includes"===c.format)return`  :    "${c.includes}"`;if("regex"===c.format)return`  :     ${c.pattern}`;return`${b[c.format]??c.format}  `;case"not_multiple_of":return`  :      ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"":""} ${c.keys.length>1?"":""}: ${fA(c.keys," ")}`;case"invalid_key":return`    ${c.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${c.origin}`}})}},"az",0,function(){let a,b;return{localeError:(a={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},b={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Yanl dyr: g\xf6zlniln ${c.expected}, daxil olan ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Yanl dyr: g\xf6zlniln ${fX(c.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${c.origin??"dyr"} ${b}${c.maximum.toString()} ${d.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${c.origin??"dyr"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`\xc7ox ki\xe7ik: g\xf6zlniln ${c.origin} ${b}${c.minimum.toString()} ${d.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Yanl mtn: "${c.prefix}" il balamaldr`;if("ends_with"===c.format)return`Yanl mtn: "${c.suffix}" il bitmlidir`;if("includes"===c.format)return`Yanl mtn: "${c.includes}" daxil olmaldr`;if("regex"===c.format)return`Yanl mtn: ${c.pattern} ablonuna uyun olmaldr`;return`Yanl ${b[c.format]??c.format}`;case"not_multiple_of":return`Yanl dd: ${c.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${c.keys.length>1?"lar":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`${c.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${c.origin} daxilind yanl dyr`;default:return`Yanl dyr`}})}},"be",0,function(){let a,b;return{localeError:(a={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},b={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return` :  ${c.expected},  ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"";case"object":if(Array.isArray(a))return"";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return` :  ${fX(c.values[0])}`;return` :    ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d){let a=j3(Number(c.maximum),d.unit.one,d.unit.few,d.unit.many);return` : ,  ${c.origin??""}  ${d.verb} ${b}${c.maximum.toString()} ${a}`}return` : ,  ${c.origin??""}   ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d){let a=j3(Number(c.minimum),d.unit.one,d.unit.few,d.unit.many);return` : ,  ${c.origin}  ${d.verb} ${b}${c.minimum.toString()} ${a}`}return` : ,  ${c.origin}   ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return` :    "${c.prefix}"`;if("ends_with"===c.format)return` :    "${c.suffix}"`;if("includes"===c.format)return` :   "${c.includes}"`;if("regex"===c.format)return` :    ${c.pattern}`;return` ${b[c.format]??c.format}`;case"not_multiple_of":return` :    ${c.divisor}`;case"unrecognized_keys":return` ${c.keys.length>1?"":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`   ${c.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${c.origin}`;default:return` `}})}},"ca",0,function(){let a,b;return{localeError:(a={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},b={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},c=>{switch(c.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${c.expected}, s'ha rebut ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Valor inv\xe0lid: s'esperava ${fX(c.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${fA(c.values," o ")}`;case"too_big":{let b=c.inclusive?"com a mxim":"menys de",d=a[c.origin]??null;if(d)return`Massa gran: s'esperava que ${c.origin??"el valor"} contingu\xe9s ${b} ${c.maximum.toString()} ${d.unit??"elements"}`;return`Massa gran: s'esperava que ${c.origin??"el valor"} fos ${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?"com a mnim":"ms de",d=a[c.origin]??null;if(d)return`Massa petit: s'esperava que ${c.origin} contingu\xe9s ${b} ${c.minimum.toString()} ${d.unit}`;return`Massa petit: s'esperava que ${c.origin} fos ${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${c.prefix}"`;if("ends_with"===c.format)return`Format inv\xe0lid: ha d'acabar amb "${c.suffix}"`;if("includes"===c.format)return`Format inv\xe0lid: ha d'incloure "${c.includes}"`;if("regex"===c.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${c.pattern}`;return`Format inv\xe0lid per a ${b[c.format]??c.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${c.divisor}`;case"unrecognized_keys":return`Clau${c.keys.length>1?"s":""} no reconeguda${c.keys.length>1?"s":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${c.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${c.origin}`;default:return`Entrada inv\xe0lida`}})}},"cs",0,function(){let a,b;return{localeError:(a={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},b={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},c=>{switch(c.code){case"invalid_type":return`Neplatn\xfd vstup: oek\xe1v\xe1no ${c.expected}, obdreno ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(a))return"pole";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${fX(c.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Hodnota je p\xedli velk\xe1: ${c.origin??"hodnota"} mus\xed m\xedt ${b}${c.maximum.toString()} ${d.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${c.origin??"hodnota"} mus\xed b\xfdt ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Hodnota je p\xedli mal\xe1: ${c.origin??"hodnota"} mus\xed m\xedt ${b}${c.minimum.toString()} ${d.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${c.origin??"hodnota"} mus\xed b\xfdt ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${c.prefix}"`;if("ends_with"===c.format)return`Neplatn\xfd etzec: mus\xed konit na "${c.suffix}"`;if("includes"===c.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${c.includes}"`;if("regex"===c.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${c.pattern}`;return`Neplatn\xfd form\xe1t ${b[c.format]??c.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${c.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${fA(c.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${c.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${c.origin}`;default:return`Neplatn\xfd vstup`}})}},"de",0,function(){let a,b;return{localeError:(a={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},b={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},c=>{switch(c.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${c.expected}, erhalten ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"Zahl";case"object":if(Array.isArray(a))return"Array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ung\xfcltige Eingabe: erwartet ${fX(c.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Zu gro\xdf: erwartet, dass ${c.origin??"Wert"} ${b}${c.maximum.toString()} ${d.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${c.origin??"Wert"} ${b}${c.maximum.toString()} ist`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Zu klein: erwartet, dass ${c.origin} ${b}${c.minimum.toString()} ${d.unit} hat`;return`Zu klein: erwartet, dass ${c.origin} ${b}${c.minimum.toString()} ist`}case"invalid_format":if("starts_with"===c.format)return`Ung\xfcltiger String: muss mit "${c.prefix}" beginnen`;if("ends_with"===c.format)return`Ung\xfcltiger String: muss mit "${c.suffix}" enden`;if("includes"===c.format)return`Ung\xfcltiger String: muss "${c.includes}" enthalten`;if("regex"===c.format)return`Ung\xfcltiger String: muss dem Muster ${c.pattern} entsprechen`;return`Ung\xfcltig: ${b[c.format]??c.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${c.divisor} sein`;case"unrecognized_keys":return`${c.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${fA(c.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${c.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${c.origin}`;default:return`Ung\xfcltige Eingabe`}})}},"en",0,hI,"eo",0,function(){let a,b;return{localeError:(a={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},b={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},c=>{switch(c.code){case"invalid_type":return`Nevalida enigo: atendiis ${c.expected}, riceviis ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nombro";case"object":if(Array.isArray(a))return"tabelo";if(null===a)return"senvalora";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Nevalida enigo: atendiis ${fX(c.values[0])}`;return`Nevalida opcio: atendiis unu el ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Tro granda: atendiis ke ${c.origin??"valoro"} havu ${b}${c.maximum.toString()} ${d.unit??"elementojn"}`;return`Tro granda: atendiis ke ${c.origin??"valoro"} havu ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Tro malgranda: atendiis ke ${c.origin} havu ${b}${c.minimum.toString()} ${d.unit}`;return`Tro malgranda: atendiis ke ${c.origin} estu ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Nevalida karaktraro: devas komencii per "${c.prefix}"`;if("ends_with"===c.format)return`Nevalida karaktraro: devas finii per "${c.suffix}"`;if("includes"===c.format)return`Nevalida karaktraro: devas inkluzivi "${c.includes}"`;if("regex"===c.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${c.pattern}`;return`Nevalida ${b[c.format]??c.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${c.divisor}`;case"unrecognized_keys":return`Nekonata${c.keys.length>1?"j":""} losilo${c.keys.length>1?"j":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${c.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${c.origin}`}})}},"es",0,function(){let a,b;return{localeError:(a={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},b={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},c=>{switch(c.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${c.expected}, recibido ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nmero";case"object":if(Array.isArray(a))return"arreglo";if(null===a)return"nulo";if(Object.getPrototypeOf(a)!==Object.prototype)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Entrada inv\xe1lida: se esperaba ${fX(c.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Demasiado grande: se esperaba que ${c.origin??"valor"} tuviera ${b}${c.maximum.toString()} ${d.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${c.origin??"valor"} fuera ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Demasiado peque\xf1o: se esperaba que ${c.origin} tuviera ${b}${c.minimum.toString()} ${d.unit}`;return`Demasiado peque\xf1o: se esperaba que ${c.origin} fuera ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Cadena inv\xe1lida: debe comenzar con "${c.prefix}"`;if("ends_with"===c.format)return`Cadena inv\xe1lida: debe terminar en "${c.suffix}"`;if("includes"===c.format)return`Cadena inv\xe1lida: debe incluir "${c.includes}"`;if("regex"===c.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${c.pattern}`;return`Inv\xe1lido ${b[c.format]??c.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${c.divisor}`;case"unrecognized_keys":return`Llave${c.keys.length>1?"s":""} desconocida${c.keys.length>1?"s":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${c.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${c.origin}`;default:return`Entrada inv\xe1lida`}})}},"fa",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return` :  ${c.expected}  ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"";case"object":if(Array.isArray(a))return"";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}  `;case"invalid_value":if(1===c.values.length)return` :  ${fX(c.values[0])} `;return` :    ${fA(c.values,"|")} `;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` : ${c.origin??""}  ${b}${c.maximum.toString()} ${d.unit??""} `;return` : ${c.origin??""}  ${b}${c.maximum.toString()} `}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return` : ${c.origin}  ${b}${c.minimum.toString()} ${d.unit} `;return` : ${c.origin}  ${b}${c.minimum.toString()} `}case"invalid_format":if("starts_with"===c.format)return` :   "${c.prefix}"  `;if("ends_with"===c.format)return` :   "${c.suffix}"  `;if("includes"===c.format)return` :   "${c.includes}" `;if("regex"===c.format)return` :    ${c.pattern}   `;return`${b[c.format]??c.format} `;case"not_multiple_of":return` :   ${c.divisor} `;case"unrecognized_keys":return`${c.keys.length>1?"":""} : ${fA(c.keys,", ")}`;case"invalid_key":return`   ${c.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${c.origin}`}})}},"fi",0,function(){let a,b;return{localeError:(a={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},b={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},c=>{switch(c.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${c.expected}, oli ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${fX(c.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Liian suuri: ${d.subject} t\xe4ytyy olla ${b}${c.maximum.toString()} ${d.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Liian pieni: ${d.subject} t\xe4ytyy olla ${b}${c.minimum.toString()} ${d.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${c.prefix}"`;if("ends_with"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${c.suffix}"`;if("includes"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${c.includes}"`;if("regex"===c.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${c.pattern}`;return`Virheellinen ${b[c.format]??c.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${c.divisor} monikerta`;case"unrecognized_keys":return`${c.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${fA(c.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}},"fr",0,function(){let a,b;return{localeError:(a={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},b={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},c=>{switch(c.code){case"invalid_type":return`Entr\xe9e invalide : ${c.expected} attendu, ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nombre";case"object":if(Array.isArray(a))return"tableau";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)} re\xe7u`;case"invalid_value":if(1===c.values.length)return`Entr\xe9e invalide : ${fX(c.values[0])} attendu`;return`Option invalide : une valeur parmi ${fA(c.values,"|")} attendue`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Trop grand : ${c.origin??"valeur"} doit ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"lment(s)"}`;return`Trop grand : ${c.origin??"valeur"} doit \xeatre ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Trop petit : ${c.origin} doit ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Trop petit : ${c.origin} doit \xeatre ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Cha\xeene invalide : doit commencer par "${c.prefix}"`;if("ends_with"===c.format)return`Cha\xeene invalide : doit se terminer par "${c.suffix}"`;if("includes"===c.format)return`Cha\xeene invalide : doit inclure "${c.includes}"`;if("regex"===c.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${c.pattern}`;return`${b[c.format]??c.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${c.divisor}`;case"unrecognized_keys":return`Cl\xe9${c.keys.length>1?"s":""} non reconnue${c.keys.length>1?"s":""} : ${fA(c.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${c.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${c.origin}`;default:return`Entr\xe9e invalide`}})}},"frCA",0,function(){let a,b;return{localeError:(a={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},b={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},c=>{switch(c.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${c.expected}, re\xe7u ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Entr\xe9e invalide : attendu ${fX(c.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"":"<",d=a[c.origin]??null;if(d)return`Trop grand : attendu que ${c.origin??"la valeur"} ait ${b}${c.maximum.toString()} ${d.unit}`;return`Trop grand : attendu que ${c.origin??"la valeur"} soit ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?"":">",d=a[c.origin]??null;if(d)return`Trop petit : attendu que ${c.origin} ait ${b}${c.minimum.toString()} ${d.unit}`;return`Trop petit : attendu que ${c.origin} soit ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Cha\xeene invalide : doit commencer par "${c.prefix}"`;if("ends_with"===c.format)return`Cha\xeene invalide : doit se terminer par "${c.suffix}"`;if("includes"===c.format)return`Cha\xeene invalide : doit inclure "${c.includes}"`;if("regex"===c.format)return`Cha\xeene invalide : doit correspondre au motif ${c.pattern}`;return`${b[c.format]??c.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${c.divisor}`;case"unrecognized_keys":return`Cl\xe9${c.keys.length>1?"s":""} non reconnue${c.keys.length>1?"s":""} : ${fA(c.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${c.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${c.origin}`;default:return`Entr\xe9e invalide`}})}},"he",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return`  :  ${c.expected},  ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`  :  ${fX(c.values[0])}`;return`  :     ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` : ${c.origin??"value"}   ${b}${c.maximum.toString()} ${d.unit??"elements"}`;return` : ${c.origin??"value"}   ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return` : ${c.origin}   ${b}${c.minimum.toString()} ${d.unit}`;return` : ${c.origin}   ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`  :   "${c.prefix}"`;if("ends_with"===c.format)return`  :    "${c.suffix}"`;if("includes"===c.format)return`  :   "${c.includes}"`;if("regex"===c.format)return`  :    ${c.pattern}`;return`${b[c.format]??c.format}  `;case"not_multiple_of":return`  :     ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"":""}  ${c.keys.length>1?"":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`   ${c.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${c.origin}`;default:return`  `}})}},"hu",0,function(){let a,b;return{localeError:(a={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},b={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},c=>{switch(c.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${c.expected}, a kapott \xe9rt\xe9k ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"szm";case"object":if(Array.isArray(a))return"tmb";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${fX(c.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`T\xfal nagy: ${c.origin??"rtk"} m\xe9rete t\xfal nagy ${b}${c.maximum.toString()} ${d.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${c.origin??"rtk"} t\xfal nagy: ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${c.origin} m\xe9rete t\xfal kicsi ${b}${c.minimum.toString()} ${d.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${c.origin} t\xfal kicsi ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`\xc9rv\xe9nytelen string: "${c.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===c.format)return`\xc9rv\xe9nytelen string: "${c.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===c.format)return`\xc9rv\xe9nytelen string: "${c.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===c.format)return`\xc9rv\xe9nytelen string: ${c.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${b[c.format]??c.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${c.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${c.keys.length>1?"s":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${c.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${c.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}},"id",0,function(){let a,b;return{localeError:(a={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},b={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Input tidak valid: diharapkan ${c.expected}, diterima ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Input tidak valid: diharapkan ${fX(c.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Terlalu besar: diharapkan ${c.origin??"value"} memiliki ${b}${c.maximum.toString()} ${d.unit??"elemen"}`;return`Terlalu besar: diharapkan ${c.origin??"value"} menjadi ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Terlalu kecil: diharapkan ${c.origin} memiliki ${b}${c.minimum.toString()} ${d.unit}`;return`Terlalu kecil: diharapkan ${c.origin} menjadi ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`String tidak valid: harus dimulai dengan "${c.prefix}"`;if("ends_with"===c.format)return`String tidak valid: harus berakhir dengan "${c.suffix}"`;if("includes"===c.format)return`String tidak valid: harus menyertakan "${c.includes}"`;if("regex"===c.format)return`String tidak valid: harus sesuai pola ${c.pattern}`;return`${b[c.format]??c.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${c.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${c.keys.length>1?"s":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${c.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${c.origin}`}})}},"it",0,function(){let a,b;return{localeError:(a={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},b={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Input non valido: atteso ${c.expected}, ricevuto ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"numero";case"object":if(Array.isArray(a))return"vettore";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Input non valido: atteso ${fX(c.values[0])}`;return`Opzione non valida: atteso uno tra ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Troppo grande: ${c.origin??"valore"} deve avere ${b}${c.maximum.toString()} ${d.unit??"elementi"}`;return`Troppo grande: ${c.origin??"valore"} deve essere ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Troppo piccolo: ${c.origin} deve avere ${b}${c.minimum.toString()} ${d.unit}`;return`Troppo piccolo: ${c.origin} deve essere ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Stringa non valida: deve iniziare con "${c.prefix}"`;if("ends_with"===c.format)return`Stringa non valida: deve terminare con "${c.suffix}"`;if("includes"===c.format)return`Stringa non valida: deve includere "${c.includes}"`;if("regex"===c.format)return`Stringa non valida: deve corrispondere al pattern ${c.pattern}`;return`Invalid ${b[c.format]??c.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${c.divisor}`;case"unrecognized_keys":return`Chiav${c.keys.length>1?"i":"e"} non riconosciut${c.keys.length>1?"e":"a"}: ${fA(c.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${c.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${c.origin}`}})}},"ja",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return`: ${c.expected}${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"";case"object":if(Array.isArray(a))return"";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`: ${fX(c.values[0])}`;return`: ${fA(c.values,"")}`;case"too_big":{let b=c.inclusive?"":"",d=a[c.origin]??null;if(d)return`: ${c.origin??""}${c.maximum.toString()}${d.unit??""}${b}`;return`: ${c.origin??""}${c.maximum.toString()}${b}`}case"too_small":{let b=c.inclusive?"":"",d=a[c.origin]??null;if(d)return`: ${c.origin}${c.minimum.toString()}${d.unit}${b}`;return`: ${c.origin}${c.minimum.toString()}${b}`}case"invalid_format":if("starts_with"===c.format)return`: "${c.prefix}"`;if("ends_with"===c.format)return`: "${c.suffix}"`;if("includes"===c.format)return`: "${c.includes}"`;if("regex"===c.format)return`: ${c.pattern}`;return`${b[c.format]??c.format}`;case"not_multiple_of":return`: ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"":""}: ${fA(c.keys,"")}`;case"invalid_key":return`${c.origin}`;case"invalid_union":return"";case"invalid_element":return`${c.origin}`;default:return``}})}},"kh",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return`  ${c.expected}  ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?" (NaN)":"";case"object":if(Array.isArray(a))return" (Array)";if(null===a)return" (null)";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`  ${fX(c.values[0])}`;return`  ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`  ${c.origin??""} ${b} ${c.maximum.toString()} ${d.unit??""}`;return`  ${c.origin??""} ${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`  ${c.origin} ${b} ${c.minimum.toString()} ${d.unit}`;return`  ${c.origin} ${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`  "${c.prefix}"`;if("ends_with"===c.format)return`  "${c.suffix}"`;if("includes"===c.format)return`  "${c.includes}"`;if("regex"===c.format)return`  ${c.pattern}`;return` ${b[c.format]??c.format}`;case"not_multiple_of":return`  ${c.divisor}`;case"unrecognized_keys":return` ${fA(c.keys,", ")}`;case"invalid_key":return` ${c.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${c.origin}`}})}},"ko",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},b={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return` :   ${c.expected},   ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return` :  ${fX(c.values[0])}  `;return` : ${fA(c.values," ")}   `;case"too_big":{let b=c.inclusive?"":"",d=""===b?" ":" ",e=a[c.origin]??null,f=e?.unit??"";if(e)return`${c.origin??""}  : ${c.maximum.toString()}${f} ${b}${d}`;return`${c.origin??""}  : ${c.maximum.toString()} ${b}${d}`}case"too_small":{let b=c.inclusive?"":"",d=""===b?" ":" ",e=a[c.origin]??null,f=e?.unit??"";if(e)return`${c.origin??""}  : ${c.minimum.toString()}${f} ${b}${d}`;return`${c.origin??""}  : ${c.minimum.toString()} ${b}${d}`}case"invalid_format":if("starts_with"===c.format)return` : "${c.prefix}"()  `;if("ends_with"===c.format)return` : "${c.suffix}"()  `;if("includes"===c.format)return` : "${c.includes}"()  `;if("regex"===c.format)return` :  ${c.pattern}   `;return` ${b[c.format]??c.format}`;case"not_multiple_of":return` : ${c.divisor}  `;case"unrecognized_keys":return`   : ${fA(c.keys,", ")}`;case"invalid_key":return` : ${c.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${c.origin}`}})}},"mk",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return` :   ${c.expected},  ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"";case"object":if(Array.isArray(a))return"";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Invalid input: expected ${fX(c.values[0])}`;return` :    ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` :   ${c.origin??""}   ${b}${c.maximum.toString()} ${d.unit??""}`;return` :   ${c.origin??""}   ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return` :   ${c.origin}   ${b}${c.minimum.toString()} ${d.unit}`;return` :   ${c.origin}   ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return` :     "${c.prefix}"`;if("ends_with"===c.format)return` :     "${c.suffix}"`;if("includes"===c.format)return` :    "${c.includes}"`;if("regex"===c.format)return` :      ${c.pattern}`;return`Invalid ${b[c.format]??c.format}`;case"not_multiple_of":return` :      ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?" ":" "}: ${fA(c.keys,", ")}`;case"invalid_key":return`   ${c.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${c.origin}`;default:return` `}})}},"ms",0,function(){let a,b;return{localeError:(a={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},b={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Input tidak sah: dijangka ${c.expected}, diterima ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nombor";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Input tidak sah: dijangka ${fX(c.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Terlalu besar: dijangka ${c.origin??"nilai"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"elemen"}`;return`Terlalu besar: dijangka ${c.origin??"nilai"} adalah ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Terlalu kecil: dijangka ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Terlalu kecil: dijangka ${c.origin} adalah ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`String tidak sah: mesti bermula dengan "${c.prefix}"`;if("ends_with"===c.format)return`String tidak sah: mesti berakhir dengan "${c.suffix}"`;if("includes"===c.format)return`String tidak sah: mesti mengandungi "${c.includes}"`;if("regex"===c.format)return`String tidak sah: mesti sepadan dengan corak ${c.pattern}`;return`${b[c.format]??c.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${c.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${fA(c.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${c.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${c.origin}`}})}},"nl",0,function(){let a,b;return{localeError:(a={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}},b={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},c=>{switch(c.code){case"invalid_type":return`Ongeldige invoer: verwacht ${c.expected}, ontving ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"getal";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ongeldige invoer: verwacht ${fX(c.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Te lang: verwacht dat ${c.origin??"waarde"} ${b}${c.maximum.toString()} ${d.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${c.origin??"waarde"} ${b}${c.maximum.toString()} is`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Te kort: verwacht dat ${c.origin} ${b}${c.minimum.toString()} ${d.unit} bevat`;return`Te kort: verwacht dat ${c.origin} ${b}${c.minimum.toString()} is`}case"invalid_format":if("starts_with"===c.format)return`Ongeldige tekst: moet met "${c.prefix}" beginnen`;if("ends_with"===c.format)return`Ongeldige tekst: moet op "${c.suffix}" eindigen`;if("includes"===c.format)return`Ongeldige tekst: moet "${c.includes}" bevatten`;if("regex"===c.format)return`Ongeldige tekst: moet overeenkomen met patroon ${c.pattern}`;return`Ongeldig: ${b[c.format]??c.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${c.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${c.keys.length>1?"s":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${c.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${c.origin}`}})}},"no",0,function(){let a,b;return{localeError:(a={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},b={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return`Ugyldig input: forventet ${c.expected}, fikk ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"tall";case"object":if(Array.isArray(a))return"liste";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ugyldig verdi: forventet ${fX(c.values[0])}`;return`Ugyldig valg: forventet en av ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`For stor(t): forventet ${c.origin??"value"} til \xe5 ha ${b}${c.maximum.toString()} ${d.unit??"elementer"}`;return`For stor(t): forventet ${c.origin??"value"} til \xe5 ha ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`For lite(n): forventet ${c.origin} til \xe5 ha ${b}${c.minimum.toString()} ${d.unit}`;return`For lite(n): forventet ${c.origin} til \xe5 ha ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Ugyldig streng: m\xe5 starte med "${c.prefix}"`;if("ends_with"===c.format)return`Ugyldig streng: m\xe5 ende med "${c.suffix}"`;if("includes"===c.format)return`Ugyldig streng: m\xe5 inneholde "${c.includes}"`;if("regex"===c.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${c.pattern}`;return`Ugyldig ${b[c.format]??c.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${fA(c.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${c.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${c.origin}`}})}},"ota",0,function(){let a,b;return{localeError:(a={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},b={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},c=>{switch(c.code){case"invalid_type":return`F\xe2sit giren: umulan ${c.expected}, alnan ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"numara";case"object":if(Array.isArray(a))return"saf";if(null===a)return"gayb";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`F\xe2sit giren: umulan ${fX(c.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Fazla b\xfcy\xfck: ${c.origin??"value"}, ${b}${c.maximum.toString()} ${d.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${c.origin??"value"}, ${b}${c.maximum.toString()} olmalyd.`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Fazla k\xfc\xe7\xfck: ${c.origin}, ${b}${c.minimum.toString()} ${d.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${c.origin}, ${b}${c.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===c.format)return`F\xe2sit metin: "${c.prefix}" ile balamal.`;if("ends_with"===c.format)return`F\xe2sit metin: "${c.suffix}" ile bitmeli.`;if("includes"===c.format)return`F\xe2sit metin: "${c.includes}" ihtiv\xe2 etmeli.`;if("regex"===c.format)return`F\xe2sit metin: ${c.pattern} nakna uymal.`;return`F\xe2sit ${b[c.format]??c.format}`;case"not_multiple_of":return`F\xe2sit say: ${c.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${c.keys.length>1?"s":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`${c.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${c.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}})}},"pl",0,function(){let a,b;return{localeError:(a={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},b={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},c=>{switch(c.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${c.expected}, otrzymano ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"liczba";case"object":if(Array.isArray(a))return"tablica";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${fX(c.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Za dua warto: oczekiwano, e ${c.origin??"warto"} bdzie mie ${b}${c.maximum.toString()} ${d.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${c.origin??"warto"} bdzie wynosi ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Za maa warto: oczekiwano, e ${c.origin??"warto"} bdzie mie ${b}${c.minimum.toString()} ${d.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${c.origin??"warto"} bdzie wynosi ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${c.prefix}"`;if("ends_with"===c.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${c.suffix}"`;if("includes"===c.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${c.includes}"`;if("regex"===c.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${c.pattern}`;return`Nieprawidow(y/a/e) ${b[c.format]??c.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${c.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${c.keys.length>1?"s":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${c.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${c.origin}`;default:return`Nieprawidowe dane wejciowe`}})}},"ps",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return` :  ${c.expected} ,  ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"";case"object":if(Array.isArray(a))return"";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}  `;case"invalid_value":if(1===c.values.length)return` :  ${fX(c.values[0])} `;return` :    ${fA(c.values,"|")}  `;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` : ${c.origin??""}  ${b}${c.maximum.toString()} ${d.unit??""} `;return` : ${c.origin??""}  ${b}${c.maximum.toString()} `}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return` : ${c.origin}  ${b}${c.minimum.toString()} ${d.unit} `;return` : ${c.origin}  ${b}${c.minimum.toString()} `}case"invalid_format":if("starts_with"===c.format)return` :   "${c.prefix}"   `;if("ends_with"===c.format)return` :   "${c.suffix}"    `;if("includes"===c.format)return` :  "${c.includes}" `;if("regex"===c.format)return` :   ${c.pattern}   `;return`${b[c.format]??c.format}  `;case"not_multiple_of":return` :   ${c.divisor}  `;case"unrecognized_keys":return` ${c.keys.length>1?"":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`   ${c.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${c.origin} `}})}},"pt",0,function(){let a,b;return{localeError:(a={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},b={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},c=>{switch(c.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${c.expected}, recebido ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"nmero";case"object":if(Array.isArray(a))return"array";if(null===a)return"nulo";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Entrada inv\xe1lida: esperado ${fX(c.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Muito grande: esperado que ${c.origin??"valor"} tivesse ${b}${c.maximum.toString()} ${d.unit??"elementos"}`;return`Muito grande: esperado que ${c.origin??"valor"} fosse ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Muito pequeno: esperado que ${c.origin} tivesse ${b}${c.minimum.toString()} ${d.unit}`;return`Muito pequeno: esperado que ${c.origin} fosse ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Texto inv\xe1lido: deve come\xe7ar com "${c.prefix}"`;if("ends_with"===c.format)return`Texto inv\xe1lido: deve terminar com "${c.suffix}"`;if("includes"===c.format)return`Texto inv\xe1lido: deve incluir "${c.includes}"`;if("regex"===c.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${c.pattern}`;return`${b[c.format]??c.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${c.divisor}`;case"unrecognized_keys":return`Chave${c.keys.length>1?"s":""} desconhecida${c.keys.length>1?"s":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${c.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${c.origin}`;default:return`Campo inv\xe1lido`}})}},"ru",0,function(){let a,b;return{localeError:(a={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},b={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return` :  ${c.expected},  ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"";case"object":if(Array.isArray(a))return"";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return` :  ${fX(c.values[0])}`;return` :    ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d){let a=j4(Number(c.maximum),d.unit.one,d.unit.few,d.unit.many);return`  : ,  ${c.origin??""}   ${b}${c.maximum.toString()} ${a}`}return`  : ,  ${c.origin??""}  ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d){let a=j4(Number(c.minimum),d.unit.one,d.unit.few,d.unit.many);return`  : ,  ${c.origin}   ${b}${c.minimum.toString()} ${a}`}return`  : ,  ${c.origin}  ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return` :    "${c.prefix}"`;if("ends_with"===c.format)return` :    "${c.suffix}"`;if("includes"===c.format)return` :   "${c.includes}"`;if("regex"===c.format)return` :    ${c.pattern}`;return` ${b[c.format]??c.format}`;case"not_multiple_of":return` :    ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"":""} ${c.keys.length>1?"":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`   ${c.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${c.origin}`;default:return`  `}})}},"sl",0,function(){let a,b;return{localeError:(a={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},b={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},c=>{switch(c.code){case"invalid_type":return`Neveljaven vnos: priakovano ${c.expected}, prejeto ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"tevilo";case"object":if(Array.isArray(a))return"tabela";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Neveljaven vnos: priakovano ${fX(c.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Preveliko: priakovano, da bo ${c.origin??"vrednost"} imelo ${b}${c.maximum.toString()} ${d.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${c.origin??"vrednost"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Premajhno: priakovano, da bo ${c.origin} imelo ${b}${c.minimum.toString()} ${d.unit}`;return`Premajhno: priakovano, da bo ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Neveljaven niz: mora se zaeti z "${c.prefix}"`;if("ends_with"===c.format)return`Neveljaven niz: mora se konati z "${c.suffix}"`;if("includes"===c.format)return`Neveljaven niz: mora vsebovati "${c.includes}"`;if("regex"===c.format)return`Neveljaven niz: mora ustrezati vzorcu ${c.pattern}`;return`Neveljaven ${b[c.format]??c.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${c.divisor}`;case"unrecognized_keys":return`Neprepoznan${c.keys.length>1?"i kljui":" klju"}: ${fA(c.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${c.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${c.origin}`}})}},"sv",0,function(){let a,b;return{localeError:(a={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},b={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},c=>{switch(c.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${c.expected}, fick ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"antal";case"object":if(Array.isArray(a))return"lista";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${fX(c.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${c.origin??"vrdet"} att ha ${b}${c.maximum.toString()} ${d.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${c.origin??"vrdet"} att ha ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${c.origin??"vrdet"} att ha ${b}${c.minimum.toString()} ${d.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${c.origin??"vrdet"} att ha ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${c.prefix}"`;if("ends_with"===c.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${c.suffix}"`;if("includes"===c.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${c.includes}"`;if("regex"===c.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${c.pattern}"`;return`Ogiltig(t) ${b[c.format]??c.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${fA(c.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${c.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${c.origin??"vrdet"}`}})}},"ta",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},c=>{switch(c.code){case"invalid_type":return` :  ${c.expected},  ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?" ":"";case"object":if(Array.isArray(a))return"";if(null===a)return"";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return` :  ${fX(c.values[0])}`;return` :  ${fA(c.values,"|")}  `;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` :  ${c.origin??""} ${b}${c.maximum.toString()} ${d.unit??""}   `;return` :  ${c.origin??""} ${b}${c.maximum.toString()}   `}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return` :  ${c.origin} ${b}${c.minimum.toString()} ${d.unit}   `;return` :  ${c.origin} ${b}${c.minimum.toString()}   `}case"invalid_format":if("starts_with"===c.format)return` : "${c.prefix}"   `;if("ends_with"===c.format)return` : "${c.suffix}"   `;if("includes"===c.format)return` : "${c.includes}"   `;if("regex"===c.format)return` : ${c.pattern}   `;return` ${b[c.format]??c.format}`;case"not_multiple_of":return` : ${c.divisor}    `;case"unrecognized_keys":return`  ${c.keys.length>1?"":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`${c.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${c.origin}   `;default:return` `}})}},"th",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return`:  ${c.expected}  ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?" (NaN)":"";case"object":if(Array.isArray(a))return" (Array)";if(null===a)return" (null)";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`:  ${fX(c.values[0])}`;return`:  ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"":"",d=a[c.origin]??null;if(d)return`: ${c.origin??""} ${b} ${c.maximum.toString()} ${d.unit??""}`;return`: ${c.origin??""} ${b} ${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?"":"",d=a[c.origin]??null;if(d)return`: ${c.origin} ${b} ${c.minimum.toString()} ${d.unit}`;return`: ${c.origin} ${b} ${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`:  "${c.prefix}"`;if("ends_with"===c.format)return`:  "${c.suffix}"`;if("includes"===c.format)return`:  "${c.includes}" `;if("regex"===c.format)return`:  ${c.pattern}`;return`: ${b[c.format]??c.format}`;case"not_multiple_of":return`:  ${c.divisor} `;case"unrecognized_keys":return`: ${fA(c.keys,", ")}`;case"invalid_key":return` ${c.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${c.origin}`;default:return``}})}},"tr",0,function(){let a,b;return{localeError:(a={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},b={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},c=>{switch(c.code){case"invalid_type":return`Ge\xe7ersiz deer: beklenen ${c.expected}, alnan ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`Ge\xe7ersiz deer: beklenen ${fX(c.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`\xc7ok b\xfcy\xfck: beklenen ${c.origin??"deer"} ${b}${c.maximum.toString()} ${d.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${c.origin??"deer"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`\xc7ok k\xfc\xe7\xfck: beklenen ${c.origin} ${b}${c.minimum.toString()} ${d.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Ge\xe7ersiz metin: "${c.prefix}" ile balamal`;if("ends_with"===c.format)return`Ge\xe7ersiz metin: "${c.suffix}" ile bitmeli`;if("includes"===c.format)return`Ge\xe7ersiz metin: "${c.includes}" i\xe7ermeli`;if("regex"===c.format)return`Ge\xe7ersiz metin: ${c.pattern} desenine uymal`;return`Ge\xe7ersiz ${b[c.format]??c.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${c.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${c.keys.length>1?"lar":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`${c.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${c.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}})}},"ua",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},c=>{switch(c.code){case"invalid_type":return`  :  ${c.expected},  ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"";case"object":if(Array.isArray(a))return"";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`  :  ${fX(c.values[0])}`;return` :    ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` : ,  ${c.origin??""} ${d.verb} ${b}${c.maximum.toString()} ${d.unit??""}`;return` : ,  ${c.origin??""}  ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return` : ,  ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return` : ,  ${c.origin}  ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return` :    "${c.prefix}"`;if("ends_with"===c.format)return` :    "${c.suffix}"`;if("includes"===c.format)return` :   "${c.includes}"`;if("regex"===c.format)return` :    ${c.pattern}`;return` ${b[c.format]??c.format}`;case"not_multiple_of":return` :    ${c.divisor}`;case"unrecognized_keys":return` ${c.keys.length>1?"":""}: ${fA(c.keys,", ")}`;case"invalid_key":return`   ${c.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${c.origin}`;default:return`  `}})}},"ur",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},c=>{switch(c.code){case"invalid_type":return`  : ${c.expected}   ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"";case"object":if(Array.isArray(a))return"";if(null===a)return"";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}  `;case"invalid_value":if(1===c.values.length)return`  : ${fX(c.values[0])}  `;return` : ${fA(c.values,"|")}     `;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` : ${c.origin??""}  ${b}${c.maximum.toString()} ${d.unit??""}   `;return` : ${c.origin??""}  ${b}${c.maximum.toString()}   `}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return` : ${c.origin}  ${b}${c.minimum.toString()} ${d.unit}   `;return` : ${c.origin}  ${b}${c.minimum.toString()}   `}case"invalid_format":if("starts_with"===c.format)return` : "${c.prefix}"    `;if("ends_with"===c.format)return` : "${c.suffix}"    `;if("includes"===c.format)return` : "${c.includes}"   `;if("regex"===c.format)return` :  ${c.pattern}    `;return` ${b[c.format]??c.format}`;case"not_multiple_of":return` : ${c.divisor}    `;case"unrecognized_keys":return`   ${c.keys.length>1?"":""}: ${fA(c.keys," ")}`;case"invalid_key":return`${c.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${c.origin}   `;default:return`  `}})}},"vi",0,function(){let a,b;return{localeError:(a={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},b={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},c=>{switch(c.code){case"invalid_type":return`u v\xe0o kh\xf4ng hp l: mong i ${c.expected}, nhn c ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"s";case"object":if(Array.isArray(a))return"mng";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${fX(c.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return`Qu\xe1 ln: mong i ${c.origin??"gi tr"} ${d.verb} ${b}${c.maximum.toString()} ${d.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${c.origin??"gi tr"} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return`Qu\xe1 nh: mong i ${c.origin} ${d.verb} ${b}${c.minimum.toString()} ${d.unit}`;return`Qu\xe1 nh: mong i ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return`Chui kh\xf4ng hp l: phi bt u bng "${c.prefix}"`;if("ends_with"===c.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${c.suffix}"`;if("includes"===c.format)return`Chui kh\xf4ng hp l: phi bao gm "${c.includes}"`;if("regex"===c.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${c.pattern}`;return`${b[c.format]??c.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${c.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${fA(c.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${c.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${c.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}})}},"zhCN",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return` ${c.expected} ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"(NaN)":"";case"object":if(Array.isArray(a))return"";if(null===a)return"(null)";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return` ${fX(c.values[0])}`;return` ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` ${c.origin??""} ${b}${c.maximum.toString()} ${d.unit??""}`;return` ${c.origin??""} ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return` ${c.origin} ${b}${c.minimum.toString()} ${d.unit}`;return` ${c.origin} ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return` "${c.prefix}" `;if("ends_with"===c.format)return` "${c.suffix}" `;if("includes"===c.format)return` "${c.includes}"`;if("regex"===c.format)return` ${c.pattern}`;return`${b[c.format]??c.format}`;case"not_multiple_of":return` ${c.divisor} `;case"unrecognized_keys":return`(key): ${fA(c.keys,", ")}`;case"invalid_key":return`${c.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${c.origin} (value)`;default:return``}})}},"zhTW",0,function(){let a,b;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c=>{switch(c.code){case"invalid_type":return` ${c.expected} ${(a=>{let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"NaN":"number";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(Object.getPrototypeOf(a)!==Object.prototype&&a.constructor)return a.constructor.name}return b})(c.input)}`;case"invalid_value":if(1===c.values.length)return` ${fX(c.values[0])}`;return` ${fA(c.values,"|")}`;case"too_big":{let b=c.inclusive?"<=":"<",d=a[c.origin]??null;if(d)return` ${c.origin??""}  ${b}${c.maximum.toString()} ${d.unit??""}`;return` ${c.origin??""}  ${b}${c.maximum.toString()}`}case"too_small":{let b=c.inclusive?">=":">",d=a[c.origin]??null;if(d)return` ${c.origin}  ${b}${c.minimum.toString()} ${d.unit}`;return` ${c.origin}  ${b}${c.minimum.toString()}`}case"invalid_format":if("starts_with"===c.format)return` "${c.prefix}" `;if("ends_with"===c.format)return` "${c.suffix}" `;if("includes"===c.format)return` "${c.includes}"`;if("regex"===c.format)return` ${c.pattern}`;return` ${b[c.format]??c.format}`;case"not_multiple_of":return` ${c.divisor} `;case"unrecognized_keys":return`${c.keys.length>1?"":""}${fA(c.keys,"")}`;case"invalid_key":return`${c.origin} `;case"invalid_union":return"";case"invalid_element":return`${c.origin} `;default:return``}})}}],86618);var j5=a.i(86618);function j6(a,b){return new a({type:"string",...fV(b)})}function j7(a,b){return new a({type:"string",coerce:!0,...fV(b)})}function j8(a,b){return new a({type:"string",format:"email",check:"string_format",abort:!1,...fV(b)})}function j9(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...fV(b)})}function ka(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,...fV(b)})}function kb(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...fV(b)})}function kc(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...fV(b)})}function kd(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...fV(b)})}function ke(a,b){return new a({type:"string",format:"url",check:"string_format",abort:!1,...fV(b)})}function kf(a,b){return new a({type:"string",format:"emoji",check:"string_format",abort:!1,...fV(b)})}function kg(a,b){return new a({type:"string",format:"nanoid",check:"string_format",abort:!1,...fV(b)})}function kh(a,b){return new a({type:"string",format:"cuid",check:"string_format",abort:!1,...fV(b)})}function ki(a,b){return new a({type:"string",format:"cuid2",check:"string_format",abort:!1,...fV(b)})}function kj(a,b){return new a({type:"string",format:"ulid",check:"string_format",abort:!1,...fV(b)})}function kk(a,b){return new a({type:"string",format:"xid",check:"string_format",abort:!1,...fV(b)})}function kl(a,b){return new a({type:"string",format:"ksuid",check:"string_format",abort:!1,...fV(b)})}function km(a,b){return new a({type:"string",format:"ipv4",check:"string_format",abort:!1,...fV(b)})}function kn(a,b){return new a({type:"string",format:"ipv6",check:"string_format",abort:!1,...fV(b)})}function ko(a,b){return new a({type:"string",format:"cidrv4",check:"string_format",abort:!1,...fV(b)})}function kp(a,b){return new a({type:"string",format:"cidrv6",check:"string_format",abort:!1,...fV(b)})}function kq(a,b){return new a({type:"string",format:"base64",check:"string_format",abort:!1,...fV(b)})}function kr(a,b){return new a({type:"string",format:"base64url",check:"string_format",abort:!1,...fV(b)})}function ks(a,b){return new a({type:"string",format:"e164",check:"string_format",abort:!1,...fV(b)})}function kt(a,b){return new a({type:"string",format:"jwt",check:"string_format",abort:!1,...fV(b)})}a.i(64166),a.i(66004);let ku={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function kv(a,b){return new a({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...fV(b)})}function kw(a,b){return new a({type:"string",format:"date",check:"string_format",...fV(b)})}function kx(a,b){return new a({type:"string",format:"time",check:"string_format",precision:null,...fV(b)})}function ky(a,b){return new a({type:"string",format:"duration",check:"string_format",...fV(b)})}function kz(a,b){return new a({type:"number",checks:[],...fV(b)})}function kA(a,b){return new a({type:"number",coerce:!0,checks:[],...fV(b)})}function kB(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"safeint",...fV(b)})}function kC(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float32",...fV(b)})}function kD(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float64",...fV(b)})}function kE(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"int32",...fV(b)})}function kF(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"uint32",...fV(b)})}function kG(a,b){return new a({type:"boolean",...fV(b)})}function kH(a,b){return new a({type:"boolean",coerce:!0,...fV(b)})}function kI(a,b){return new a({type:"bigint",...fV(b)})}function kJ(a,b){return new a({type:"bigint",coerce:!0,...fV(b)})}function kK(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...fV(b)})}function kL(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...fV(b)})}function kM(a,b){return new a({type:"symbol",...fV(b)})}function kN(a,b){return new a({type:"undefined",...fV(b)})}function kO(a,b){return new a({type:"null",...fV(b)})}function kP(a){return new a({type:"any"})}function kQ(a){return new a({type:"unknown"})}function kR(a,b){return new a({type:"never",...fV(b)})}function kS(a,b){return new a({type:"void",...fV(b)})}function kT(a,b){return new a({type:"date",...fV(b)})}function kU(a,b){return new a({type:"date",coerce:!0,...fV(b)})}function kV(a,b){return new a({type:"nan",...fV(b)})}function kW(a,b){return new il({check:"less_than",...fV(b),value:a,inclusive:!1})}function kX(a,b){return new il({check:"less_than",...fV(b),value:a,inclusive:!0})}function kY(a,b){return new im({check:"greater_than",...fV(b),value:a,inclusive:!1})}function kZ(a,b){return new im({check:"greater_than",...fV(b),value:a,inclusive:!0})}function k$(a){return kY(0,a)}function k_(a){return kW(0,a)}function k0(a){return kX(0,a)}function k1(a){return kZ(0,a)}function k2(a,b){return new io({check:"multiple_of",...fV(b),value:a})}function k3(a,b){return new ir({check:"max_size",...fV(b),maximum:a})}function k4(a,b){return new is({check:"min_size",...fV(b),minimum:a})}function k5(a,b){return new it({check:"size_equals",...fV(b),size:a})}function k6(a,b){return new iu({check:"max_length",...fV(b),maximum:a})}function k7(a,b){return new iv({check:"min_length",...fV(b),minimum:a})}function k8(a,b){return new iw({check:"length_equals",...fV(b),length:a})}function k9(a,b){return new iy({check:"string_format",format:"regex",...fV(b),pattern:a})}function la(a){return new iz({check:"string_format",format:"lowercase",...fV(a)})}function lb(a){return new iA({check:"string_format",format:"uppercase",...fV(a)})}function lc(a,b){return new iB({check:"string_format",format:"includes",...fV(b),includes:a})}function ld(a,b){return new iC({check:"string_format",format:"starts_with",...fV(b),prefix:a})}function le(a,b){return new iD({check:"string_format",format:"ends_with",...fV(b),suffix:a})}function lf(a,b,c){return new iF({check:"property",property:a,schema:b,...fV(c)})}function lg(a,b){return new iG({check:"mime_type",mime:a,...fV(b)})}function lh(a){return new iH({check:"overwrite",tx:a})}function li(a){return lh(b=>b.normalize(a))}function lj(){return lh(a=>a.trim())}function lk(){return lh(a=>a.toLowerCase())}function ll(){return lh(a=>a.toUpperCase())}function lm(a,b,c){return new a({type:"array",element:b,...fV(c)})}function ln(a,b,c){return new a({type:"union",options:b,...fV(c)})}function lo(a,b,c,d){return new a({type:"union",options:c,discriminator:b,...fV(d)})}function lp(a,b,c){return new a({type:"intersection",left:b,right:c})}function lq(a,b,c,d){let e=c instanceof iK,f=e?d:c;return new a({type:"tuple",items:b,rest:e?c:null,...fV(f)})}function lr(a,b,c,d){return new a({type:"record",keyType:b,valueType:c,...fV(d)})}function ls(a,b,c,d){return new a({type:"map",keyType:b,valueType:c,...fV(d)})}function lt(a,b,c){return new a({type:"set",valueType:b,...fV(c)})}function lu(a,b,c){return new a({type:"enum",entries:Array.isArray(b)?Object.fromEntries(b.map(a=>[a,a])):b,...fV(c)})}function lv(a,b,c){return new a({type:"enum",entries:b,...fV(c)})}function lw(a,b,c){return new a({type:"literal",values:Array.isArray(b)?b:[b],...fV(c)})}function lx(a,b){return new a({type:"file",...fV(b)})}function ly(a,b){return new a({type:"transform",transform:b})}function lz(a,b){return new a({type:"optional",innerType:b})}function lA(a,b){return new a({type:"nullable",innerType:b})}function lB(a,b,c){return new a({type:"default",innerType:b,get defaultValue(){return"function"==typeof c?c():c}})}function lC(a,b,c){return new a({type:"nonoptional",innerType:b,...fV(c)})}function lD(a,b){return new a({type:"success",innerType:b})}function lE(a,b,c){return new a({type:"catch",innerType:b,catchValue:"function"==typeof c?c:()=>c})}function lF(a,b,c){return new a({type:"pipe",in:b,out:c})}function lG(a,b){return new a({type:"readonly",innerType:b})}function lH(a,b,c){return new a({type:"template_literal",parts:b,...fV(c)})}function lI(a,b){return new a({type:"lazy",getter:b})}function lJ(a,b){return new a({type:"promise",innerType:b})}function lK(a,b,c){let d=fV(c);return d.abort??(d.abort=!0),new a({type:"custom",check:"custom",fn:b,...d})}function lL(a,b,c){return new a({type:"custom",check:"custom",fn:b,...fV(c)})}function lM(a,b){let c=fV(b),d=c.truthy??["true","1","yes","on","y","enabled"],e=c.falsy??["false","0","no","off","n","disabled"];"sensitive"!==c.case&&(d=d.map(a=>"string"==typeof a?a.toLowerCase():a),e=e.map(a=>"string"==typeof a?a.toLowerCase():a));let f=new Set(d),g=new Set(e),h=a.Pipe??jU,i=a.Boolean??je,j=a.String??iL,k=new(a.Transform??jJ)({type:"transform",transform:(a,b)=>{let d=a;return"sensitive"!==c.case&&(d=d.toLowerCase()),!!f.has(d)||!g.has(d)&&(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...f,...g],input:b.value,inst:k}),{})},error:c.error}),l=new h({type:"pipe",in:new j({type:"string",error:c.error}),out:k,error:c.error});return new h({type:"pipe",in:l,out:new i({type:"boolean",error:c.error}),error:c.error})}function lN(a,b,c,d={}){let e=fV(d),f={...fV(d),check:"string_format",type:"string",format:b,fn:"function"==typeof c?c:a=>c.test(a),...e};return c instanceof RegExp&&(f.pattern=c),new a(f)}a.s(["TimePrecision",0,ku,"_any",()=>kP,"_array",()=>lm,"_base64",()=>kq,"_base64url",()=>kr,"_bigint",()=>kI,"_boolean",()=>kG,"_catch",()=>lE,"_cidrv4",()=>ko,"_cidrv6",()=>kp,"_coercedBigint",()=>kJ,"_coercedBoolean",()=>kH,"_coercedDate",()=>kU,"_coercedNumber",()=>kA,"_coercedString",()=>j7,"_cuid",()=>kh,"_cuid2",()=>ki,"_custom",()=>lK,"_date",()=>kT,"_default",()=>lB,"_discriminatedUnion",()=>lo,"_e164",()=>ks,"_email",()=>j8,"_emoji",()=>kf,"_endsWith",()=>le,"_enum",()=>lu,"_file",()=>lx,"_float32",()=>kC,"_float64",()=>kD,"_gt",()=>kY,"_gte",()=>kZ,"_guid",()=>j9,"_includes",()=>lc,"_int",()=>kB,"_int32",()=>kE,"_int64",()=>kK,"_intersection",()=>lp,"_ipv4",()=>km,"_ipv6",()=>kn,"_isoDate",()=>kw,"_isoDateTime",()=>kv,"_isoDuration",()=>ky,"_isoTime",()=>kx,"_jwt",()=>kt,"_ksuid",()=>kl,"_lazy",()=>lI,"_length",()=>k8,"_literal",()=>lw,"_lowercase",()=>la,"_lt",()=>kW,"_lte",()=>kX,"_map",()=>ls,"_max",()=>kX,"_maxLength",()=>k6,"_maxSize",()=>k3,"_mime",()=>lg,"_min",()=>kZ,"_minLength",()=>k7,"_minSize",()=>k4,"_multipleOf",()=>k2,"_nan",()=>kV,"_nanoid",()=>kg,"_nativeEnum",()=>lv,"_negative",()=>k_,"_never",()=>kR,"_nonnegative",()=>k1,"_nonoptional",()=>lC,"_nonpositive",()=>k0,"_normalize",()=>li,"_null",()=>kO,"_nullable",()=>lA,"_number",()=>kz,"_optional",()=>lz,"_overwrite",()=>lh,"_pipe",()=>lF,"_positive",()=>k$,"_promise",()=>lJ,"_property",()=>lf,"_readonly",()=>lG,"_record",()=>lr,"_refine",()=>lL,"_regex",()=>k9,"_set",()=>lt,"_size",()=>k5,"_startsWith",()=>ld,"_string",()=>j6,"_stringFormat",()=>lN,"_stringbool",()=>lM,"_success",()=>lD,"_symbol",()=>kM,"_templateLiteral",()=>lH,"_toLowerCase",()=>lk,"_toUpperCase",()=>ll,"_transform",()=>ly,"_trim",()=>lj,"_tuple",()=>lq,"_uint32",()=>kF,"_uint64",()=>kL,"_ulid",()=>kj,"_undefined",()=>kN,"_union",()=>ln,"_unknown",()=>kQ,"_uppercase",()=>lb,"_url",()=>ke,"_uuid",()=>ka,"_uuidv4",()=>kb,"_uuidv6",()=>kc,"_uuidv7",()=>kd,"_void",()=>kS,"_xid",()=>kk],63571);class lO{constructor(a){this._def=a,this.def=a}implement(a){if("function"!=typeof a)throw Error("implement() must be called with a function");let b=(...c)=>{let d=this._def.input?gn(this._def.input,c,void 0,{callee:b}):c;if(!Array.isArray(d))throw Error("Invalid arguments schema: not an array or tuple schema.");let e=a(...d);return this._def.output?gn(this._def.output,e,void 0,{callee:b}):e};return b}implementAsync(a){if("function"!=typeof a)throw Error("implement() must be called with a function");let b=async(...c)=>{let d=this._def.input?await gp(this._def.input,c,void 0,{callee:b}):c;if(!Array.isArray(d))throw Error("Invalid arguments schema: not an array or tuple schema.");let e=await a(...d);return this._def.output?gp(this._def.output,e,void 0,{callee:b}):e};return b}input(...a){let b=this.constructor;return new b(Array.isArray(a[0])?{type:"function",input:new jz({type:"tuple",items:a[0],rest:a[1]}),output:this._def.output}:{type:"function",input:a[0],output:this._def.output})}output(a){return new this.constructor({type:"function",input:this._def.input,output:a})}}function lP(a){return new lO({type:"function",input:Array.isArray(a?.input)?lq(jz,a?.input):a?.input??lm(jq,kQ(jl)),output:a?.output??kQ(jl)})}a.s(["$ZodFunction",()=>lO,"function",()=>lP],903),a.i(903),a.i(63571),a.i(76403),a.s([],95288);var lQ=a.i(95288);a.s(["$ZodAny",0,jk,"$ZodArray",0,jq,"$ZodAsyncError",()=>fr,"$ZodBase64",0,i5,"$ZodBase64URL",0,i7,"$ZodBigInt",0,jf,"$ZodBigIntFormat",0,jg,"$ZodBoolean",0,je,"$ZodCIDRv4",0,i2,"$ZodCIDRv6",0,i3,"$ZodCUID",0,iT,"$ZodCUID2",0,iU,"$ZodCatch",0,jS,"$ZodCheck",0,ij,"$ZodCheckBigIntFormat",0,iq,"$ZodCheckEndsWith",0,iD,"$ZodCheckGreaterThan",0,im,"$ZodCheckIncludes",0,iB,"$ZodCheckLengthEquals",0,iw,"$ZodCheckLessThan",0,il,"$ZodCheckLowerCase",0,iz,"$ZodCheckMaxLength",0,iu,"$ZodCheckMaxSize",0,ir,"$ZodCheckMimeType",0,iG,"$ZodCheckMinLength",0,iv,"$ZodCheckMinSize",0,is,"$ZodCheckMultipleOf",0,io,"$ZodCheckNumberFormat",0,ip,"$ZodCheckOverwrite",0,iH,"$ZodCheckProperty",0,iF,"$ZodCheckRegex",0,iy,"$ZodCheckSizeEquals",0,it,"$ZodCheckStartsWith",0,iC,"$ZodCheckStringFormat",0,ix,"$ZodCheckUpperCase",0,iA,"$ZodCustom",0,j_,"$ZodCustomStringFormat",0,jb,"$ZodDate",0,jo,"$ZodDefault",0,jM,"$ZodDiscriminatedUnion",0,jw,"$ZodE164",0,i8,"$ZodEmail",0,iP,"$ZodEmoji",0,iR,"$ZodEnum",0,jG,"$ZodError",0,gf,"$ZodFile",0,jI,"$ZodFunction",()=>lO,"$ZodGUID",0,iN,"$ZodIPv4",0,i0,"$ZodIPv6",0,i1,"$ZodISODate",0,iZ,"$ZodISODateTime",0,iY,"$ZodISODuration",0,i_,"$ZodISOTime",0,i$,"$ZodIntersection",0,jx,"$ZodJWT",0,ja,"$ZodKSUID",0,iX,"$ZodLazy",0,j$,"$ZodLiteral",0,jH,"$ZodMap",0,jC,"$ZodNaN",0,jT,"$ZodNanoID",0,iS,"$ZodNever",0,jm,"$ZodNonOptional",0,jP,"$ZodNull",0,jj,"$ZodNullable",0,jL,"$ZodNumber",0,jc,"$ZodNumberFormat",0,jd,"$ZodObject",0,jt,"$ZodOptional",0,jK,"$ZodPipe",0,jU,"$ZodPrefault",0,jO,"$ZodPromise",0,jZ,"$ZodReadonly",0,jW,"$ZodRealError",0,gg,"$ZodRecord",0,jB,"$ZodRegistry",()=>gD,"$ZodSet",0,jE,"$ZodString",0,iL,"$ZodStringFormat",0,iM,"$ZodSuccess",0,jR,"$ZodSymbol",0,jh,"$ZodTemplateLiteral",0,jY,"$ZodTransform",0,jJ,"$ZodTuple",0,jz,"$ZodType",0,iK,"$ZodULID",0,iV,"$ZodURL",0,iQ,"$ZodUUID",0,iO,"$ZodUndefined",0,ji,"$ZodUnion",0,jv,"$ZodUnknown",0,jl,"$ZodVoid",0,jn,"$ZodXID",0,iW,"$brand",0,fq,"$constructor",()=>fp,"$input",0,gC,"$output",0,gB,"Doc",()=>iI,"JSONSchema",0,lQ,"JSONSchemaGenerator",()=>gG,"NEVER",0,fo,"TimePrecision",0,ku,"_any",()=>kP,"_array",()=>lm,"_base64",()=>kq,"_base64url",()=>kr,"_bigint",()=>kI,"_boolean",()=>kG,"_catch",()=>lE,"_cidrv4",()=>ko,"_cidrv6",()=>kp,"_coercedBigint",()=>kJ,"_coercedBoolean",()=>kH,"_coercedDate",()=>kU,"_coercedNumber",()=>kA,"_coercedString",()=>j7,"_cuid",()=>kh,"_cuid2",()=>ki,"_custom",()=>lK,"_date",()=>kT,"_default",()=>lB,"_discriminatedUnion",()=>lo,"_e164",()=>ks,"_email",()=>j8,"_emoji",()=>kf,"_endsWith",()=>le,"_enum",()=>lu,"_file",()=>lx,"_float32",()=>kC,"_float64",()=>kD,"_gt",()=>kY,"_gte",()=>kZ,"_guid",()=>j9,"_includes",()=>lc,"_int",()=>kB,"_int32",()=>kE,"_int64",()=>kK,"_intersection",()=>lp,"_ipv4",()=>km,"_ipv6",()=>kn,"_isoDate",()=>kw,"_isoDateTime",()=>kv,"_isoDuration",()=>ky,"_isoTime",()=>kx,"_jwt",()=>kt,"_ksuid",()=>kl,"_lazy",()=>lI,"_length",()=>k8,"_literal",()=>lw,"_lowercase",()=>la,"_lt",()=>kW,"_lte",()=>kX,"_map",()=>ls,"_max",()=>kX,"_maxLength",()=>k6,"_maxSize",()=>k3,"_mime",()=>lg,"_min",()=>kZ,"_minLength",()=>k7,"_minSize",()=>k4,"_multipleOf",()=>k2,"_nan",()=>kV,"_nanoid",()=>kg,"_nativeEnum",()=>lv,"_negative",()=>k_,"_never",()=>kR,"_nonnegative",()=>k1,"_nonoptional",()=>lC,"_nonpositive",()=>k0,"_normalize",()=>li,"_null",()=>kO,"_nullable",()=>lA,"_number",()=>kz,"_optional",()=>lz,"_overwrite",()=>lh,"_parse",0,gm,"_parseAsync",0,go,"_pipe",()=>lF,"_positive",()=>k$,"_promise",()=>lJ,"_property",()=>lf,"_readonly",()=>lG,"_record",()=>lr,"_refine",()=>lL,"_regex",()=>k9,"_safeParse",0,gq,"_safeParseAsync",0,gs,"_set",()=>lt,"_size",()=>k5,"_startsWith",()=>ld,"_string",()=>j6,"_stringFormat",()=>lN,"_stringbool",()=>lM,"_success",()=>lD,"_symbol",()=>kM,"_templateLiteral",()=>lH,"_toLowerCase",()=>lk,"_toUpperCase",()=>ll,"_transform",()=>ly,"_trim",()=>lj,"_tuple",()=>lq,"_uint32",()=>kF,"_uint64",()=>kL,"_ulid",()=>kj,"_undefined",()=>kN,"_union",()=>ln,"_unknown",()=>kQ,"_uppercase",()=>lb,"_url",()=>ke,"_uuid",()=>ka,"_uuidv4",()=>kb,"_uuidv6",()=>kc,"_uuidv7",()=>kd,"_void",()=>kS,"_xid",()=>kk,"clone",()=>fU,"config",()=>ft,"flattenError",()=>gh,"formatError",()=>gi,"function",()=>lP,"globalConfig",0,fs,"globalRegistry",0,gF,"isValidBase64",()=>i4,"isValidBase64URL",()=>i6,"isValidJWT",()=>i9,"locales",0,j5,"parse",0,gn,"parseAsync",0,gp,"prettifyError",()=>gl,"regexes",0,j2,"registry",()=>gE,"safeParse",0,gr,"safeParseAsync",0,gt,"toDotPath",()=>gk,"toJSONSchema",()=>gH,"treeifyError",()=>gj,"util",0,j1,"version",0,iJ],29642);var lR=a.i(29642);a.s(["ZodAny",()=>m3,"ZodArray",()=>nd,"ZodBase64",()=>mA,"ZodBase64URL",()=>mC,"ZodBigInt",()=>mU,"ZodBigIntFormat",()=>mW,"ZodBoolean",()=>mS,"ZodCIDRv4",()=>mw,"ZodCIDRv6",()=>my,"ZodCUID",()=>mi,"ZodCUID2",()=>mk,"ZodCatch",()=>nV,"ZodCustom",()=>n7,"ZodCustomStringFormat",()=>mI,"ZodDate",()=>nb,"ZodDefault",()=>nN,"ZodDiscriminatedUnion",()=>nm,"ZodE164",()=>mE,"ZodEmail",()=>l3,"ZodEmoji",()=>me,"ZodEnum",()=>nz,"ZodFile",()=>nE,"ZodGUID",()=>l5,"ZodIPv4",()=>ms,"ZodIPv6",()=>mu,"ZodIntersection",()=>no,"ZodJWT",()=>mG,"ZodKSUID",()=>mq,"ZodLazy",()=>n3,"ZodLiteral",()=>nC,"ZodMap",()=>nv,"ZodNaN",()=>nX,"ZodNanoID",()=>mg,"ZodNever",()=>m7,"ZodNonOptional",()=>nR,"ZodNull",()=>m1,"ZodNullable",()=>nK,"ZodNumber",()=>mK,"ZodNumberFormat",()=>mM,"ZodObject",()=>ng,"ZodOptional",()=>nI,"ZodPipe",()=>nZ,"ZodPrefault",()=>nP,"ZodPromise",()=>n5,"ZodReadonly",()=>n_,"ZodRecord",()=>ns,"ZodSet",()=>nx,"ZodString",()=>l0,"ZodStringFormat",()=>l2,"ZodSuccess",()=>nT,"ZodSymbol",()=>mZ,"ZodTemplateLiteral",()=>n1,"ZodTransform",()=>nG,"ZodTuple",()=>nq,"ZodType",()=>l$,"ZodULID",()=>mm,"ZodURL",()=>mc,"ZodUUID",()=>l7,"ZodUndefined",()=>m_,"ZodUnion",()=>nk,"ZodUnknown",()=>m5,"ZodVoid",()=>m9,"ZodXID",()=>mo,"_ZodString",()=>l_,"_default",()=>nO,"any",()=>m4,"array",()=>ne,"base64",()=>mB,"base64url",()=>mD,"bigint",()=>mV,"boolean",()=>mT,"catch",()=>nW,"check",()=>n8,"cidrv4",()=>mx,"cidrv6",()=>mz,"cuid",()=>mj,"cuid2",()=>ml,"custom",()=>n9,"date",()=>nc,"discriminatedUnion",()=>nn,"e164",()=>mF,"email",()=>l4,"emoji",()=>mf,"enum",()=>nA,"file",()=>nF,"float32",()=>mO,"float64",()=>mP,"guid",()=>l6,"instanceof",()=>oc,"int",()=>mN,"int32",()=>mQ,"int64",()=>mX,"intersection",()=>np,"ipv4",()=>mt,"ipv6",()=>mv,"json",()=>oe,"jwt",()=>mH,"keyof",()=>nf,"ksuid",()=>mr,"lazy",()=>n4,"literal",()=>nD,"looseObject",()=>nj,"map",()=>nw,"nan",()=>nY,"nanoid",()=>mh,"nativeEnum",()=>nB,"never",()=>m8,"nonoptional",()=>nS,"null",()=>m2,"nullable",()=>nL,"nullish",()=>nM,"number",()=>mL,"object",()=>nh,"optional",()=>nJ,"partialRecord",()=>nu,"pipe",()=>n$,"prefault",()=>nQ,"preprocess",()=>of,"promise",()=>n6,"readonly",()=>n0,"record",()=>nt,"refine",()=>oa,"set",()=>ny,"strictObject",()=>ni,"string",()=>l1,"stringFormat",()=>mJ,"stringbool",()=>od,"success",()=>nU,"superRefine",()=>ob,"symbol",()=>m$,"templateLiteral",()=>n2,"transform",()=>nH,"tuple",()=>nr,"uint32",()=>mR,"uint64",()=>mY,"ulid",()=>mn,"undefined",()=>m0,"union",()=>nl,"unknown",()=>m6,"url",()=>md,"uuid",()=>l8,"uuidv4",()=>l9,"uuidv6",()=>ma,"uuidv7",()=>mb,"void",()=>na,"xid",()=>mp],94219);a.s(["ZodISODate",()=>lU,"ZodISODateTime",()=>lS,"ZodISODuration",()=>lY,"ZodISOTime",()=>lW,"date",()=>lV,"datetime",()=>lT,"duration",()=>lZ,"time",()=>lX],18850);let lS=fp("ZodISODateTime",(a,b)=>{iY.init(a,b),l2.init(a,b)});function lT(a){return kv(lS,a)}let lU=fp("ZodISODate",(a,b)=>{iZ.init(a,b),l2.init(a,b)});function lV(a){return kw(lU,a)}let lW=fp("ZodISOTime",(a,b)=>{i$.init(a,b),l2.init(a,b)});function lX(a){return kx(lW,a)}let lY=fp("ZodISODuration",(a,b)=>{i_.init(a,b),l2.init(a,b)});function lZ(a){return ky(lY,a)}let l$=fp("ZodType",(a,b)=>(iK.init(a,b),a.def=b,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone({...b,checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),a.clone=(b,c)=>fU(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>gx(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>gz(a,b,c),a.parseAsync=async(b,c)=>gy(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>gA(a,b,c),a.spa=a.safeParseAsync,a.refine=(b,c)=>a.check(oa(b,c)),a.superRefine=b=>a.check(ob(b)),a.overwrite=b=>a.check(lh(b)),a.optional=()=>nJ(a),a.nullable=()=>nL(a),a.nullish=()=>nJ(nL(a)),a.nonoptional=b=>nS(a,b),a.array=()=>ne(a),a.or=b=>nl([a,b]),a.and=b=>np(a,b),a.transform=b=>n$(a,nH(b)),a.default=b=>nO(a,b),a.prefault=b=>nQ(a,b),a.catch=b=>nW(a,b),a.pipe=b=>n$(a,b),a.readonly=()=>n0(a),a.describe=b=>{let c=a.clone();return gF.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>gF.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return gF.get(a);let c=a.clone();return gF.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a)),l_=fp("_ZodString",(a,b)=>{iL.init(a,b),l$.init(a,b);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(k9(...b)),a.includes=(...b)=>a.check(lc(...b)),a.startsWith=(...b)=>a.check(ld(...b)),a.endsWith=(...b)=>a.check(le(...b)),a.min=(...b)=>a.check(k7(...b)),a.max=(...b)=>a.check(k6(...b)),a.length=(...b)=>a.check(k8(...b)),a.nonempty=(...b)=>a.check(k7(1,...b)),a.lowercase=b=>a.check(la(b)),a.uppercase=b=>a.check(lb(b)),a.trim=()=>a.check(lj()),a.normalize=(...b)=>a.check(li(...b)),a.toLowerCase=()=>a.check(lk()),a.toUpperCase=()=>a.check(ll())}),l0=fp("ZodString",(a,b)=>{iL.init(a,b),l_.init(a,b),a.email=b=>a.check(j8(l3,b)),a.url=b=>a.check(ke(mc,b)),a.jwt=b=>a.check(kt(mG,b)),a.emoji=b=>a.check(kf(me,b)),a.guid=b=>a.check(j9(l5,b)),a.uuid=b=>a.check(ka(l7,b)),a.uuidv4=b=>a.check(kb(l7,b)),a.uuidv6=b=>a.check(kc(l7,b)),a.uuidv7=b=>a.check(kd(l7,b)),a.nanoid=b=>a.check(kg(mg,b)),a.guid=b=>a.check(j9(l5,b)),a.cuid=b=>a.check(kh(mi,b)),a.cuid2=b=>a.check(ki(mk,b)),a.ulid=b=>a.check(kj(mm,b)),a.base64=b=>a.check(kq(mA,b)),a.base64url=b=>a.check(kr(mC,b)),a.xid=b=>a.check(kk(mo,b)),a.ksuid=b=>a.check(kl(mq,b)),a.ipv4=b=>a.check(km(ms,b)),a.ipv6=b=>a.check(kn(mu,b)),a.cidrv4=b=>a.check(ko(mw,b)),a.cidrv6=b=>a.check(kp(my,b)),a.e164=b=>a.check(ks(mE,b)),a.datetime=b=>a.check(lT(b)),a.date=b=>a.check(lV(b)),a.time=b=>a.check(lX(b)),a.duration=b=>a.check(lZ(b))});function l1(a){return j6(l0,a)}let l2=fp("ZodStringFormat",(a,b)=>{iM.init(a,b),l_.init(a,b)}),l3=fp("ZodEmail",(a,b)=>{iP.init(a,b),l2.init(a,b)});function l4(a){return j8(l3,a)}let l5=fp("ZodGUID",(a,b)=>{iN.init(a,b),l2.init(a,b)});function l6(a){return j9(l5,a)}let l7=fp("ZodUUID",(a,b)=>{iO.init(a,b),l2.init(a,b)});function l8(a){return ka(l7,a)}function l9(a){return kb(l7,a)}function ma(a){return kc(l7,a)}function mb(a){return kd(l7,a)}let mc=fp("ZodURL",(a,b)=>{iQ.init(a,b),l2.init(a,b)});function md(a){return ke(mc,a)}let me=fp("ZodEmoji",(a,b)=>{iR.init(a,b),l2.init(a,b)});function mf(a){return kf(me,a)}let mg=fp("ZodNanoID",(a,b)=>{iS.init(a,b),l2.init(a,b)});function mh(a){return kg(mg,a)}let mi=fp("ZodCUID",(a,b)=>{iT.init(a,b),l2.init(a,b)});function mj(a){return kh(mi,a)}let mk=fp("ZodCUID2",(a,b)=>{iU.init(a,b),l2.init(a,b)});function ml(a){return ki(mk,a)}let mm=fp("ZodULID",(a,b)=>{iV.init(a,b),l2.init(a,b)});function mn(a){return kj(mm,a)}let mo=fp("ZodXID",(a,b)=>{iW.init(a,b),l2.init(a,b)});function mp(a){return kk(mo,a)}let mq=fp("ZodKSUID",(a,b)=>{iX.init(a,b),l2.init(a,b)});function mr(a){return kl(mq,a)}let ms=fp("ZodIPv4",(a,b)=>{i0.init(a,b),l2.init(a,b)});function mt(a){return km(ms,a)}let mu=fp("ZodIPv6",(a,b)=>{i1.init(a,b),l2.init(a,b)});function mv(a){return kn(mu,a)}let mw=fp("ZodCIDRv4",(a,b)=>{i2.init(a,b),l2.init(a,b)});function mx(a){return ko(mw,a)}let my=fp("ZodCIDRv6",(a,b)=>{i3.init(a,b),l2.init(a,b)});function mz(a){return kp(my,a)}let mA=fp("ZodBase64",(a,b)=>{i5.init(a,b),l2.init(a,b)});function mB(a){return kq(mA,a)}let mC=fp("ZodBase64URL",(a,b)=>{i7.init(a,b),l2.init(a,b)});function mD(a){return kr(mC,a)}let mE=fp("ZodE164",(a,b)=>{i8.init(a,b),l2.init(a,b)});function mF(a){return ks(mE,a)}let mG=fp("ZodJWT",(a,b)=>{ja.init(a,b),l2.init(a,b)});function mH(a){return kt(mG,a)}let mI=fp("ZodCustomStringFormat",(a,b)=>{jb.init(a,b),l2.init(a,b)});function mJ(a,b,c={}){return lN(mI,a,b,c)}let mK=fp("ZodNumber",(a,b)=>{jc.init(a,b),l$.init(a,b),a.gt=(b,c)=>a.check(kY(b,c)),a.gte=(b,c)=>a.check(kZ(b,c)),a.min=(b,c)=>a.check(kZ(b,c)),a.lt=(b,c)=>a.check(kW(b,c)),a.lte=(b,c)=>a.check(kX(b,c)),a.max=(b,c)=>a.check(kX(b,c)),a.int=b=>a.check(mN(b)),a.safe=b=>a.check(mN(b)),a.positive=b=>a.check(kY(0,b)),a.nonnegative=b=>a.check(kZ(0,b)),a.negative=b=>a.check(kW(0,b)),a.nonpositive=b=>a.check(kX(0,b)),a.multipleOf=(b,c)=>a.check(k2(b,c)),a.step=(b,c)=>a.check(k2(b,c)),a.finite=()=>a;let c=a._zod.bag;a.minValue=Math.max(c.minimum??-1/0,c.exclusiveMinimum??-1/0)??null,a.maxValue=Math.min(c.maximum??1/0,c.exclusiveMaximum??1/0)??null,a.isInt=(c.format??"").includes("int")||Number.isSafeInteger(c.multipleOf??.5),a.isFinite=!0,a.format=c.format??null});function mL(a){return kz(mK,a)}let mM=fp("ZodNumberFormat",(a,b)=>{jd.init(a,b),mK.init(a,b)});function mN(a){return kB(mM,a)}function mO(a){return kC(mM,a)}function mP(a){return kD(mM,a)}function mQ(a){return kE(mM,a)}function mR(a){return kF(mM,a)}let mS=fp("ZodBoolean",(a,b)=>{je.init(a,b),l$.init(a,b)});function mT(a){return kG(mS,a)}let mU=fp("ZodBigInt",(a,b)=>{jf.init(a,b),l$.init(a,b),a.gte=(b,c)=>a.check(kZ(b,c)),a.min=(b,c)=>a.check(kZ(b,c)),a.gt=(b,c)=>a.check(kY(b,c)),a.gte=(b,c)=>a.check(kZ(b,c)),a.min=(b,c)=>a.check(kZ(b,c)),a.lt=(b,c)=>a.check(kW(b,c)),a.lte=(b,c)=>a.check(kX(b,c)),a.max=(b,c)=>a.check(kX(b,c)),a.positive=b=>a.check(kY(BigInt(0),b)),a.negative=b=>a.check(kW(BigInt(0),b)),a.nonpositive=b=>a.check(kX(BigInt(0),b)),a.nonnegative=b=>a.check(kZ(BigInt(0),b)),a.multipleOf=(b,c)=>a.check(k2(b,c));let c=a._zod.bag;a.minValue=c.minimum??null,a.maxValue=c.maximum??null,a.format=c.format??null});function mV(a){return kI(mU,a)}let mW=fp("ZodBigIntFormat",(a,b)=>{jg.init(a,b),mU.init(a,b)});function mX(a){return kK(mW,a)}function mY(a){return kL(mW,a)}let mZ=fp("ZodSymbol",(a,b)=>{jh.init(a,b),l$.init(a,b)});function m$(a){return kM(mZ,a)}let m_=fp("ZodUndefined",(a,b)=>{ji.init(a,b),l$.init(a,b)});function m0(a){return kN(m_,a)}let m1=fp("ZodNull",(a,b)=>{jj.init(a,b),l$.init(a,b)});function m2(a){return kO(m1,a)}let m3=fp("ZodAny",(a,b)=>{jk.init(a,b),l$.init(a,b)});function m4(){return kP(m3)}let m5=fp("ZodUnknown",(a,b)=>{jl.init(a,b),l$.init(a,b)});function m6(){return kQ(m5)}let m7=fp("ZodNever",(a,b)=>{jm.init(a,b),l$.init(a,b)});function m8(a){return kR(m7,a)}let m9=fp("ZodVoid",(a,b)=>{jn.init(a,b),l$.init(a,b)});function na(a){return kS(m9,a)}let nb=fp("ZodDate",(a,b)=>{jo.init(a,b),l$.init(a,b),a.min=(b,c)=>a.check(kZ(b,c)),a.max=(b,c)=>a.check(kX(b,c));let c=a._zod.bag;a.minDate=c.minimum?new Date(c.minimum):null,a.maxDate=c.maximum?new Date(c.maximum):null});function nc(a){return kT(nb,a)}let nd=fp("ZodArray",(a,b)=>{jq.init(a,b),l$.init(a,b),a.element=b.element,a.min=(b,c)=>a.check(k7(b,c)),a.nonempty=b=>a.check(k7(1,b)),a.max=(b,c)=>a.check(k6(b,c)),a.length=(b,c)=>a.check(k8(b,c)),a.unwrap=()=>a.element});function ne(a,b){return lm(nd,a,b)}function nf(a){return nD(Object.keys(a._zod.def.shape))}let ng=fp("ZodObject",(a,b)=>{jt.init(a,b),l$.init(a,b),j1.defineLazy(a,"shape",()=>b.shape),a.keyof=()=>nA(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:m6()}),a.loose=()=>a.clone({...a._zod.def,catchall:m6()}),a.strict=()=>a.clone({...a._zod.def,catchall:m8()}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>j1.extend(a,b),a.merge=b=>j1.merge(a,b),a.pick=b=>j1.pick(a,b),a.omit=b=>j1.omit(a,b),a.partial=(...b)=>j1.partial(nI,a,b[0]),a.required=(...b)=>j1.required(nR,a,b[0])});function nh(a,b){return new ng({type:"object",get shape(){return j1.assignProp(this,"shape",{...a}),this.shape},...j1.normalizeParams(b)})}function ni(a,b){return new ng({type:"object",get shape(){return j1.assignProp(this,"shape",{...a}),this.shape},catchall:m8(),...j1.normalizeParams(b)})}function nj(a,b){return new ng({type:"object",get shape(){return j1.assignProp(this,"shape",{...a}),this.shape},catchall:m6(),...j1.normalizeParams(b)})}let nk=fp("ZodUnion",(a,b)=>{jv.init(a,b),l$.init(a,b),a.options=b.options});function nl(a,b){return new nk({type:"union",options:a,...j1.normalizeParams(b)})}let nm=fp("ZodDiscriminatedUnion",(a,b)=>{nk.init(a,b),jw.init(a,b)});function nn(a,b,c){return new nm({type:"union",options:b,discriminator:a,...j1.normalizeParams(c)})}let no=fp("ZodIntersection",(a,b)=>{jx.init(a,b),l$.init(a,b)});function np(a,b){return new no({type:"intersection",left:a,right:b})}let nq=fp("ZodTuple",(a,b)=>{jz.init(a,b),l$.init(a,b),a.rest=b=>a.clone({...a._zod.def,rest:b})});function nr(a,b,c){let d=b instanceof iK,e=d?c:b;return new nq({type:"tuple",items:a,rest:d?b:null,...j1.normalizeParams(e)})}let ns=fp("ZodRecord",(a,b)=>{jB.init(a,b),l$.init(a,b),a.keyType=b.keyType,a.valueType=b.valueType});function nt(a,b,c){return new ns({type:"record",keyType:a,valueType:b,...j1.normalizeParams(c)})}function nu(a,b,c){return new ns({type:"record",keyType:nl([a,m8()]),valueType:b,...j1.normalizeParams(c)})}let nv=fp("ZodMap",(a,b)=>{jC.init(a,b),l$.init(a,b),a.keyType=b.keyType,a.valueType=b.valueType});function nw(a,b,c){return new nv({type:"map",keyType:a,valueType:b,...j1.normalizeParams(c)})}let nx=fp("ZodSet",(a,b)=>{jE.init(a,b),l$.init(a,b),a.min=(...b)=>a.check(k4(...b)),a.nonempty=b=>a.check(k4(1,b)),a.max=(...b)=>a.check(k3(...b)),a.size=(...b)=>a.check(k5(...b))});function ny(a,b){return new nx({type:"set",valueType:a,...j1.normalizeParams(b)})}let nz=fp("ZodEnum",(a,b)=>{jG.init(a,b),l$.init(a,b),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new nz({...b,checks:[],...j1.normalizeParams(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new nz({...b,checks:[],...j1.normalizeParams(d),entries:e})}});function nA(a,b){return new nz({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...j1.normalizeParams(b)})}function nB(a,b){return new nz({type:"enum",entries:a,...j1.normalizeParams(b)})}let nC=fp("ZodLiteral",(a,b)=>{jH.init(a,b),l$.init(a,b),a.values=new Set(b.values),Object.defineProperty(a,"value",{get(){if(b.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return b.values[0]}})});function nD(a,b){return new nC({type:"literal",values:Array.isArray(a)?a:[a],...j1.normalizeParams(b)})}let nE=fp("ZodFile",(a,b)=>{jI.init(a,b),l$.init(a,b),a.min=(b,c)=>a.check(k4(b,c)),a.max=(b,c)=>a.check(k3(b,c)),a.mime=(b,c)=>a.check(lg(Array.isArray(b)?b:[b],c))});function nF(a){return lx(nE,a)}let nG=fp("ZodTransform",(a,b)=>{jJ.init(a,b),l$.init(a,b),a._zod.parse=(c,d)=>{c.addIssue=d=>{"string"==typeof d?c.issues.push(j1.issue(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),d.continue??(d.continue=!0),c.issues.push(j1.issue(d)))};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}});function nH(a){return new nG({type:"transform",transform:a})}let nI=fp("ZodOptional",(a,b)=>{jK.init(a,b),l$.init(a,b),a.unwrap=()=>a._zod.def.innerType});function nJ(a){return new nI({type:"optional",innerType:a})}let nK=fp("ZodNullable",(a,b)=>{jL.init(a,b),l$.init(a,b),a.unwrap=()=>a._zod.def.innerType});function nL(a){return new nK({type:"nullable",innerType:a})}function nM(a){return nJ(nL(a))}let nN=fp("ZodDefault",(a,b)=>{jM.init(a,b),l$.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap});function nO(a,b){return new nN({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():b}})}let nP=fp("ZodPrefault",(a,b)=>{jO.init(a,b),l$.init(a,b),a.unwrap=()=>a._zod.def.innerType});function nQ(a,b){return new nP({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():b}})}let nR=fp("ZodNonOptional",(a,b)=>{jP.init(a,b),l$.init(a,b),a.unwrap=()=>a._zod.def.innerType});function nS(a,b){return new nR({type:"nonoptional",innerType:a,...j1.normalizeParams(b)})}let nT=fp("ZodSuccess",(a,b)=>{jR.init(a,b),l$.init(a,b),a.unwrap=()=>a._zod.def.innerType});function nU(a){return new nT({type:"success",innerType:a})}let nV=fp("ZodCatch",(a,b)=>{jS.init(a,b),l$.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap});function nW(a,b){return new nV({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})}let nX=fp("ZodNaN",(a,b)=>{jT.init(a,b),l$.init(a,b)});function nY(a){return kV(nX,a)}let nZ=fp("ZodPipe",(a,b)=>{jU.init(a,b),l$.init(a,b),a.in=b.in,a.out=b.out});function n$(a,b){return new nZ({type:"pipe",in:a,out:b})}let n_=fp("ZodReadonly",(a,b)=>{jW.init(a,b),l$.init(a,b)});function n0(a){return new n_({type:"readonly",innerType:a})}let n1=fp("ZodTemplateLiteral",(a,b)=>{jY.init(a,b),l$.init(a,b)});function n2(a,b){return new n1({type:"template_literal",parts:a,...j1.normalizeParams(b)})}let n3=fp("ZodLazy",(a,b)=>{j$.init(a,b),l$.init(a,b),a.unwrap=()=>a._zod.def.getter()});function n4(a){return new n3({type:"lazy",getter:a})}let n5=fp("ZodPromise",(a,b)=>{jZ.init(a,b),l$.init(a,b),a.unwrap=()=>a._zod.def.innerType});function n6(a){return new n5({type:"promise",innerType:a})}let n7=fp("ZodCustom",(a,b)=>{j_.init(a,b),l$.init(a,b)});function n8(a){let b=new ij({check:"custom"});return b._zod.check=a,b}function n9(a,b){return lK(n7,a??(()=>!0),b)}function oa(a,b={}){return lL(n7,a,b)}function ob(a){let b=n8(c=>(c.addIssue=a=>{"string"==typeof a?c.issues.push(j1.issue(a,c.value,b._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=c.value),a.inst??(a.inst=b),a.continue??(a.continue=!b._zod.def.abort),c.issues.push(j1.issue(a)))},a(c.value,c)));return b}function oc(a,b={error:`Input not instance of ${a.name}`}){let c=new n7({type:"custom",check:"custom",fn:b=>b instanceof a,abort:!0,...j1.normalizeParams(b)});return c._zod.bag.Class=a,c}let od=(...a)=>lM({Pipe:nZ,Boolean:mS,String:l0,Transform:nG},...a);function oe(a){let b=n4(()=>nl([l1(a),mL(),mT(),m2(),ne(b),nt(l1(),b)]));return b}function of(a,b){return n$(nH(a),b)}a.i(94219),a.s([],88476),a.i(88476),a.s(["endsWith",()=>le,"gt",()=>kY,"gte",()=>kZ,"includes",()=>lc,"length",()=>k8,"lowercase",()=>la,"lt",()=>kW,"lte",()=>kX,"maxLength",()=>k6,"maxSize",()=>k3,"mime",()=>lg,"minLength",()=>k7,"minSize",()=>k4,"multipleOf",()=>k2,"negative",()=>k_,"nonnegative",()=>k1,"nonpositive",()=>k0,"normalize",()=>li,"overwrite",()=>lh,"positive",()=>k$,"property",()=>lf,"regex",()=>k9,"size",()=>k5,"startsWith",()=>ld,"toLowerCase",()=>lk,"toUpperCase",()=>ll,"trim",()=>lj,"uppercase",()=>lb],54375),a.i(54375),a.i(75160),a.i(73590);let og={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function oh(a){ft({customError:a})}function oi(){return ft().customError}a.s(["ZodIssueCode",0,og,"getErrorMap",()=>oi,"setErrorMap",()=>oh],58277),a.i(58277),a.s(["$brand",0,fq,"ZodIssueCode",0,og,"config",()=>ft,"getErrorMap",()=>oi,"setErrorMap",()=>oh],29126),a.i(29126);var oj=a.i(18850);function ok(a){return j7(l0,a)}function ol(a){return kA(mK,a)}function om(a){return kH(mS,a)}function on(a){return kJ(mU,a)}function oo(a){return kU(nb,a)}a.s(["bigint",()=>on,"boolean",()=>om,"date",()=>oo,"number",()=>ol,"string",()=>ok],58483);var op=a.i(58483);a.s(["$brand",0,fq,"$input",0,gC,"$output",0,gB,"NEVER",0,fo,"TimePrecision",0,ku,"ZodAny",0,m3,"ZodArray",0,nd,"ZodBase64",0,mA,"ZodBase64URL",0,mC,"ZodBigInt",0,mU,"ZodBigIntFormat",0,mW,"ZodBoolean",0,mS,"ZodCIDRv4",0,mw,"ZodCIDRv6",0,my,"ZodCUID",0,mi,"ZodCUID2",0,mk,"ZodCatch",0,nV,"ZodCustom",0,n7,"ZodCustomStringFormat",0,mI,"ZodDate",0,nb,"ZodDefault",0,nN,"ZodDiscriminatedUnion",0,nm,"ZodE164",0,mE,"ZodEmail",0,l3,"ZodEmoji",0,me,"ZodEnum",0,nz,"ZodError",0,gv,"ZodFile",0,nE,"ZodGUID",0,l5,"ZodIPv4",0,ms,"ZodIPv6",0,mu,"ZodISODate",0,lU,"ZodISODateTime",0,lS,"ZodISODuration",0,lY,"ZodISOTime",0,lW,"ZodIntersection",0,no,"ZodIssueCode",0,og,"ZodJWT",0,mG,"ZodKSUID",0,mq,"ZodLazy",0,n3,"ZodLiteral",0,nC,"ZodMap",0,nv,"ZodNaN",0,nX,"ZodNanoID",0,mg,"ZodNever",0,m7,"ZodNonOptional",0,nR,"ZodNull",0,m1,"ZodNullable",0,nK,"ZodNumber",0,mK,"ZodNumberFormat",0,mM,"ZodObject",0,ng,"ZodOptional",0,nI,"ZodPipe",0,nZ,"ZodPrefault",0,nP,"ZodPromise",0,n5,"ZodReadonly",0,n_,"ZodRealError",0,gw,"ZodRecord",0,ns,"ZodSet",0,nx,"ZodString",0,l0,"ZodStringFormat",0,l2,"ZodSuccess",0,nT,"ZodSymbol",0,mZ,"ZodTemplateLiteral",0,n1,"ZodTransform",0,nG,"ZodTuple",0,nq,"ZodType",0,l$,"ZodULID",0,mm,"ZodURL",0,mc,"ZodUUID",0,l7,"ZodUndefined",0,m_,"ZodUnion",0,nk,"ZodUnknown",0,m5,"ZodVoid",0,m9,"ZodXID",0,mo,"_ZodString",0,l_,"_default",()=>nO,"any",()=>m4,"array",()=>ne,"base64",()=>mB,"base64url",()=>mD,"bigint",()=>mV,"boolean",()=>mT,"catch",()=>nW,"check",()=>n8,"cidrv4",()=>mx,"cidrv6",()=>mz,"clone",()=>fU,"coerce",0,op,"config",()=>ft,"core",0,lR,"cuid",()=>mj,"cuid2",()=>ml,"custom",()=>n9,"date",()=>nc,"discriminatedUnion",()=>nn,"e164",()=>mF,"email",()=>l4,"emoji",()=>mf,"endsWith",()=>le,"enum",()=>nA,"file",()=>nF,"flattenError",()=>gh,"float32",()=>mO,"float64",()=>mP,"formatError",()=>gi,"function",()=>lP,"getErrorMap",()=>oi,"globalRegistry",0,gF,"gt",()=>kY,"gte",()=>kZ,"guid",()=>l6,"includes",()=>lc,"instanceof",()=>oc,"int",()=>mN,"int32",()=>mQ,"int64",()=>mX,"intersection",()=>np,"ipv4",()=>mt,"ipv6",()=>mv,"iso",0,oj,"json",()=>oe,"jwt",()=>mH,"keyof",()=>nf,"ksuid",()=>mr,"lazy",()=>n4,"length",()=>k8,"literal",()=>nD,"locales",0,j5,"looseObject",()=>nj,"lowercase",()=>la,"lt",()=>kW,"lte",()=>kX,"map",()=>nw,"maxLength",()=>k6,"maxSize",()=>k3,"mime",()=>lg,"minLength",()=>k7,"minSize",()=>k4,"multipleOf",()=>k2,"nan",()=>nY,"nanoid",()=>mh,"nativeEnum",()=>nB,"negative",()=>k_,"never",()=>m8,"nonnegative",()=>k1,"nonoptional",()=>nS,"nonpositive",()=>k0,"normalize",()=>li,"null",()=>m2,"nullable",()=>nL,"nullish",()=>nM,"number",()=>mL,"object",()=>nh,"optional",()=>nJ,"overwrite",()=>lh,"parse",0,gx,"parseAsync",0,gy,"partialRecord",()=>nu,"pipe",()=>n$,"positive",()=>k$,"prefault",()=>nQ,"preprocess",()=>of,"prettifyError",()=>gl,"promise",()=>n6,"property",()=>lf,"readonly",()=>n0,"record",()=>nt,"refine",()=>oa,"regex",()=>k9,"regexes",()=>j2,"registry",()=>gE,"safeParse",0,gz,"safeParseAsync",0,gA,"set",()=>ny,"setErrorMap",()=>oh,"size",()=>k5,"startsWith",()=>ld,"strictObject",()=>ni,"string",()=>l1,"stringFormat",()=>mJ,"stringbool",0,od,"success",()=>nU,"superRefine",()=>ob,"symbol",()=>m$,"templateLiteral",()=>n2,"toJSONSchema",()=>gH,"toLowerCase",()=>lk,"toUpperCase",()=>ll,"transform",()=>nH,"treeifyError",()=>gj,"trim",()=>lj,"tuple",()=>nr,"uint32",()=>mR,"uint64",()=>mY,"ulid",()=>mn,"undefined",()=>m0,"union",()=>nl,"unknown",()=>m6,"uppercase",()=>lb,"url",()=>md,"uuid",()=>l8,"uuidv4",()=>l9,"uuidv6",()=>ma,"uuidv7",()=>mb,"void",()=>na,"xid",()=>mp],54757);var oq=a.i(54757),oq=oq,or=g7({errorSchema:hC(()=>hA(oq.object({type:oq.literal("error"),error:oq.object({type:oq.string(),message:oq.string()})}))),errorToMessage:a=>a.error.message}),os=hC(()=>hA(oq.object({type:oq.literal("message"),id:oq.string().nullish(),model:oq.string().nullish(),content:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("text"),text:oq.string(),citations:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("web_search_result_location"),cited_text:oq.string(),url:oq.string(),title:oq.string(),encrypted_index:oq.string()}),oq.object({type:oq.literal("page_location"),cited_text:oq.string(),document_index:oq.number(),document_title:oq.string().nullable(),start_page_number:oq.number(),end_page_number:oq.number()}),oq.object({type:oq.literal("char_location"),cited_text:oq.string(),document_index:oq.number(),document_title:oq.string().nullable(),start_char_index:oq.number(),end_char_index:oq.number()})])).optional()}),oq.object({type:oq.literal("thinking"),thinking:oq.string(),signature:oq.string()}),oq.object({type:oq.literal("redacted_thinking"),data:oq.string()}),oq.object({type:oq.literal("tool_use"),id:oq.string(),name:oq.string(),input:oq.unknown()}),oq.object({type:oq.literal("server_tool_use"),id:oq.string(),name:oq.string(),input:oq.record(oq.string(),oq.unknown()).nullish()}),oq.object({type:oq.literal("web_fetch_tool_result"),tool_use_id:oq.string(),content:oq.union([oq.object({type:oq.literal("web_fetch_result"),url:oq.string(),retrieved_at:oq.string(),content:oq.object({type:oq.literal("document"),title:oq.string().nullable(),citations:oq.object({enabled:oq.boolean()}).optional(),source:oq.object({type:oq.literal("text"),media_type:oq.string(),data:oq.string()})})}),oq.object({type:oq.literal("web_fetch_tool_result_error"),error_code:oq.string()})])}),oq.object({type:oq.literal("web_search_tool_result"),tool_use_id:oq.string(),content:oq.union([oq.array(oq.object({type:oq.literal("web_search_result"),url:oq.string(),title:oq.string(),encrypted_content:oq.string(),page_age:oq.string().nullish()})),oq.object({type:oq.literal("web_search_tool_result_error"),error_code:oq.string()})])}),oq.object({type:oq.literal("code_execution_tool_result"),tool_use_id:oq.string(),content:oq.union([oq.object({type:oq.literal("code_execution_result"),stdout:oq.string(),stderr:oq.string(),return_code:oq.number()}),oq.object({type:oq.literal("code_execution_tool_result_error"),error_code:oq.string()})])}),oq.object({type:oq.literal("bash_code_execution_tool_result"),tool_use_id:oq.string(),content:oq.discriminatedUnion("type",[oq.object({type:oq.literal("bash_code_execution_result"),content:oq.array(oq.object({type:oq.literal("bash_code_execution_output"),file_id:oq.string()})),stdout:oq.string(),stderr:oq.string(),return_code:oq.number()}),oq.object({type:oq.literal("bash_code_execution_tool_result_error"),error_code:oq.string()})])}),oq.object({type:oq.literal("text_editor_code_execution_tool_result"),tool_use_id:oq.string(),content:oq.discriminatedUnion("type",[oq.object({type:oq.literal("text_editor_code_execution_tool_result_error"),error_code:oq.string()}),oq.object({type:oq.literal("text_editor_code_execution_view_result"),content:oq.string(),file_type:oq.string(),num_lines:oq.number().nullable(),start_line:oq.number().nullable(),total_lines:oq.number().nullable()}),oq.object({type:oq.literal("text_editor_code_execution_create_result"),is_file_update:oq.boolean()}),oq.object({type:oq.literal("text_editor_code_execution_str_replace_result"),lines:oq.array(oq.string()).nullable(),new_lines:oq.number().nullable(),new_start:oq.number().nullable(),old_lines:oq.number().nullable(),old_start:oq.number().nullable()})])})])),stop_reason:oq.string().nullish(),stop_sequence:oq.string().nullish(),usage:oq.looseObject({input_tokens:oq.number(),output_tokens:oq.number(),cache_creation_input_tokens:oq.number().nullish(),cache_read_input_tokens:oq.number().nullish()}),container:oq.object({expires_at:oq.string(),id:oq.string(),skills:oq.array(oq.object({type:oq.union([oq.literal("anthropic"),oq.literal("custom")]),skill_id:oq.string(),version:oq.string()})).nullish()}).nullish()}))),ot=hC(()=>hA(oq.discriminatedUnion("type",[oq.object({type:oq.literal("message_start"),message:oq.object({id:oq.string().nullish(),model:oq.string().nullish(),usage:oq.looseObject({input_tokens:oq.number(),cache_creation_input_tokens:oq.number().nullish(),cache_read_input_tokens:oq.number().nullish()})})}),oq.object({type:oq.literal("content_block_start"),index:oq.number(),content_block:oq.discriminatedUnion("type",[oq.object({type:oq.literal("text"),text:oq.string()}),oq.object({type:oq.literal("thinking"),thinking:oq.string()}),oq.object({type:oq.literal("tool_use"),id:oq.string(),name:oq.string()}),oq.object({type:oq.literal("redacted_thinking"),data:oq.string()}),oq.object({type:oq.literal("server_tool_use"),id:oq.string(),name:oq.string(),input:oq.record(oq.string(),oq.unknown()).nullish()}),oq.object({type:oq.literal("web_fetch_tool_result"),tool_use_id:oq.string(),content:oq.union([oq.object({type:oq.literal("web_fetch_result"),url:oq.string(),retrieved_at:oq.string(),content:oq.object({type:oq.literal("document"),title:oq.string().nullable(),citations:oq.object({enabled:oq.boolean()}).optional(),source:oq.object({type:oq.literal("text"),media_type:oq.string(),data:oq.string()})})}),oq.object({type:oq.literal("web_fetch_tool_result_error"),error_code:oq.string()})])}),oq.object({type:oq.literal("web_search_tool_result"),tool_use_id:oq.string(),content:oq.union([oq.array(oq.object({type:oq.literal("web_search_result"),url:oq.string(),title:oq.string(),encrypted_content:oq.string(),page_age:oq.string().nullish()})),oq.object({type:oq.literal("web_search_tool_result_error"),error_code:oq.string()})])}),oq.object({type:oq.literal("code_execution_tool_result"),tool_use_id:oq.string(),content:oq.union([oq.object({type:oq.literal("code_execution_result"),stdout:oq.string(),stderr:oq.string(),return_code:oq.number()}),oq.object({type:oq.literal("code_execution_tool_result_error"),error_code:oq.string()})])}),oq.object({type:oq.literal("bash_code_execution_tool_result"),tool_use_id:oq.string(),content:oq.discriminatedUnion("type",[oq.object({type:oq.literal("bash_code_execution_result"),content:oq.array(oq.object({type:oq.literal("bash_code_execution_output"),file_id:oq.string()})),stdout:oq.string(),stderr:oq.string(),return_code:oq.number()}),oq.object({type:oq.literal("bash_code_execution_tool_result_error"),error_code:oq.string()})])}),oq.object({type:oq.literal("text_editor_code_execution_tool_result"),tool_use_id:oq.string(),content:oq.discriminatedUnion("type",[oq.object({type:oq.literal("text_editor_code_execution_tool_result_error"),error_code:oq.string()}),oq.object({type:oq.literal("text_editor_code_execution_view_result"),content:oq.string(),file_type:oq.string(),num_lines:oq.number().nullable(),start_line:oq.number().nullable(),total_lines:oq.number().nullable()}),oq.object({type:oq.literal("text_editor_code_execution_create_result"),is_file_update:oq.boolean()}),oq.object({type:oq.literal("text_editor_code_execution_str_replace_result"),lines:oq.array(oq.string()).nullable(),new_lines:oq.number().nullable(),new_start:oq.number().nullable(),old_lines:oq.number().nullable(),old_start:oq.number().nullable()})])})])}),oq.object({type:oq.literal("content_block_delta"),index:oq.number(),delta:oq.discriminatedUnion("type",[oq.object({type:oq.literal("input_json_delta"),partial_json:oq.string()}),oq.object({type:oq.literal("text_delta"),text:oq.string()}),oq.object({type:oq.literal("thinking_delta"),thinking:oq.string()}),oq.object({type:oq.literal("signature_delta"),signature:oq.string()}),oq.object({type:oq.literal("citations_delta"),citation:oq.discriminatedUnion("type",[oq.object({type:oq.literal("web_search_result_location"),cited_text:oq.string(),url:oq.string(),title:oq.string(),encrypted_index:oq.string()}),oq.object({type:oq.literal("page_location"),cited_text:oq.string(),document_index:oq.number(),document_title:oq.string().nullable(),start_page_number:oq.number(),end_page_number:oq.number()}),oq.object({type:oq.literal("char_location"),cited_text:oq.string(),document_index:oq.number(),document_title:oq.string().nullable(),start_char_index:oq.number(),end_char_index:oq.number()})])})])}),oq.object({type:oq.literal("content_block_stop"),index:oq.number()}),oq.object({type:oq.literal("error"),error:oq.object({type:oq.string(),message:oq.string()})}),oq.object({type:oq.literal("message_delta"),delta:oq.object({stop_reason:oq.string().nullish(),stop_sequence:oq.string().nullish(),container:oq.object({expires_at:oq.string(),id:oq.string(),skills:oq.array(oq.object({type:oq.union([oq.literal("anthropic"),oq.literal("custom")]),skill_id:oq.string(),version:oq.string()})).nullish()}).nullish()}),usage:oq.looseObject({output_tokens:oq.number(),cache_creation_input_tokens:oq.number().nullish()})}),oq.object({type:oq.literal("message_stop")}),oq.object({type:oq.literal("ping")})]))),ou=hC(()=>hA(oq.object({signature:oq.string().optional(),redactedData:oq.string().optional()}))),ov=oq.object({citations:oq.object({enabled:oq.boolean()}).optional(),title:oq.string().optional(),context:oq.string().optional()}),ow=oq.object({sendReasoning:oq.boolean().optional(),thinking:oq.object({type:oq.union([oq.literal("enabled"),oq.literal("disabled")]),budgetTokens:oq.number().optional()}).optional(),disableParallelToolUse:oq.boolean().optional(),cacheControl:oq.object({type:oq.literal("ephemeral"),ttl:oq.union([oq.literal("5m"),oq.literal("1h")]).optional()}).optional(),container:oq.object({id:oq.string().optional(),skills:oq.array(oq.object({type:oq.union([oq.literal("anthropic"),oq.literal("custom")]),skillId:oq.string(),version:oq.string().optional()})).optional()}).optional()}),ox=class{constructor(){this.breakpointCount=0,this.warnings=[]}getCacheControl(a,b){var c;let d,e=null!=(c=null==(d=null==a?void 0:a.anthropic)?void 0:d.cacheControl)?c:null==d?void 0:d.cache_control;if(e)return b.canCache?(this.breakpointCount++,this.breakpointCount>4)?void this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`Maximum 4 cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`}):e:void this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`cache_control cannot be set on ${b.type}. It will be ignored.`})}getWarnings(){return this.warnings}},oy=hC(()=>hA(oq.object({maxCharacters:oq.number().optional()}))),oz=g4({id:"anthropic.text_editor_20250728",name:"str_replace_based_edit_tool",inputSchema:hC(()=>hA(oq.object({command:oq.enum(["view","create","str_replace","insert"]),path:oq.string(),file_text:oq.string().optional(),insert_line:oq.number().int().optional(),new_str:oq.string().optional(),old_str:oq.string().optional(),view_range:oq.array(oq.number().int()).optional()})))}),oA=hC(()=>hA(oq.object({maxUses:oq.number().optional(),allowedDomains:oq.array(oq.string()).optional(),blockedDomains:oq.array(oq.string()).optional(),userLocation:oq.object({type:oq.literal("approximate"),city:oq.string().optional(),region:oq.string().optional(),country:oq.string().optional(),timezone:oq.string().optional()}).optional()}))),oB=hC(()=>hA(oq.array(oq.object({url:oq.string(),title:oq.string(),pageAge:oq.string().nullable(),encryptedContent:oq.string(),type:oq.literal("web_search_result")})))),oC=g5({id:"anthropic.web_search_20250305",name:"web_search",inputSchema:hC(()=>hA(oq.object({query:oq.string()}))),outputSchema:oB}),oD=hC(()=>hA(oq.object({maxUses:oq.number().optional(),allowedDomains:oq.array(oq.string()).optional(),blockedDomains:oq.array(oq.string()).optional(),citations:oq.object({enabled:oq.boolean()}).optional(),maxContentTokens:oq.number().optional()}))),oE=hC(()=>hA(oq.object({type:oq.literal("web_fetch_result"),url:oq.string(),content:oq.object({type:oq.literal("document"),title:oq.string(),citations:oq.object({enabled:oq.boolean()}).optional(),source:oq.union([oq.object({type:oq.literal("base64"),mediaType:oq.literal("application/pdf"),data:oq.string()}),oq.object({type:oq.literal("text"),mediaType:oq.literal("text/plain"),data:oq.string()})])}),retrievedAt:oq.string().nullable()}))),oF=g5({id:"anthropic.web_fetch_20250910",name:"web_fetch",inputSchema:hC(()=>hA(oq.object({url:oq.string()}))),outputSchema:oE});async function oG({tools:a,toolChoice:b,disableParallelToolUse:c,cacheControlValidator:d}){a=(null==a?void 0:a.length)?a:void 0;let e=[],f=new Set,g=d||new ox;if(null==a)return{tools:void 0,toolChoice:void 0,toolWarnings:e,betas:f};let h=[];for(let b of a)switch(b.type){case"function":{let a=g.getCacheControl(b.providerOptions,{type:"tool definition",canCache:!0});h.push({name:b.name,description:b.description,input_schema:b.inputSchema,cache_control:a});break}case"provider-defined":switch(b.id){case"anthropic.code_execution_20250522":f.add("code-execution-2025-05-22"),h.push({type:"code_execution_20250522",name:"code_execution",cache_control:void 0});break;case"anthropic.code_execution_20250825":f.add("code-execution-2025-08-25"),h.push({type:"code_execution_20250825",name:"code_execution"});break;case"anthropic.computer_20250124":f.add("computer-use-2025-01-24"),h.push({name:"computer",type:"computer_20250124",display_width_px:b.args.displayWidthPx,display_height_px:b.args.displayHeightPx,display_number:b.args.displayNumber,cache_control:void 0});break;case"anthropic.computer_20241022":f.add("computer-use-2024-10-22"),h.push({name:"computer",type:"computer_20241022",display_width_px:b.args.displayWidthPx,display_height_px:b.args.displayHeightPx,display_number:b.args.displayNumber,cache_control:void 0});break;case"anthropic.text_editor_20250124":f.add("computer-use-2025-01-24"),h.push({name:"str_replace_editor",type:"text_editor_20250124",cache_control:void 0});break;case"anthropic.text_editor_20241022":f.add("computer-use-2024-10-22"),h.push({name:"str_replace_editor",type:"text_editor_20241022",cache_control:void 0});break;case"anthropic.text_editor_20250429":f.add("computer-use-2025-01-24"),h.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429",cache_control:void 0});break;case"anthropic.text_editor_20250728":{let a=await gW({value:b.args,schema:oy});h.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:a.maxCharacters,cache_control:void 0});break}case"anthropic.bash_20250124":f.add("computer-use-2025-01-24"),h.push({name:"bash",type:"bash_20250124",cache_control:void 0});break;case"anthropic.bash_20241022":f.add("computer-use-2024-10-22"),h.push({name:"bash",type:"bash_20241022",cache_control:void 0});break;case"anthropic.memory_20250818":f.add("context-management-2025-06-27"),h.push({name:"memory",type:"memory_20250818"});break;case"anthropic.web_fetch_20250910":{f.add("web-fetch-2025-09-10");let a=await gW({value:b.args,schema:oD});h.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:a.maxUses,allowed_domains:a.allowedDomains,blocked_domains:a.blockedDomains,citations:a.citations,max_content_tokens:a.maxContentTokens,cache_control:void 0});break}case"anthropic.web_search_20250305":{let a=await gW({value:b.args,schema:oA});h.push({type:"web_search_20250305",name:"web_search",max_uses:a.maxUses,allowed_domains:a.allowedDomains,blocked_domains:a.blockedDomains,user_location:a.userLocation,cache_control:void 0});break}default:e.push({type:"unsupported-tool",tool:b})}break;default:e.push({type:"unsupported-tool",tool:b})}if(null==b)return{tools:h,toolChoice:c?{type:"auto",disable_parallel_tool_use:c}:void 0,toolWarnings:e,betas:f};let i=b.type;switch(i){case"auto":return{tools:h,toolChoice:{type:"auto",disable_parallel_tool_use:c},toolWarnings:e,betas:f};case"required":return{tools:h,toolChoice:{type:"any",disable_parallel_tool_use:c},toolWarnings:e,betas:f};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:e,betas:f};case"tool":return{tools:h,toolChoice:{type:"tool",name:b.toolName,disable_parallel_tool_use:c},toolWarnings:e,betas:f};default:throw new fk({functionality:`tool choice type: ${i}`})}}var oH=hC(()=>hA(oq.object({type:oq.literal("code_execution_result"),stdout:oq.string(),stderr:oq.string(),return_code:oq.number()}))),oI=g5({id:"anthropic.code_execution_20250522",name:"code_execution",inputSchema:hC(()=>hA(oq.object({code:oq.string()}))),outputSchema:oH}),oJ=hC(()=>hA(oq.discriminatedUnion("type",[oq.object({type:oq.literal("bash_code_execution_result"),content:oq.array(oq.object({type:oq.literal("bash_code_execution_output"),file_id:oq.string()})),stdout:oq.string(),stderr:oq.string(),return_code:oq.number()}),oq.object({type:oq.literal("bash_code_execution_tool_result_error"),error_code:oq.string()}),oq.object({type:oq.literal("text_editor_code_execution_tool_result_error"),error_code:oq.string()}),oq.object({type:oq.literal("text_editor_code_execution_view_result"),content:oq.string(),file_type:oq.string(),num_lines:oq.number().nullable(),start_line:oq.number().nullable(),total_lines:oq.number().nullable()}),oq.object({type:oq.literal("text_editor_code_execution_create_result"),is_file_update:oq.boolean()}),oq.object({type:oq.literal("text_editor_code_execution_str_replace_result"),lines:oq.array(oq.string()).nullable(),new_lines:oq.number().nullable(),new_start:oq.number().nullable(),old_lines:oq.number().nullable(),old_start:oq.number().nullable()})]))),oK=g5({id:"anthropic.code_execution_20250825",name:"code_execution",inputSchema:hC(()=>hA(oq.discriminatedUnion("type",[oq.object({type:oq.literal("bash_code_execution"),command:oq.string()}),oq.discriminatedUnion("command",[oq.object({type:oq.literal("text_editor_code_execution"),command:oq.literal("view"),path:oq.string()}),oq.object({type:oq.literal("text_editor_code_execution"),command:oq.literal("create"),path:oq.string(),file_text:oq.string().nullish()}),oq.object({type:oq.literal("text_editor_code_execution"),command:oq.literal("str_replace"),path:oq.string(),old_str:oq.string(),new_str:oq.string()})])]))),outputSchema:oJ});async function oL({prompt:a,sendReasoning:b,warnings:c,cacheControlValidator:d}){var e,f,g,h,i;let j,k=new Set,l=function(a){let b,c=[];for(let d of a){let{role:a}=d;switch(a){case"system":(null==b?void 0:b.type)!=="system"&&(b={type:"system",messages:[]},c.push(b)),b.messages.push(d);break;case"assistant":(null==b?void 0:b.type)!=="assistant"&&(b={type:"assistant",messages:[]},c.push(b)),b.messages.push(d);break;case"user":case"tool":(null==b?void 0:b.type)!=="user"&&(b={type:"user",messages:[]},c.push(b)),b.messages.push(d);break;default:throw Error(`Unsupported role: ${a}`)}}return c}(a),m=d||new ox,n=[];async function o(a){var b,c;let d=await g_({provider:"anthropic",providerOptions:a,schema:ov});return null!=(c=null==(b=null==d?void 0:d.citations)?void 0:b.enabled)&&c}async function p(a){let b=await g_({provider:"anthropic",providerOptions:a,schema:ov});return{title:null==b?void 0:b.title,context:null==b?void 0:b.context}}for(let a=0;a<l.length;a++){let d=l[a],q=a===l.length-1,r=d.type;switch(r){case"system":if(null!=j)throw new fk({functionality:"Multiple system messages that are separated by user/assistant messages"});j=d.messages.map(({content:a,providerOptions:b})=>({type:"text",text:a,cache_control:m.getCacheControl(b,{type:"system message",canCache:!0})}));break;case"user":{let a=[];for(let b of d.messages){let{role:c,content:d}=b;switch(c){case"user":for(let c=0;c<d.length;c++){let h=d[c],i=c===d.length-1,j=null!=(e=m.getCacheControl(h.providerOptions,{type:"user message part",canCache:!0}))?e:i?m.getCacheControl(b.providerOptions,{type:"user message",canCache:!0}):void 0;switch(h.type){case"text":a.push({type:"text",text:h.text,cache_control:j});break;case"file":if(h.mediaType.startsWith("image/"))a.push({type:"image",source:h.data instanceof URL?{type:"url",url:h.data.toString()}:{type:"base64",media_type:"image/*"===h.mediaType?"image/jpeg":h.mediaType,data:hG(h.data)},cache_control:j});else if("application/pdf"===h.mediaType){k.add("pdfs-2024-09-25");let b=await o(h.providerOptions),c=await p(h.providerOptions);a.push({type:"document",source:h.data instanceof URL?{type:"url",url:h.data.toString()}:{type:"base64",media_type:"application/pdf",data:hG(h.data)},title:null!=(f=c.title)?f:h.filename,...c.context&&{context:c.context},...b&&{citations:{enabled:!0}},cache_control:j})}else if("text/plain"===h.mediaType){let b=await o(h.providerOptions),c=await p(h.providerOptions);a.push({type:"document",source:h.data instanceof URL?{type:"url",url:h.data.toString()}:{type:"text",media_type:"text/plain",data:function(a){if("string"==typeof a)return Buffer.from(a,"base64").toString("utf-8");if(a instanceof Uint8Array)return new TextDecoder().decode(a);if(a instanceof URL)throw new fk({functionality:"URL-based text documents are not supported for citations"});throw new fk({functionality:`unsupported data type for text documents: ${typeof a}`})}(h.data)},title:null!=(g=c.title)?g:h.filename,...c.context&&{context:c.context},...b&&{citations:{enabled:!0}},cache_control:j})}else throw new fk({functionality:`media type: ${h.mediaType}`})}}break;case"tool":for(let c=0;c<d.length;c++){let e,f=d[c],g=c===d.length-1,i=null!=(h=m.getCacheControl(f.providerOptions,{type:"tool result part",canCache:!0}))?h:g?m.getCacheControl(b.providerOptions,{type:"tool result message",canCache:!0}):void 0,j=f.output;switch(j.type){case"content":e=j.value.map(a=>{switch(a.type){case"text":return{type:"text",text:a.text};case"media":if(a.mediaType.startsWith("image/"))return{type:"image",source:{type:"base64",media_type:a.mediaType,data:a.data}};if("application/pdf"===a.mediaType)return k.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:a.mediaType,data:a.data}};throw new fk({functionality:`media type: ${a.mediaType}`})}});break;case"text":case"error-text":e=j.value;break;default:e=JSON.stringify(j.value)}a.push({type:"tool_result",tool_use_id:f.toolCallId,content:e,is_error:"error-text"===j.type||"error-json"===j.type||void 0,cache_control:i})}break;default:throw Error(`Unsupported role: ${c}`)}}n.push({role:"user",content:a});break}case"assistant":{let a=[];for(let e=0;e<d.messages.length;e++){let f=d.messages[e],g=e===d.messages.length-1,{content:h}=f;for(let d=0;d<h.length;d++){let e=h[d],j=d===h.length-1,k=null!=(i=m.getCacheControl(e.providerOptions,{type:"assistant message part",canCache:!0}))?i:j?m.getCacheControl(f.providerOptions,{type:"assistant message",canCache:!0}):void 0;switch(e.type){case"text":a.push({type:"text",text:q&&g&&j?e.text.trim():e.text,cache_control:k});break;case"reasoning":if(b){let b=await g_({provider:"anthropic",providerOptions:e.providerOptions,schema:ou});null!=b?null!=b.signature?(m.getCacheControl(e.providerOptions,{type:"thinking block",canCache:!1}),a.push({type:"thinking",thinking:e.text,signature:b.signature})):null!=b.redactedData?(m.getCacheControl(e.providerOptions,{type:"redacted thinking block",canCache:!1}),a.push({type:"redacted_thinking",data:b.redactedData})):c.push({type:"other",message:"unsupported reasoning metadata"}):c.push({type:"other",message:"unsupported reasoning metadata"})}else c.push({type:"other",message:"sending reasoning content is disabled for this model"});break;case"tool-call":if(e.providerExecuted){"code_execution"===e.toolName&&null!=e.input&&"object"==typeof e.input&&"type"in e.input&&"string"==typeof e.input.type&&("bash_code_execution"===e.input.type||"text_editor_code_execution"===e.input.type)?a.push({type:"server_tool_use",id:e.toolCallId,name:e.input.type,input:e.input,cache_control:k}):"code_execution"===e.toolName||"web_fetch"===e.toolName||"web_search"===e.toolName?a.push({type:"server_tool_use",id:e.toolCallId,name:e.toolName,input:e.input,cache_control:k}):c.push({type:"other",message:`provider executed tool call for tool ${e.toolName} is not supported`});break}a.push({type:"tool_use",id:e.toolCallId,name:e.toolName,input:e.input,cache_control:k});break;case"tool-result":if("code_execution"===e.toolName){let b=e.output;if("json"!==b.type){c.push({type:"other",message:`provider executed tool result output type ${b.type} for tool ${e.toolName} is not supported`});break}if(null==b.value||"object"!=typeof b.value||!("type"in b.value)||"string"!=typeof b.value.type){c.push({type:"other",message:`provider executed tool result output value is not a valid code execution result for tool ${e.toolName}`});break}if("code_execution_result"===b.value.type){let c=await gW({value:b.value,schema:oH});a.push({type:"code_execution_tool_result",tool_use_id:e.toolCallId,content:{type:c.type,stdout:c.stdout,stderr:c.stderr,return_code:c.return_code},cache_control:k})}else{let c=await gW({value:b.value,schema:oJ});a.push("bash_code_execution_result"===c.type||"bash_code_execution_tool_result_error"===c.type?{type:"bash_code_execution_tool_result",tool_use_id:e.toolCallId,cache_control:k,content:c}:{type:"text_editor_code_execution_tool_result",tool_use_id:e.toolCallId,cache_control:k,content:c})}break}if("web_fetch"===e.toolName){let b=e.output;if("json"!==b.type){c.push({type:"other",message:`provider executed tool result output type ${b.type} for tool ${e.toolName} is not supported`});break}let d=await gW({value:b.value,schema:oE});a.push({type:"web_fetch_tool_result",tool_use_id:e.toolCallId,content:{type:"web_fetch_result",url:d.url,retrieved_at:d.retrievedAt,content:{type:"document",title:d.content.title,citations:d.content.citations,source:{type:d.content.source.type,media_type:d.content.source.mediaType,data:d.content.source.data}}},cache_control:k});break}if("web_search"===e.toolName){let b=e.output;if("json"!==b.type){c.push({type:"other",message:`provider executed tool result output type ${b.type} for tool ${e.toolName} is not supported`});break}let d=await gW({value:b.value,schema:oB});a.push({type:"web_search_tool_result",tool_use_id:e.toolCallId,content:d.map(a=>({url:a.url,title:a.title,page_age:a.pageAge,encrypted_content:a.encryptedContent,type:a.type})),cache_control:k});break}c.push({type:"other",message:`provider executed tool result for tool ${e.toolName} is not supported`})}}}n.push({role:"assistant",content:a});break}default:throw Error(`content type: ${r}`)}}return{prompt:{system:j,messages:n},betas:k}}function oM({finishReason:a,isJsonResponseFromTool:b}){switch(a){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return b?"stop":"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function oN(a,b,c){var d;if("page_location"!==a.type&&"char_location"!==a.type)return;let e=b[a.document_index];if(e)return{type:"source",sourceType:"document",id:c(),mediaType:e.mediaType,title:null!=(d=a.document_title)?d:e.title,filename:e.filename,providerMetadata:{anthropic:"page_location"===a.type?{citedText:a.cited_text,startPageNumber:a.start_page_number,endPageNumber:a.end_page_number}:{citedText:a.cited_text,startCharIndex:a.start_char_index,endCharIndex:a.end_char_index}}}}var oO=class{constructor(a,b){var c;this.specificationVersion="v2",this.modelId=a,this.config=b,this.generateId=null!=(c=b.generateId)?c:gK}supportsUrl(a){return"https:"===a.protocol}get provider(){return this.config.provider}get supportedUrls(){var a,b,c;return null!=(c=null==(b=(a=this.config).supportedUrls)?void 0:b.call(a))?c:{}}async getArgs({prompt:a,maxOutputTokens:b,temperature:c,topP:d,topK:e,frequencyPenalty:f,presencePenalty:g,stopSequences:h,responseFormat:i,seed:j,tools:k,toolChoice:l,providerOptions:m}){var n,o,p,q,r;let s=[];null!=f&&s.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=g&&s.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=j&&s.push({type:"unsupported-setting",setting:"seed"}),(null==i?void 0:i.type)==="json"&&(null==i.schema?s.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."}):null!=k&&s.push({type:"unsupported-setting",setting:"tools",details:"JSON response format does not support tools. The provided tools are ignored."}));let t=(null==i?void 0:i.type)==="json"&&null!=i.schema?{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:i.schema}:void 0,u=await g_({provider:"anthropic",providerOptions:m,schema:ow}),v=new ox,{prompt:w,betas:x}=await oL({prompt:a,sendReasoning:null==(n=null==u?void 0:u.sendReasoning)||n,warnings:s,cacheControlValidator:v}),y=(null==(o=null==u?void 0:u.thinking)?void 0:o.type)==="enabled",z=null==(p=null==u?void 0:u.thinking)?void 0:p.budgetTokens,{maxOutputTokens:A,knownModel:B}=(r=this.modelId).includes("claude-sonnet-4-")||r.includes("claude-3-7-sonnet")||r.includes("claude-haiku-4-5")?{maxOutputTokens:64e3,knownModel:!0}:r.includes("claude-opus-4-")?{maxOutputTokens:32e3,knownModel:!0}:r.includes("claude-3-5-haiku")?{maxOutputTokens:8192,knownModel:!0}:r.includes("claude-3-haiku")?{maxOutputTokens:4096,knownModel:!0}:{maxOutputTokens:4096,knownModel:!1},C=null!=b?b:A,D={model:this.modelId,max_tokens:C,temperature:c,top_k:e,top_p:d,stop_sequences:h,...y&&{thinking:{type:"enabled",budget_tokens:z}},...(null==u?void 0:u.container)&&{container:{id:u.container.id,skills:null==(q=u.container.skills)?void 0:q.map(a=>({type:a.type,skill_id:a.skillId,version:a.version}))}},system:w.system,messages:w.messages};if(y){if(null==z)throw new fk({functionality:"thinking requires a budget"});null!=D.temperature&&(D.temperature=void 0,s.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),null!=e&&(D.top_k=void 0,s.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),null!=d&&(D.top_p=void 0,s.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),D.max_tokens=C+z}B&&D.max_tokens>A&&(null!=b&&s.push({type:"unsupported-setting",setting:"maxOutputTokens",details:`${D.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${A} max output tokens. The max output tokens have been limited to ${A}.`}),D.max_tokens=A),(null==u?void 0:u.container)&&u.container.skills&&u.container.skills.length>0&&(x.add("code-execution-2025-08-25"),x.add("skills-2025-10-02"),x.add("files-api-2025-04-14"),(null==k?void 0:k.some(a=>"provider-defined"===a.type&&"anthropic.code_execution_20250825"===a.id))||s.push({type:"other",message:"code execution tool is required when using skills"}));let{tools:E,toolChoice:F,toolWarnings:G,betas:H}=await oG(null!=t?{tools:[t],toolChoice:{type:"tool",toolName:t.name},disableParallelToolUse:!0,cacheControlValidator:v}:{tools:null!=k?k:[],toolChoice:l,disableParallelToolUse:null==u?void 0:u.disableParallelToolUse,cacheControlValidator:v}),I=v.getWarnings();return{args:{...D,tools:E,tool_choice:F},warnings:[...s,...G,...I],betas:new Set([...x,...H]),usesJsonResponseTool:null!=t}}async getHeaders({betas:a,headers:b}){return gI(await g6(this.config.headers),a.size>0?{"anthropic-beta":Array.from(a).join(",")}:{},b)}buildRequestUrl(a){var b,c,d;return null!=(d=null==(c=(b=this.config).buildRequestUrl)?void 0:c.call(b,this.config.baseURL,a))?d:`${this.config.baseURL}/messages`}transformRequestBody(a){var b,c,d;return null!=(d=null==(c=(b=this.config).transformRequestBody)?void 0:c.call(b,a))?d:a}extractCitationDocuments(a){return a.filter(a=>"user"===a.role).flatMap(a=>a.content).filter(a=>{var b,c;if("file"!==a.type||"application/pdf"!==a.mediaType&&"text/plain"!==a.mediaType)return!1;let d=null==(b=a.providerOptions)?void 0:b.anthropic,e=null==d?void 0:d.citations;return null!=(c=null==e?void 0:e.enabled)&&c}).map(a=>{var b;return{title:null!=(b=a.filename)?b:"Untitled Document",filename:a.filename,mediaType:a.mediaType}})}async doGenerate(a){var b,c,d,e,f,g,h,i;let{args:j,warnings:k,betas:l,usesJsonResponseTool:m}=await this.getArgs(a),n=this.extractCitationDocuments(a.prompt),{responseHeaders:o,value:p,rawValue:q}=await g1({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:l,headers:a.headers}),body:this.transformRequestBody(j),failedResponseHandler:or,successfulResponseHandler:g9(os),abortSignal:a.abortSignal,fetch:this.config.fetch}),r=[];for(let a of p.content)switch(a.type){case"text":if(!m&&(r.push({type:"text",text:a.text}),a.citations))for(let b of a.citations){let a=oN(b,n,this.generateId);a&&r.push(a)}break;case"thinking":r.push({type:"reasoning",text:a.thinking,providerMetadata:{anthropic:{signature:a.signature}}});break;case"redacted_thinking":r.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:a.data}}});break;case"tool_use":r.push(m?{type:"text",text:JSON.stringify(a.input)}:{type:"tool-call",toolCallId:a.id,toolName:a.name,input:JSON.stringify(a.input)});break;case"server_tool_use":"text_editor_code_execution"===a.name||"bash_code_execution"===a.name?r.push({type:"tool-call",toolCallId:a.id,toolName:"code_execution",input:JSON.stringify({type:a.name,...a.input}),providerExecuted:!0}):("web_search"===a.name||"code_execution"===a.name||"web_fetch"===a.name)&&r.push({type:"tool-call",toolCallId:a.id,toolName:a.name,input:JSON.stringify(a.input),providerExecuted:!0});break;case"web_fetch_tool_result":"web_fetch_result"===a.content.type?r.push({type:"tool-result",toolCallId:a.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:a.content.url,retrievedAt:a.content.retrieved_at,content:{type:a.content.content.type,title:a.content.content.title,citations:a.content.content.citations,source:{type:a.content.content.source.type,mediaType:a.content.content.source.media_type,data:a.content.content.source.data}}},providerExecuted:!0}):"web_fetch_tool_result_error"===a.content.type&&r.push({type:"tool-result",toolCallId:a.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:a.content.error_code},providerExecuted:!0});break;case"web_search_tool_result":if(Array.isArray(a.content))for(let c of(r.push({type:"tool-result",toolCallId:a.tool_use_id,toolName:"web_search",result:a.content.map(a=>{var b;return{url:a.url,title:a.title,pageAge:null!=(b=a.page_age)?b:null,encryptedContent:a.encrypted_content,type:a.type}}),providerExecuted:!0}),a.content))r.push({type:"source",sourceType:"url",id:this.generateId(),url:c.url,title:c.title,providerMetadata:{anthropic:{pageAge:null!=(b=c.page_age)?b:null}}});else r.push({type:"tool-result",toolCallId:a.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:a.content.error_code},providerExecuted:!0});break;case"code_execution_tool_result":"code_execution_result"===a.content.type?r.push({type:"tool-result",toolCallId:a.tool_use_id,toolName:"code_execution",result:{type:a.content.type,stdout:a.content.stdout,stderr:a.content.stderr,return_code:a.content.return_code},providerExecuted:!0}):"code_execution_tool_result_error"===a.content.type&&r.push({type:"tool-result",toolCallId:a.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:a.content.error_code},providerExecuted:!0});break;case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":r.push({type:"tool-result",toolCallId:a.tool_use_id,toolName:"code_execution",result:a.content,providerExecuted:!0})}return{content:r,finishReason:oM({finishReason:p.stop_reason,isJsonResponseFromTool:m}),usage:{inputTokens:p.usage.input_tokens,outputTokens:p.usage.output_tokens,totalTokens:p.usage.input_tokens+p.usage.output_tokens,cachedInputTokens:null!=(c=p.usage.cache_read_input_tokens)?c:void 0},request:{body:j},response:{id:null!=(d=p.id)?d:void 0,modelId:null!=(e=p.model)?e:void 0,headers:o,body:q},warnings:k,providerMetadata:{anthropic:{usage:p.usage,cacheCreationInputTokens:null!=(f=p.usage.cache_creation_input_tokens)?f:null,stopSequence:null!=(g=p.stop_sequence)?g:null,container:p.container?{expiresAt:p.container.expires_at,id:p.container.id,skills:null!=(i=null==(h=p.container.skills)?void 0:h.map(a=>({type:a.type,skillId:a.skill_id,version:a.version})))?i:null}:null}}}}async doStream(a){let b,c,{args:d,warnings:e,betas:f,usesJsonResponseTool:g}=await this.getArgs(a),h=this.extractCitationDocuments(a.prompt),i={...d,stream:!0},{responseHeaders:j,value:k}=await g1({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:f,headers:a.headers}),body:this.transformRequestBody(i),failedResponseHandler:or,successfulResponseHandler:g8(ot),abortSignal:a.abortSignal,fetch:this.config.fetch}),l="unknown",m={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},n={},o=null,p=null,q=null,r=this.generateId;return{stream:k.pipeThrough(new TransformStream({start(a){a.enqueue({type:"stream-start",warnings:e})},transform(d,e){var f,i,j,k,s,t,u,v,w,x;if(a.includeRawChunks&&e.enqueue({type:"raw",rawValue:d.rawValue}),!d.success)return void e.enqueue({type:"error",error:d.error});let y=d.value;switch(y.type){case"ping":return;case"content_block_start":{let a=y.content_block.type;switch(c=a,a){case"text":n[y.index]={type:"text"},e.enqueue({type:"text-start",id:String(y.index)});return;case"thinking":n[y.index]={type:"reasoning"},e.enqueue({type:"reasoning-start",id:String(y.index)});return;case"redacted_thinking":n[y.index]={type:"reasoning"},e.enqueue({type:"reasoning-start",id:String(y.index),providerMetadata:{anthropic:{redactedData:y.content_block.data}}});return;case"tool_use":n[y.index]=g?{type:"text"}:{type:"tool-call",toolCallId:y.content_block.id,toolName:y.content_block.name,input:"",firstDelta:!0},e.enqueue(g?{type:"text-start",id:String(y.index)}:{type:"tool-input-start",id:y.content_block.id,toolName:y.content_block.name});return;case"server_tool_use":if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(y.content_block.name)){n[y.index]={type:"tool-call",toolCallId:y.content_block.id,toolName:y.content_block.name,input:"",providerExecuted:!0,firstDelta:!0};let a="text_editor_code_execution"===y.content_block.name||"bash_code_execution"===y.content_block.name?"code_execution":y.content_block.name;e.enqueue({type:"tool-input-start",id:y.content_block.id,toolName:a,providerExecuted:!0})}return;case"web_fetch_tool_result":{let a=y.content_block;"web_fetch_result"===a.content.type?e.enqueue({type:"tool-result",toolCallId:a.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:a.content.url,retrievedAt:a.content.retrieved_at,content:{type:a.content.content.type,title:a.content.content.title,citations:a.content.content.citations,source:{type:a.content.content.source.type,mediaType:a.content.content.source.media_type,data:a.content.content.source.data}}},providerExecuted:!0}):"web_fetch_tool_result_error"===a.content.type&&e.enqueue({type:"tool-result",toolCallId:a.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:a.content.error_code},providerExecuted:!0});return}case"web_search_tool_result":{let a=y.content_block;if(Array.isArray(a.content))for(let b of(e.enqueue({type:"tool-result",toolCallId:a.tool_use_id,toolName:"web_search",result:a.content.map(a=>{var b;return{url:a.url,title:a.title,pageAge:null!=(b=a.page_age)?b:null,encryptedContent:a.encrypted_content,type:a.type}}),providerExecuted:!0}),a.content))e.enqueue({type:"source",sourceType:"url",id:r(),url:b.url,title:b.title,providerMetadata:{anthropic:{pageAge:null!=(f=b.page_age)?f:null}}});else e.enqueue({type:"tool-result",toolCallId:a.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:a.content.error_code},providerExecuted:!0});return}case"code_execution_tool_result":{let a=y.content_block;"code_execution_result"===a.content.type?e.enqueue({type:"tool-result",toolCallId:a.tool_use_id,toolName:"code_execution",result:{type:a.content.type,stdout:a.content.stdout,stderr:a.content.stderr,return_code:a.content.return_code},providerExecuted:!0}):"code_execution_tool_result_error"===a.content.type&&e.enqueue({type:"tool-result",toolCallId:a.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:a.content.error_code},providerExecuted:!0});return}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{let a=y.content_block;e.enqueue({type:"tool-result",toolCallId:a.tool_use_id,toolName:"code_execution",result:a.content,providerExecuted:!0});return}default:throw Error(`Unsupported content block type: ${a}`)}}case"content_block_stop":if(null!=n[y.index]){let a=n[y.index];switch(a.type){case"text":e.enqueue({type:"text-end",id:String(y.index)});break;case"reasoning":e.enqueue({type:"reasoning-end",id:String(y.index)});break;case"tool-call":if(!g){e.enqueue({type:"tool-input-end",id:a.toolCallId});let b="text_editor_code_execution"===a.toolName||"bash_code_execution"===a.toolName?"code_execution":a.toolName;e.enqueue({type:"tool-call",toolCallId:a.toolCallId,toolName:b,input:a.input,providerExecuted:a.providerExecuted})}}delete n[y.index]}c=void 0;return;case"content_block_delta":{let a=y.delta.type;switch(a){case"text_delta":if(g)return;e.enqueue({type:"text-delta",id:String(y.index),delta:y.delta.text});return;case"thinking_delta":return void e.enqueue({type:"reasoning-delta",id:String(y.index),delta:y.delta.thinking});case"signature_delta":"thinking"===c&&e.enqueue({type:"reasoning-delta",id:String(y.index),delta:"",providerMetadata:{anthropic:{signature:y.delta.signature}}});return;case"input_json_delta":{let a=n[y.index],b=y.delta.partial_json;if(0===b.length)return;if(g){if((null==a?void 0:a.type)!=="text")return;e.enqueue({type:"text-delta",id:String(y.index),delta:b})}else{if((null==a?void 0:a.type)!=="tool-call")return;a.firstDelta&&("bash_code_execution"===a.toolName||"text_editor_code_execution"===a.toolName)&&(b=`{"type": "${a.toolName}",${b.substring(1)}`),e.enqueue({type:"tool-input-delta",id:a.toolCallId,delta:b}),a.input+=b,a.firstDelta=!1}return}case"citations_delta":{let a=oN(y.delta.citation,h,r);a&&e.enqueue(a);return}default:throw Error(`Unsupported delta type: ${a}`)}}case"message_start":m.inputTokens=y.message.usage.input_tokens,m.cachedInputTokens=null!=(i=y.message.usage.cache_read_input_tokens)?i:void 0,b={...y.message.usage},o=null!=(j=y.message.usage.cache_creation_input_tokens)?j:null,e.enqueue({type:"response-metadata",id:null!=(k=y.message.id)?k:void 0,modelId:null!=(s=y.message.model)?s:void 0});return;case"message_delta":m.outputTokens=y.usage.output_tokens,m.totalTokens=(null!=(t=m.inputTokens)?t:0)+(null!=(u=y.usage.output_tokens)?u:0),l=oM({finishReason:y.delta.stop_reason,isJsonResponseFromTool:g}),p=null!=(v=y.delta.stop_sequence)?v:null,q=null!=y.delta.container?{expiresAt:y.delta.container.expires_at,id:y.delta.container.id,skills:null!=(x=null==(w=y.delta.container.skills)?void 0:w.map(a=>({type:a.type,skillId:a.skill_id,version:a.version})))?x:null}:null,b={...b,...y.usage};return;case"message_stop":return void e.enqueue({type:"finish",finishReason:l,usage:m,providerMetadata:{anthropic:{usage:null!=b?b:null,cacheCreationInputTokens:o,stopSequence:p,container:q}}});case"error":return void e.enqueue({type:"error",error:y.error});default:throw Error(`Unsupported chunk type: ${y}`)}}})),request:{body:i},response:{headers:j}}}},oP=g4({id:"anthropic.bash_20241022",name:"bash",inputSchema:hC(()=>hA(oq.object({command:oq.string(),restart:oq.boolean().optional()})))}),oQ=g4({id:"anthropic.bash_20250124",name:"bash",inputSchema:hC(()=>hA(oq.object({command:oq.string(),restart:oq.boolean().optional()})))}),oR=g4({id:"anthropic.computer_20241022",name:"computer",inputSchema:hC(()=>hA(oq.object({action:oq.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:oq.array(oq.number().int()).optional(),text:oq.string().optional()})))}),oS=g4({id:"anthropic.computer_20250124",name:"computer",inputSchema:hC(()=>hA(oq.object({action:oq.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:oq.tuple([oq.number().int(),oq.number().int()]).optional(),duration:oq.number().optional(),scroll_amount:oq.number().optional(),scroll_direction:oq.enum(["up","down","left","right"]).optional(),start_coordinate:oq.tuple([oq.number().int(),oq.number().int()]).optional(),text:oq.string().optional()})))}),oT=g4({id:"anthropic.memory_20250818",name:"memory",inputSchema:hC(()=>hA(oq.discriminatedUnion("command",[oq.object({command:oq.literal("view"),path:oq.string(),view_range:oq.tuple([oq.number(),oq.number()]).optional()}),oq.object({command:oq.literal("create"),path:oq.string(),file_text:oq.string()}),oq.object({command:oq.literal("str_replace"),path:oq.string(),old_str:oq.string(),new_str:oq.string()}),oq.object({command:oq.literal("insert"),path:oq.string(),insert_line:oq.number(),insert_text:oq.string()}),oq.object({command:oq.literal("delete"),path:oq.string()}),oq.object({command:oq.literal("rename"),old_path:oq.string(),new_path:oq.string()})])))}),oU={bash_20241022:oP,bash_20250124:oQ,codeExecution_20250522:(a={})=>oI(a),codeExecution_20250825:(a={})=>oK(a),computer_20241022:oR,computer_20250124:oS,memory_20250818:oT,textEditor_20241022:g4({id:"anthropic.text_editor_20241022",name:"str_replace_editor",inputSchema:hC(()=>hA(oq.object({command:oq.enum(["view","create","str_replace","insert","undo_edit"]),path:oq.string(),file_text:oq.string().optional(),insert_line:oq.number().int().optional(),new_str:oq.string().optional(),old_str:oq.string().optional(),view_range:oq.array(oq.number().int()).optional()})))}),textEditor_20250124:g4({id:"anthropic.text_editor_20250124",name:"str_replace_editor",inputSchema:hC(()=>hA(oq.object({command:oq.enum(["view","create","str_replace","insert","undo_edit"]),path:oq.string(),file_text:oq.string().optional(),insert_line:oq.number().int().optional(),new_str:oq.string().optional(),old_str:oq.string().optional(),view_range:oq.array(oq.number().int()).optional()})))}),textEditor_20250429:g4({id:"anthropic.text_editor_20250429",name:"str_replace_based_edit_tool",inputSchema:hC(()=>hA(oq.object({command:oq.enum(["view","create","str_replace","insert"]),path:oq.string(),file_text:oq.string().optional(),insert_line:oq.number().int().optional(),new_str:oq.string().optional(),old_str:oq.string().optional(),view_range:oq.array(oq.number().int()).optional()})))}),textEditor_20250728:(a={})=>oz(a),webFetch_20250910:(a={})=>oF(a),webSearch_20250305:(a={})=>oC(a)};function oV(a={}){var b,c;let d=null!=(b=hH(gP({settingValue:a.baseURL,environmentVariableName:"ANTHROPIC_BASE_URL"})))?b:"https://api.anthropic.com/v1",e=null!=(c=a.name)?c:"anthropic.messages",f=()=>gN({"anthropic-version":"2023-06-01","x-api-key":gO({apiKey:a.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...a.headers},"ai-sdk/anthropic/2.0.44"),g=b=>{var c;return new oO(b,{provider:e,baseURL:d,headers:f,fetch:a.fetch,generateId:null!=(c=a.generateId)?c:gK,supportedUrls:()=>({"image/*":[/^https?:\/\/.*$/]})})},h=function(a){if(new.target)throw Error("The Anthropic model function cannot be called with the new keyword.");return g(a)};return h.languageModel=g,h.chat=g,h.messages=g,h.textEmbeddingModel=a=>{throw new e8({modelId:a,modelType:"textEmbeddingModel"})},h.imageModel=a=>{throw new e8({modelId:a,modelType:"imageModel"})},h.tools=oU,h}oV();var oq=oq,oW=oq.object({error:oq.object({message:oq.string(),type:oq.string().nullish(),param:oq.any().nullish(),code:oq.union([oq.string(),oq.number()]).nullish()})}),oX=g7({errorSchema:oW,errorToMessage:a=>a.error.message});function oY({id:a,model:b,created:c}){return{id:null!=a?a:void 0,modelId:null!=b?b:void 0,timestamp:c?new Date(1e3*c):void 0}}function oZ(a){switch(a){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var o$=gV(()=>hA(oq.object({id:oq.string().nullish(),created:oq.number().nullish(),model:oq.string().nullish(),choices:oq.array(oq.object({message:oq.object({role:oq.literal("assistant").nullish(),content:oq.string().nullish(),tool_calls:oq.array(oq.object({id:oq.string().nullish(),type:oq.literal("function"),function:oq.object({name:oq.string(),arguments:oq.string()})})).nullish(),annotations:oq.array(oq.object({type:oq.literal("url_citation"),start_index:oq.number(),end_index:oq.number(),url:oq.string(),title:oq.string()})).nullish()}),index:oq.number(),logprobs:oq.object({content:oq.array(oq.object({token:oq.string(),logprob:oq.number(),top_logprobs:oq.array(oq.object({token:oq.string(),logprob:oq.number()}))})).nullish()}).nullish(),finish_reason:oq.string().nullish()})),usage:oq.object({prompt_tokens:oq.number().nullish(),completion_tokens:oq.number().nullish(),total_tokens:oq.number().nullish(),prompt_tokens_details:oq.object({cached_tokens:oq.number().nullish()}).nullish(),completion_tokens_details:oq.object({reasoning_tokens:oq.number().nullish(),accepted_prediction_tokens:oq.number().nullish(),rejected_prediction_tokens:oq.number().nullish()}).nullish()}).nullish()}))),o_=gV(()=>hA(oq.union([oq.object({id:oq.string().nullish(),created:oq.number().nullish(),model:oq.string().nullish(),choices:oq.array(oq.object({delta:oq.object({role:oq.enum(["assistant"]).nullish(),content:oq.string().nullish(),tool_calls:oq.array(oq.object({index:oq.number(),id:oq.string().nullish(),type:oq.literal("function").nullish(),function:oq.object({name:oq.string().nullish(),arguments:oq.string().nullish()})})).nullish(),annotations:oq.array(oq.object({type:oq.literal("url_citation"),start_index:oq.number(),end_index:oq.number(),url:oq.string(),title:oq.string()})).nullish()}).nullish(),logprobs:oq.object({content:oq.array(oq.object({token:oq.string(),logprob:oq.number(),top_logprobs:oq.array(oq.object({token:oq.string(),logprob:oq.number()}))})).nullish()}).nullish(),finish_reason:oq.string().nullish(),index:oq.number()})),usage:oq.object({prompt_tokens:oq.number().nullish(),completion_tokens:oq.number().nullish(),total_tokens:oq.number().nullish(),prompt_tokens_details:oq.object({cached_tokens:oq.number().nullish()}).nullish(),completion_tokens_details:oq.object({reasoning_tokens:oq.number().nullish(),accepted_prediction_tokens:oq.number().nullish(),rejected_prediction_tokens:oq.number().nullish()}).nullish()}).nullish()}),oW]))),o0=gV(()=>hA(oq.object({logitBias:oq.record(oq.coerce.number(),oq.number()).optional(),logprobs:oq.union([oq.boolean(),oq.number()]).optional(),parallelToolCalls:oq.boolean().optional(),user:oq.string().optional(),reasoningEffort:oq.enum(["minimal","low","medium","high"]).optional(),maxCompletionTokens:oq.number().optional(),store:oq.boolean().optional(),metadata:oq.record(oq.string().max(64),oq.string().max(512)).optional(),prediction:oq.record(oq.string(),oq.any()).optional(),structuredOutputs:oq.boolean().optional(),serviceTier:oq.enum(["auto","flex","priority","default"]).optional(),strictJsonSchema:oq.boolean().optional(),textVerbosity:oq.enum(["low","medium","high"]).optional(),promptCacheKey:oq.string().optional(),safetyIdentifier:oq.string().optional()}))),o1=class{constructor(a,b){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=a,this.config=b}get provider(){return this.config.provider}async getArgs({prompt:a,maxOutputTokens:b,temperature:c,topP:d,topK:e,frequencyPenalty:f,presencePenalty:g,stopSequences:h,responseFormat:i,seed:j,tools:k,toolChoice:l,providerOptions:m}){var n,o,p,q,r,s,t,u,v;let w=[],x=null!=(n=await g_({provider:"openai",providerOptions:m,schema:o0}))?n:{},y=null==(o=x.structuredOutputs)||o;null!=e&&w.push({type:"unsupported-setting",setting:"topK"}),(null==i?void 0:i.type)!=="json"||null==i.schema||y||w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{messages:z,warnings:A}=function({prompt:a,systemMessageMode:b="system"}){let c=[],d=[];for(let{role:e,content:f}of a)switch(e){case"system":switch(b){case"system":c.push({role:"system",content:f});break;case"developer":c.push({role:"developer",content:f});break;case"remove":d.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${b}`)}break;case"user":if(1===f.length&&"text"===f[0].type){c.push({role:"user",content:f[0].text});break}c.push({role:"user",content:f.map((a,b)=>{var c,d,e;switch(a.type){case"text":return{type:"text",text:a.text};case"file":if(a.mediaType.startsWith("image/")){let b="image/*"===a.mediaType?"image/jpeg":a.mediaType;return{type:"image_url",image_url:{url:a.data instanceof URL?a.data.toString():`data:${b};base64,${hG(a.data)}`,detail:null==(d=null==(c=a.providerOptions)?void 0:c.openai)?void 0:d.imageDetail}}}if(a.mediaType.startsWith("audio/")){if(a.data instanceof URL)throw new fk({functionality:"audio file parts with URLs"});switch(a.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:hG(a.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:hG(a.data),format:"mp3"}};default:throw new fk({functionality:`audio content parts with media type ${a.mediaType}`})}}if("application/pdf"===a.mediaType){if(a.data instanceof URL)throw new fk({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"==typeof a.data&&a.data.startsWith("file-")?{file_id:a.data}:{filename:null!=(e=a.filename)?e:`part-${b}.pdf`,file_data:`data:application/pdf;base64,${hG(a.data)}`}}}else throw new fk({functionality:`file part media type ${a.mediaType}`})}})});break;case"assistant":{let a="",b=[];for(let c of f)switch(c.type){case"text":a+=c.text;break;case"tool-call":b.push({id:c.toolCallId,type:"function",function:{name:c.toolName,arguments:JSON.stringify(c.input)}})}c.push({role:"assistant",content:a,tool_calls:b.length>0?b:void 0});break}case"tool":for(let a of f){let b,d=a.output;switch(d.type){case"text":case"error-text":b=d.value;break;case"content":case"json":case"error-json":b=JSON.stringify(d.value)}c.push({role:"tool",tool_call_id:a.toolCallId,content:b})}break;default:throw Error(`Unsupported role: ${e}`)}return{messages:c,warnings:d}}({prompt:a,systemMessageMode:o2(r=this.modelId)?null!=(t=null==(s=o3[r])?void 0:s.systemMessageMode)?t:"developer":"system"});w.push(...A);let B=null!=(p=x.strictJsonSchema)&&p,C={model:this.modelId,logit_bias:x.logitBias,logprobs:!0===x.logprobs||"number"==typeof x.logprobs||void 0,top_logprobs:"number"==typeof x.logprobs?x.logprobs:"boolean"==typeof x.logprobs&&x.logprobs?0:void 0,user:x.user,parallel_tool_calls:x.parallelToolCalls,max_tokens:b,temperature:c,top_p:d,frequency_penalty:f,presence_penalty:g,response_format:(null==i?void 0:i.type)==="json"?y&&null!=i.schema?{type:"json_schema",json_schema:{schema:i.schema,strict:B,name:null!=(q=i.name)?q:"response",description:i.description}}:{type:"json_object"}:void 0,stop:h,seed:j,verbosity:x.textVerbosity,max_completion_tokens:x.maxCompletionTokens,store:x.store,metadata:x.metadata,prediction:x.prediction,reasoning_effort:x.reasoningEffort,service_tier:x.serviceTier,prompt_cache_key:x.promptCacheKey,safety_identifier:x.safetyIdentifier,messages:z};o2(this.modelId)?(null!=C.temperature&&(C.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=C.top_p&&(C.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=C.frequency_penalty&&(C.frequency_penalty=void 0,w.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=C.presence_penalty&&(C.presence_penalty=void 0,w.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=C.logit_bias&&(C.logit_bias=void 0,w.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=C.logprobs&&(C.logprobs=void 0,w.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=C.top_logprobs&&(C.top_logprobs=void 0,w.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=C.max_tokens&&(null==C.max_completion_tokens&&(C.max_completion_tokens=C.max_tokens),C.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=C.temperature&&(C.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==x.serviceTier||(u=this.modelId).startsWith("o3")||u.startsWith("o4-mini")||u.startsWith("gpt-5")&&!u.startsWith("gpt-5-chat")||(w.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),C.service_tier=void 0),"priority"!==x.serviceTier||(v=this.modelId).startsWith("gpt-4")||v.startsWith("gpt-5-mini")||v.startsWith("gpt-5")&&!v.startsWith("gpt-5-nano")&&!v.startsWith("gpt-5-chat")||v.startsWith("o3")||v.startsWith("o4-mini")||(w.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),C.service_tier=void 0);let{tools:D,toolChoice:E,toolWarnings:F}=function({tools:a,toolChoice:b,structuredOutputs:c,strictJsonSchema:d}){a=(null==a?void 0:a.length)?a:void 0;let e=[];if(null==a)return{tools:void 0,toolChoice:void 0,toolWarnings:e};let f=[];for(let b of a)"function"===b.type?f.push({type:"function",function:{name:b.name,description:b.description,parameters:b.inputSchema,strict:c?d:void 0}}):e.push({type:"unsupported-tool",tool:b});if(null==b)return{tools:f,toolChoice:void 0,toolWarnings:e};let g=b.type;switch(g){case"auto":case"none":case"required":return{tools:f,toolChoice:g,toolWarnings:e};case"tool":return{tools:f,toolChoice:{type:"function",function:{name:b.toolName}},toolWarnings:e};default:throw new fk({functionality:`tool choice type: ${g}`})}}({tools:k,toolChoice:l,structuredOutputs:y,strictJsonSchema:B});return{args:{...C,tools:D,tool_choice:E},warnings:[...w,...F]}}async doGenerate(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;let{args:p,warnings:q}=await this.getArgs(a),{responseHeaders:r,value:s,rawValue:t}=await g1({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:gI(this.config.headers(),a.headers),body:p,failedResponseHandler:oX,successfulResponseHandler:g9(o$),abortSignal:a.abortSignal,fetch:this.config.fetch}),u=s.choices[0],v=[],w=u.message.content;for(let a of(null!=w&&w.length>0&&v.push({type:"text",text:w}),null!=(b=u.message.tool_calls)?b:[]))v.push({type:"tool-call",toolCallId:null!=(c=a.id)?c:gK(),toolName:a.function.name,input:a.function.arguments});for(let a of null!=(d=u.message.annotations)?d:[])v.push({type:"source",sourceType:"url",id:gK(),url:a.url,title:a.title});let x=null==(e=s.usage)?void 0:e.completion_tokens_details,y=null==(f=s.usage)?void 0:f.prompt_tokens_details,z={openai:{}};return(null==x?void 0:x.accepted_prediction_tokens)!=null&&(z.openai.acceptedPredictionTokens=null==x?void 0:x.accepted_prediction_tokens),(null==x?void 0:x.rejected_prediction_tokens)!=null&&(z.openai.rejectedPredictionTokens=null==x?void 0:x.rejected_prediction_tokens),(null==(g=u.logprobs)?void 0:g.content)!=null&&(z.openai.logprobs=u.logprobs.content),{content:v,finishReason:oZ(u.finish_reason),usage:{inputTokens:null!=(i=null==(h=s.usage)?void 0:h.prompt_tokens)?i:void 0,outputTokens:null!=(k=null==(j=s.usage)?void 0:j.completion_tokens)?k:void 0,totalTokens:null!=(m=null==(l=s.usage)?void 0:l.total_tokens)?m:void 0,reasoningTokens:null!=(n=null==x?void 0:x.reasoning_tokens)?n:void 0,cachedInputTokens:null!=(o=null==y?void 0:y.cached_tokens)?o:void 0},request:{body:p},response:{...oY(s),headers:r,body:t},warnings:q,providerMetadata:z}}async doStream(a){let{args:b,warnings:c}=await this.getArgs(a),d={...b,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:e,value:f}=await g1({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:gI(this.config.headers(),a.headers),body:d,failedResponseHandler:oX,successfulResponseHandler:g8(o_),abortSignal:a.abortSignal,fetch:this.config.fetch}),g=[],h="unknown",i={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},j=!1,k=!1,l={openai:{}};return{stream:f.pipeThrough(new TransformStream({start(a){a.enqueue({type:"stream-start",warnings:c})},transform(b,c){var d,e,f,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;if(a.includeRawChunks&&c.enqueue({type:"raw",rawValue:b.rawValue}),!b.success){h="error",c.enqueue({type:"error",error:b.error});return}let H=b.value;if("error"in H){h="error",c.enqueue({type:"error",error:H.error});return}!j&&Object.values(oY(H)).some(Boolean)&&(j=!0,c.enqueue({type:"response-metadata",...oY(H)})),null!=H.usage&&(i.inputTokens=null!=(d=H.usage.prompt_tokens)?d:void 0,i.outputTokens=null!=(e=H.usage.completion_tokens)?e:void 0,i.totalTokens=null!=(f=H.usage.total_tokens)?f:void 0,i.reasoningTokens=null!=(n=null==(m=H.usage.completion_tokens_details)?void 0:m.reasoning_tokens)?n:void 0,i.cachedInputTokens=null!=(p=null==(o=H.usage.prompt_tokens_details)?void 0:o.cached_tokens)?p:void 0,(null==(q=H.usage.completion_tokens_details)?void 0:q.accepted_prediction_tokens)!=null&&(l.openai.acceptedPredictionTokens=null==(r=H.usage.completion_tokens_details)?void 0:r.accepted_prediction_tokens),(null==(s=H.usage.completion_tokens_details)?void 0:s.rejected_prediction_tokens)!=null&&(l.openai.rejectedPredictionTokens=null==(t=H.usage.completion_tokens_details)?void 0:t.rejected_prediction_tokens));let I=H.choices[0];if((null==I?void 0:I.finish_reason)!=null&&(h=oZ(I.finish_reason)),(null==(u=null==I?void 0:I.logprobs)?void 0:u.content)!=null&&(l.openai.logprobs=I.logprobs.content),(null==I?void 0:I.delta)==null)return;let J=I.delta;if(null!=J.content&&(k||(c.enqueue({type:"text-start",id:"0"}),k=!0),c.enqueue({type:"text-delta",id:"0",delta:J.content})),null!=J.tool_calls)for(let a of J.tool_calls){let b=a.index;if(null==g[b]){if("function"!==a.type)throw new eY({data:a,message:"Expected 'function' type."});if(null==a.id)throw new eY({data:a,message:"Expected 'id' to be a string."});if((null==(v=a.function)?void 0:v.name)==null)throw new eY({data:a,message:"Expected 'function.name' to be a string."});c.enqueue({type:"tool-input-start",id:a.id,toolName:a.function.name}),g[b]={id:a.id,type:"function",function:{name:a.function.name,arguments:null!=(w=a.function.arguments)?w:""},hasFinished:!1};let d=g[b];(null==(x=d.function)?void 0:x.name)!=null&&(null==(y=d.function)?void 0:y.arguments)!=null&&(d.function.arguments.length>0&&c.enqueue({type:"tool-input-delta",id:d.id,delta:d.function.arguments}),g$(d.function.arguments)&&(c.enqueue({type:"tool-input-end",id:d.id}),c.enqueue({type:"tool-call",toolCallId:null!=(z=d.id)?z:gK(),toolName:d.function.name,input:d.function.arguments}),d.hasFinished=!0));continue}let d=g[b];!d.hasFinished&&((null==(A=a.function)?void 0:A.arguments)!=null&&(d.function.arguments+=null!=(C=null==(B=a.function)?void 0:B.arguments)?C:""),c.enqueue({type:"tool-input-delta",id:d.id,delta:null!=(D=a.function.arguments)?D:""}),(null==(E=d.function)?void 0:E.name)!=null&&(null==(F=d.function)?void 0:F.arguments)!=null&&g$(d.function.arguments)&&(c.enqueue({type:"tool-input-end",id:d.id}),c.enqueue({type:"tool-call",toolCallId:null!=(G=d.id)?G:gK(),toolName:d.function.name,input:d.function.arguments}),d.hasFinished=!0))}if(null!=J.annotations)for(let a of J.annotations)c.enqueue({type:"source",sourceType:"url",id:gK(),url:a.url,title:a.title})},flush(a){k&&a.enqueue({type:"text-end",id:"0"}),a.enqueue({type:"finish",finishReason:h,usage:i,...null!=l?{providerMetadata:l}:{}})}})),request:{body:d},response:{headers:e}}}};function o2(a){return(a.startsWith("o")||a.startsWith("gpt-5"))&&!a.startsWith("gpt-5-chat")}var o3={o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function o4({id:a,model:b,created:c}){return{id:null!=a?a:void 0,modelId:null!=b?b:void 0,timestamp:null!=c?new Date(1e3*c):void 0}}function o5(a){switch(a){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var o6=gV(()=>hA(oq.object({id:oq.string().nullish(),created:oq.number().nullish(),model:oq.string().nullish(),choices:oq.array(oq.object({text:oq.string(),finish_reason:oq.string(),logprobs:oq.object({tokens:oq.array(oq.string()),token_logprobs:oq.array(oq.number()),top_logprobs:oq.array(oq.record(oq.string(),oq.number())).nullish()}).nullish()})),usage:oq.object({prompt_tokens:oq.number(),completion_tokens:oq.number(),total_tokens:oq.number()}).nullish()}))),o7=gV(()=>hA(oq.union([oq.object({id:oq.string().nullish(),created:oq.number().nullish(),model:oq.string().nullish(),choices:oq.array(oq.object({text:oq.string(),finish_reason:oq.string().nullish(),index:oq.number(),logprobs:oq.object({tokens:oq.array(oq.string()),token_logprobs:oq.array(oq.number()),top_logprobs:oq.array(oq.record(oq.string(),oq.number())).nullish()}).nullish()})),usage:oq.object({prompt_tokens:oq.number(),completion_tokens:oq.number(),total_tokens:oq.number()}).nullish()}),oW]))),o8=gV(()=>hA(oq.object({echo:oq.boolean().optional(),logitBias:oq.record(oq.string(),oq.number()).optional(),suffix:oq.string().optional(),user:oq.string().optional(),logprobs:oq.union([oq.boolean(),oq.number()]).optional()}))),o9=class{constructor(a,b){this.specificationVersion="v2",this.supportedUrls={},this.modelId=a,this.config=b}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:a,maxOutputTokens:b,temperature:c,topP:d,topK:e,frequencyPenalty:f,presencePenalty:g,stopSequences:h,responseFormat:i,tools:j,toolChoice:k,seed:l,providerOptions:m}){let n=[],o={...await g_({provider:"openai",providerOptions:m,schema:o8}),...await g_({provider:this.providerOptionsName,providerOptions:m,schema:o8})};null!=e&&n.push({type:"unsupported-setting",setting:"topK"}),(null==j?void 0:j.length)&&n.push({type:"unsupported-setting",setting:"tools"}),null!=k&&n.push({type:"unsupported-setting",setting:"toolChoice"}),null!=i&&"text"!==i.type&&n.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:p,stopSequences:q}=function({prompt:a,user:b="user",assistant:c="assistant"}){let d="";for(let{role:e,content:f}of("system"===a[0].role&&(d+=`${a[0].content}

`,a=a.slice(1)),a))switch(e){case"system":throw new eU({message:"Unexpected system message in prompt: ${content}",prompt:a});case"user":{let a=f.map(a=>{if("text"===a.type)return a.text}).filter(Boolean).join("");d+=`${b}:
${a}

`;break}case"assistant":{let a=f.map(a=>{switch(a.type){case"text":return a.text;case"tool-call":throw new fk({functionality:"tool-call messages"})}}).join("");d+=`${c}:
${a}

`;break}case"tool":throw new fk({functionality:"tool messages"});default:throw Error(`Unsupported role: ${e}`)}return{prompt:d+=`${c}:
`,stopSequences:[`
${b}:`]}}({prompt:a}),r=[...null!=q?q:[],...null!=h?h:[]];return{args:{model:this.modelId,echo:o.echo,logit_bias:o.logitBias,logprobs:(null==o?void 0:o.logprobs)===!0?0:(null==o?void 0:o.logprobs)===!1||null==o?void 0:o.logprobs,suffix:o.suffix,user:o.user,max_tokens:b,temperature:c,top_p:d,frequency_penalty:f,presence_penalty:g,seed:l,prompt:p,stop:r.length>0?r:void 0},warnings:n}}async doGenerate(a){var b,c,d;let{args:e,warnings:f}=await this.getArgs(a),{responseHeaders:g,value:h,rawValue:i}=await g1({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:gI(this.config.headers(),a.headers),body:e,failedResponseHandler:oX,successfulResponseHandler:g9(o6),abortSignal:a.abortSignal,fetch:this.config.fetch}),j=h.choices[0],k={openai:{}};return null!=j.logprobs&&(k.openai.logprobs=j.logprobs),{content:[{type:"text",text:j.text}],usage:{inputTokens:null==(b=h.usage)?void 0:b.prompt_tokens,outputTokens:null==(c=h.usage)?void 0:c.completion_tokens,totalTokens:null==(d=h.usage)?void 0:d.total_tokens},finishReason:o5(j.finish_reason),request:{body:e},response:{...o4(h),headers:g,body:i},providerMetadata:k,warnings:f}}async doStream(a){let{args:b,warnings:c}=await this.getArgs(a),d={...b,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:e,value:f}=await g1({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:gI(this.config.headers(),a.headers),body:d,failedResponseHandler:oX,successfulResponseHandler:g8(o7),abortSignal:a.abortSignal,fetch:this.config.fetch}),g="unknown",h={openai:{}},i={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},j=!0;return{stream:f.pipeThrough(new TransformStream({start(a){a.enqueue({type:"stream-start",warnings:c})},transform(b,c){if(a.includeRawChunks&&c.enqueue({type:"raw",rawValue:b.rawValue}),!b.success){g="error",c.enqueue({type:"error",error:b.error});return}let d=b.value;if("error"in d){g="error",c.enqueue({type:"error",error:d.error});return}j&&(j=!1,c.enqueue({type:"response-metadata",...o4(d)}),c.enqueue({type:"text-start",id:"0"})),null!=d.usage&&(i.inputTokens=d.usage.prompt_tokens,i.outputTokens=d.usage.completion_tokens,i.totalTokens=d.usage.total_tokens);let e=d.choices[0];(null==e?void 0:e.finish_reason)!=null&&(g=o5(e.finish_reason)),(null==e?void 0:e.logprobs)!=null&&(h.openai.logprobs=e.logprobs),(null==e?void 0:e.text)!=null&&e.text.length>0&&c.enqueue({type:"text-delta",id:"0",delta:e.text})},flush(a){j||a.enqueue({type:"text-end",id:"0"}),a.enqueue({type:"finish",finishReason:g,providerMetadata:h,usage:i})}})),request:{body:d},response:{headers:e}}}},pa=gV(()=>hA(oq.object({dimensions:oq.number().optional(),user:oq.string().optional()}))),pb=gV(()=>hA(oq.object({data:oq.array(oq.object({embedding:oq.array(oq.number())})),usage:oq.object({prompt_tokens:oq.number()}).nullish()}))),pc=class{constructor(a,b){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=a,this.config=b}get provider(){return this.config.provider}async doEmbed({values:a,headers:b,abortSignal:c,providerOptions:d}){var e;if(a.length>this.maxEmbeddingsPerCall)throw new fc({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:a});let f=null!=(e=await g_({provider:"openai",providerOptions:d,schema:pa}))?e:{},{responseHeaders:g,value:h,rawValue:i}=await g1({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:gI(this.config.headers(),b),body:{model:this.modelId,input:a,encoding_format:"float",dimensions:f.dimensions,user:f.user},failedResponseHandler:oX,successfulResponseHandler:g9(pb),abortSignal:c,fetch:this.config.fetch});return{embeddings:h.data.map(a=>a.embedding),usage:h.usage?{tokens:h.usage.prompt_tokens}:void 0,response:{headers:g,body:i}}}},pd=gV(()=>hA(oq.object({data:oq.array(oq.object({b64_json:oq.string(),revised_prompt:oq.string().nullish()}))}))),pe={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},pf=new Set(["gpt-image-1","gpt-image-1-mini"]),pg=class{constructor(a,b){this.modelId=a,this.config=b,this.specificationVersion="v2"}get maxImagesPerCall(){var a;return null!=(a=pe[this.modelId])?a:1}get provider(){return this.config.provider}async doGenerate({prompt:a,n:b,size:c,aspectRatio:d,seed:e,providerOptions:f,headers:g,abortSignal:h}){var i,j,k,l;let m=[];null!=d&&m.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=e&&m.push({type:"unsupported-setting",setting:"seed"});let n=null!=(k=null==(j=null==(i=this.config._internal)?void 0:i.currentDate)?void 0:j.call(i))?k:new Date,{value:o,responseHeaders:p}=await g1({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:gI(this.config.headers(),g),body:{model:this.modelId,prompt:a,n:b,size:c,...null!=(l=f.openai)?l:{},...!pf.has(this.modelId)?{response_format:"b64_json"}:{}},failedResponseHandler:oX,successfulResponseHandler:g9(pd),abortSignal:h,fetch:this.config.fetch});return{images:o.data.map(a=>a.b64_json),warnings:m,response:{timestamp:n,modelId:this.modelId,headers:p},providerMetadata:{openai:{images:o.data.map(a=>a.revised_prompt?{revisedPrompt:a.revised_prompt}:null)}}}}},ph=hC(()=>hA(oq.object({code:oq.string().nullish(),containerId:oq.string()}))),pi=hC(()=>hA(oq.object({outputs:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("logs"),logs:oq.string()}),oq.object({type:oq.literal("image"),url:oq.string()})])).nullish()}))),pj=hC(()=>hA(oq.object({container:oq.union([oq.string(),oq.object({fileIds:oq.array(oq.string()).optional()})]).optional()}))),pk=g5({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:ph,outputSchema:pi}),pl=oq.object({key:oq.string(),type:oq.enum(["eq","ne","gt","gte","lt","lte"]),value:oq.union([oq.string(),oq.number(),oq.boolean()])}),pm=oq.object({type:oq.enum(["and","or"]),filters:oq.array(oq.union([pl,oq.lazy(()=>pm)]))}),pn=hC(()=>hA(oq.object({vectorStoreIds:oq.array(oq.string()),maxNumResults:oq.number().optional(),ranking:oq.object({ranker:oq.string().optional(),scoreThreshold:oq.number().optional()}).optional(),filters:oq.union([pl,pm]).optional()}))),po=hC(()=>hA(oq.object({queries:oq.array(oq.string()),results:oq.array(oq.object({attributes:oq.record(oq.string(),oq.unknown()),fileId:oq.string(),filename:oq.string(),score:oq.number(),text:oq.string()})).nullable()}))),pp=g5({id:"openai.file_search",name:"file_search",inputSchema:oq.object({}),outputSchema:po}),pq=hC(()=>hA(oq.object({background:oq.enum(["auto","opaque","transparent"]).optional(),inputFidelity:oq.enum(["low","high"]).optional(),inputImageMask:oq.object({fileId:oq.string().optional(),imageUrl:oq.string().optional()}).optional(),model:oq.string().optional(),moderation:oq.enum(["auto"]).optional(),outputCompression:oq.number().int().min(0).max(100).optional(),outputFormat:oq.enum(["png","jpeg","webp"]).optional(),partialImages:oq.number().int().min(0).max(3).optional(),quality:oq.enum(["auto","low","medium","high"]).optional(),size:oq.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict())),pr=g5({id:"openai.image_generation",name:"image_generation",inputSchema:hC(()=>hA(oq.object({}))),outputSchema:hC(()=>hA(oq.object({result:oq.string()})))}),ps=hC(()=>hA(oq.object({action:oq.object({type:oq.literal("exec"),command:oq.array(oq.string()),timeoutMs:oq.number().optional(),user:oq.string().optional(),workingDirectory:oq.string().optional(),env:oq.record(oq.string(),oq.string()).optional()})}))),pt=hC(()=>hA(oq.object({output:oq.string()}))),pu=g5({id:"openai.local_shell",name:"local_shell",inputSchema:ps,outputSchema:pt}),pv=hC(()=>hA(oq.object({filters:oq.object({allowedDomains:oq.array(oq.string()).optional()}).optional(),searchContextSize:oq.enum(["low","medium","high"]).optional(),userLocation:oq.object({type:oq.literal("approximate"),country:oq.string().optional(),city:oq.string().optional(),region:oq.string().optional(),timezone:oq.string().optional()}).optional()}))),pw=g5({id:"openai.web_search",name:"web_search",inputSchema:hC(()=>hA(oq.object({}))),outputSchema:hC(()=>hA(oq.object({action:oq.discriminatedUnion("type",[oq.object({type:oq.literal("search"),query:oq.string().optional()}),oq.object({type:oq.literal("openPage"),url:oq.string()}),oq.object({type:oq.literal("find"),url:oq.string(),pattern:oq.string()})]),sources:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("url"),url:oq.string()}),oq.object({type:oq.literal("api"),name:oq.string()})])).optional()})))}),px=hC(()=>hA(oq.object({searchContextSize:oq.enum(["low","medium","high"]).optional(),userLocation:oq.object({type:oq.literal("approximate"),country:oq.string().optional(),city:oq.string().optional(),region:oq.string().optional(),timezone:oq.string().optional()}).optional()}))),py={codeInterpreter:(a={})=>pk(a),fileSearch:pp,imageGeneration:(a={})=>pr(a),localShell:pu,webSearchPreview:g5({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:hC(()=>hA(oq.object({}))),outputSchema:hC(()=>hA(oq.object({action:oq.discriminatedUnion("type",[oq.object({type:oq.literal("search"),query:oq.string().optional()}),oq.object({type:oq.literal("openPage"),url:oq.string()}),oq.object({type:oq.literal("find"),url:oq.string(),pattern:oq.string()})])})))}),webSearch:(a={})=>pw(a)};function pz(a,b){return!!b&&b.some(b=>a.startsWith(b))}async function pA({prompt:a,systemMessageMode:b,fileIdPrefixes:c,store:d,hasLocalShellTool:e=!1}){var f,g,h,i;let j=[],k=[];for(let{role:l,content:m}of a)switch(l){case"system":switch(b){case"system":j.push({role:"system",content:m});break;case"developer":j.push({role:"developer",content:m});break;case"remove":k.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${b}`)}break;case"user":j.push({role:"user",content:m.map((a,b)=>{var d,e,f;switch(a.type){case"text":return{type:"input_text",text:a.text};case"file":if(a.mediaType.startsWith("image/")){let b="image/*"===a.mediaType?"image/jpeg":a.mediaType;return{type:"input_image",...a.data instanceof URL?{image_url:a.data.toString()}:"string"==typeof a.data&&pz(a.data,c)?{file_id:a.data}:{image_url:`data:${b};base64,${hG(a.data)}`},detail:null==(e=null==(d=a.providerOptions)?void 0:d.openai)?void 0:e.imageDetail}}if("application/pdf"===a.mediaType){if(a.data instanceof URL)return{type:"input_file",file_url:a.data.toString()};return{type:"input_file",..."string"==typeof a.data&&pz(a.data,c)?{file_id:a.data}:{filename:null!=(f=a.filename)?f:`part-${b}.pdf`,file_data:`data:application/pdf;base64,${hG(a.data)}`}}}throw new fk({functionality:`file part media type ${a.mediaType}`})}})});break;case"assistant":{let a={},b={};for(let c of m)switch(c.type){case"text":{let a=null==(g=null==(f=c.providerOptions)?void 0:f.openai)?void 0:g.itemId;if(d&&null!=a){j.push({type:"item_reference",id:a});break}j.push({role:"assistant",content:[{type:"output_text",text:c.text}],id:a});break}case"tool-call":{if(b[c.toolCallId]=c,c.providerExecuted)break;let a=null==(i=null==(h=c.providerOptions)?void 0:h.openai)?void 0:i.itemId;if(d&&null!=a){j.push({type:"item_reference",id:a});break}if(e&&"local_shell"===c.toolName){let b=await gW({value:c.input,schema:ps});j.push({type:"local_shell_call",call_id:c.toolCallId,id:a,action:{type:"exec",command:b.action.command,timeout_ms:b.action.timeoutMs,user:b.action.user,working_directory:b.action.workingDirectory,env:b.action.env}});break}j.push({type:"function_call",call_id:c.toolCallId,name:c.toolName,arguments:JSON.stringify(c.input),id:a});break}case"tool-result":d?j.push({type:"item_reference",id:c.toolCallId}):k.push({type:"other",message:`Results for OpenAI tool ${c.toolName} are not sent to the API when store is false`});break;case"reasoning":{let b=await g_({provider:"openai",providerOptions:c.providerOptions,schema:pB}),e=null==b?void 0:b.itemId;if(null!=e){let f=a[e];if(d)void 0===f&&(j.push({type:"item_reference",id:e}),a[e]={type:"reasoning",id:e,summary:[]});else{let d=[];c.text.length>0?d.push({type:"summary_text",text:c.text}):void 0!==f&&k.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(c)}.`}),void 0===f?(a[e]={type:"reasoning",id:e,encrypted_content:null==b?void 0:b.reasoningEncryptedContent,summary:d},j.push(a[e])):(f.summary.push(...d),(null==b?void 0:b.reasoningEncryptedContent)!=null&&(f.encrypted_content=b.reasoningEncryptedContent))}}else k.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(c)}.`})}}break}case"tool":for(let a of m){let b,c=a.output;if(e&&"local_shell"===a.toolName&&"json"===c.type){let b=await gW({value:c.value,schema:pt});j.push({type:"local_shell_call_output",call_id:a.toolCallId,output:b.output});break}switch(c.type){case"text":case"error-text":b=c.value;break;case"json":case"error-json":b=JSON.stringify(c.value);break;case"content":b=c.value.map(a=>{switch(a.type){case"text":return{type:"input_text",text:a.text};case"media":return a.mediaType.startsWith("image/")?{type:"input_image",image_url:`data:${a.mediaType};base64,${a.data}`}:{type:"input_file",filename:"data",file_data:`data:${a.mediaType};base64,${a.data}`}}})}j.push({type:"function_call_output",call_id:a.toolCallId,output:b})}break;default:throw Error(`Unsupported role: ${l}`)}return{input:j,warnings:k}}var pB=oq.object({itemId:oq.string().nullish(),reasoningEncryptedContent:oq.string().nullish()});function pC({finishReason:a,hasFunctionCall:b}){switch(a){case void 0:case null:return b?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return b?"tool-calls":"unknown"}}var pD=gV(()=>hA(oq.union([oq.object({type:oq.literal("response.output_text.delta"),item_id:oq.string(),delta:oq.string(),logprobs:oq.array(oq.object({token:oq.string(),logprob:oq.number(),top_logprobs:oq.array(oq.object({token:oq.string(),logprob:oq.number()}))})).nullish()}),oq.object({type:oq.enum(["response.completed","response.incomplete"]),response:oq.object({incomplete_details:oq.object({reason:oq.string()}).nullish(),usage:oq.object({input_tokens:oq.number(),input_tokens_details:oq.object({cached_tokens:oq.number().nullish()}).nullish(),output_tokens:oq.number(),output_tokens_details:oq.object({reasoning_tokens:oq.number().nullish()}).nullish()}),service_tier:oq.string().nullish()})}),oq.object({type:oq.literal("response.created"),response:oq.object({id:oq.string(),created_at:oq.number(),model:oq.string(),service_tier:oq.string().nullish()})}),oq.object({type:oq.literal("response.output_item.added"),output_index:oq.number(),item:oq.discriminatedUnion("type",[oq.object({type:oq.literal("message"),id:oq.string()}),oq.object({type:oq.literal("reasoning"),id:oq.string(),encrypted_content:oq.string().nullish()}),oq.object({type:oq.literal("function_call"),id:oq.string(),call_id:oq.string(),name:oq.string(),arguments:oq.string()}),oq.object({type:oq.literal("web_search_call"),id:oq.string(),status:oq.string()}),oq.object({type:oq.literal("computer_call"),id:oq.string(),status:oq.string()}),oq.object({type:oq.literal("file_search_call"),id:oq.string()}),oq.object({type:oq.literal("image_generation_call"),id:oq.string()}),oq.object({type:oq.literal("code_interpreter_call"),id:oq.string(),container_id:oq.string(),code:oq.string().nullable(),outputs:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("logs"),logs:oq.string()}),oq.object({type:oq.literal("image"),url:oq.string()})])).nullable(),status:oq.string()})])}),oq.object({type:oq.literal("response.output_item.done"),output_index:oq.number(),item:oq.discriminatedUnion("type",[oq.object({type:oq.literal("message"),id:oq.string()}),oq.object({type:oq.literal("reasoning"),id:oq.string(),encrypted_content:oq.string().nullish()}),oq.object({type:oq.literal("function_call"),id:oq.string(),call_id:oq.string(),name:oq.string(),arguments:oq.string(),status:oq.literal("completed")}),oq.object({type:oq.literal("code_interpreter_call"),id:oq.string(),code:oq.string().nullable(),container_id:oq.string(),outputs:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("logs"),logs:oq.string()}),oq.object({type:oq.literal("image"),url:oq.string()})])).nullable()}),oq.object({type:oq.literal("image_generation_call"),id:oq.string(),result:oq.string()}),oq.object({type:oq.literal("web_search_call"),id:oq.string(),status:oq.string(),action:oq.discriminatedUnion("type",[oq.object({type:oq.literal("search"),query:oq.string().nullish(),sources:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("url"),url:oq.string()}),oq.object({type:oq.literal("api"),name:oq.string()})])).nullish()}),oq.object({type:oq.literal("open_page"),url:oq.string()}),oq.object({type:oq.literal("find"),url:oq.string(),pattern:oq.string()})])}),oq.object({type:oq.literal("file_search_call"),id:oq.string(),queries:oq.array(oq.string()),results:oq.array(oq.object({attributes:oq.record(oq.string(),oq.unknown()),file_id:oq.string(),filename:oq.string(),score:oq.number(),text:oq.string()})).nullish()}),oq.object({type:oq.literal("local_shell_call"),id:oq.string(),call_id:oq.string(),action:oq.object({type:oq.literal("exec"),command:oq.array(oq.string()),timeout_ms:oq.number().optional(),user:oq.string().optional(),working_directory:oq.string().optional(),env:oq.record(oq.string(),oq.string()).optional()})}),oq.object({type:oq.literal("computer_call"),id:oq.string(),status:oq.literal("completed")})])}),oq.object({type:oq.literal("response.function_call_arguments.delta"),item_id:oq.string(),output_index:oq.number(),delta:oq.string()}),oq.object({type:oq.literal("response.image_generation_call.partial_image"),item_id:oq.string(),output_index:oq.number(),partial_image_b64:oq.string()}),oq.object({type:oq.literal("response.code_interpreter_call_code.delta"),item_id:oq.string(),output_index:oq.number(),delta:oq.string()}),oq.object({type:oq.literal("response.code_interpreter_call_code.done"),item_id:oq.string(),output_index:oq.number(),code:oq.string()}),oq.object({type:oq.literal("response.output_text.annotation.added"),annotation:oq.discriminatedUnion("type",[oq.object({type:oq.literal("url_citation"),url:oq.string(),title:oq.string()}),oq.object({type:oq.literal("file_citation"),file_id:oq.string(),filename:oq.string().nullish(),index:oq.number().nullish(),start_index:oq.number().nullish(),end_index:oq.number().nullish(),quote:oq.string().nullish()})])}),oq.object({type:oq.literal("response.reasoning_summary_part.added"),item_id:oq.string(),summary_index:oq.number()}),oq.object({type:oq.literal("response.reasoning_summary_text.delta"),item_id:oq.string(),summary_index:oq.number(),delta:oq.string()}),oq.object({type:oq.literal("response.reasoning_summary_part.done"),item_id:oq.string(),summary_index:oq.number()}),oq.object({type:oq.literal("error"),code:oq.string(),message:oq.string(),param:oq.string().nullish(),sequence_number:oq.number()}),oq.object({type:oq.string()}).loose().transform(a=>({type:"unknown_chunk",message:a.type}))]))),pE=gV(()=>hA(oq.object({id:oq.string(),created_at:oq.number(),error:oq.object({code:oq.string(),message:oq.string()}).nullish(),model:oq.string(),output:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("message"),role:oq.literal("assistant"),id:oq.string(),content:oq.array(oq.object({type:oq.literal("output_text"),text:oq.string(),logprobs:oq.array(oq.object({token:oq.string(),logprob:oq.number(),top_logprobs:oq.array(oq.object({token:oq.string(),logprob:oq.number()}))})).nullish(),annotations:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("url_citation"),start_index:oq.number(),end_index:oq.number(),url:oq.string(),title:oq.string()}),oq.object({type:oq.literal("file_citation"),file_id:oq.string(),filename:oq.string().nullish(),index:oq.number().nullish(),start_index:oq.number().nullish(),end_index:oq.number().nullish(),quote:oq.string().nullish()}),oq.object({type:oq.literal("container_file_citation")})]))}))}),oq.object({type:oq.literal("web_search_call"),id:oq.string(),status:oq.string(),action:oq.discriminatedUnion("type",[oq.object({type:oq.literal("search"),query:oq.string().nullish(),sources:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("url"),url:oq.string()}),oq.object({type:oq.literal("api"),name:oq.string()})])).nullish()}),oq.object({type:oq.literal("open_page"),url:oq.string()}),oq.object({type:oq.literal("find"),url:oq.string(),pattern:oq.string()})])}),oq.object({type:oq.literal("file_search_call"),id:oq.string(),queries:oq.array(oq.string()),results:oq.array(oq.object({attributes:oq.record(oq.string(),oq.unknown()),file_id:oq.string(),filename:oq.string(),score:oq.number(),text:oq.string()})).nullish()}),oq.object({type:oq.literal("code_interpreter_call"),id:oq.string(),code:oq.string().nullable(),container_id:oq.string(),outputs:oq.array(oq.discriminatedUnion("type",[oq.object({type:oq.literal("logs"),logs:oq.string()}),oq.object({type:oq.literal("image"),url:oq.string()})])).nullable()}),oq.object({type:oq.literal("image_generation_call"),id:oq.string(),result:oq.string()}),oq.object({type:oq.literal("local_shell_call"),id:oq.string(),call_id:oq.string(),action:oq.object({type:oq.literal("exec"),command:oq.array(oq.string()),timeout_ms:oq.number().optional(),user:oq.string().optional(),working_directory:oq.string().optional(),env:oq.record(oq.string(),oq.string()).optional()})}),oq.object({type:oq.literal("function_call"),call_id:oq.string(),name:oq.string(),arguments:oq.string(),id:oq.string()}),oq.object({type:oq.literal("computer_call"),id:oq.string(),status:oq.string().optional()}),oq.object({type:oq.literal("reasoning"),id:oq.string(),encrypted_content:oq.string().nullish(),summary:oq.array(oq.object({type:oq.literal("summary_text"),text:oq.string()}))})])),service_tier:oq.string().nullish(),incomplete_details:oq.object({reason:oq.string()}).nullish(),usage:oq.object({input_tokens:oq.number(),input_tokens_details:oq.object({cached_tokens:oq.number().nullish()}).nullish(),output_tokens:oq.number(),output_tokens_details:oq.object({reasoning_tokens:oq.number().nullish()}).nullish()})}))),pF=gV(()=>hA(oq.object({include:oq.array(oq.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:oq.string().nullish(),logprobs:oq.union([oq.boolean(),oq.number().min(1).max(20)]).optional(),maxToolCalls:oq.number().nullish(),metadata:oq.any().nullish(),parallelToolCalls:oq.boolean().nullish(),previousResponseId:oq.string().nullish(),promptCacheKey:oq.string().nullish(),reasoningEffort:oq.string().nullish(),reasoningSummary:oq.string().nullish(),safetyIdentifier:oq.string().nullish(),serviceTier:oq.enum(["auto","flex","priority","default"]).nullish(),store:oq.boolean().nullish(),strictJsonSchema:oq.boolean().nullish(),textVerbosity:oq.enum(["low","medium","high"]).nullish(),truncation:oq.enum(["auto","disabled"]).nullish(),user:oq.string().nullish()})));async function pG({tools:a,toolChoice:b,strictJsonSchema:c}){a=(null==a?void 0:a.length)?a:void 0;let d=[];if(null==a)return{tools:void 0,toolChoice:void 0,toolWarnings:d};let e=[];for(let b of a)switch(b.type){case"function":e.push({type:"function",name:b.name,description:b.description,parameters:b.inputSchema,strict:c});break;case"provider-defined":switch(b.id){case"openai.file_search":{let a=await gW({value:b.args,schema:pn});e.push({type:"file_search",vector_store_ids:a.vectorStoreIds,max_num_results:a.maxNumResults,ranking_options:a.ranking?{ranker:a.ranking.ranker,score_threshold:a.ranking.scoreThreshold}:void 0,filters:a.filters});break}case"openai.local_shell":e.push({type:"local_shell"});break;case"openai.web_search_preview":{let a=await gW({value:b.args,schema:px});e.push({type:"web_search_preview",search_context_size:a.searchContextSize,user_location:a.userLocation});break}case"openai.web_search":{let a=await gW({value:b.args,schema:pv});e.push({type:"web_search",filters:null!=a.filters?{allowed_domains:a.filters.allowedDomains}:void 0,search_context_size:a.searchContextSize,user_location:a.userLocation});break}case"openai.code_interpreter":{let a=await gW({value:b.args,schema:pj});e.push({type:"code_interpreter",container:null==a.container?{type:"auto",file_ids:void 0}:"string"==typeof a.container?a.container:{type:"auto",file_ids:a.container.fileIds}});break}case"openai.image_generation":{let a=await gW({value:b.args,schema:pq});e.push({type:"image_generation",background:a.background,input_fidelity:a.inputFidelity,input_image_mask:a.inputImageMask?{file_id:a.inputImageMask.fileId,image_url:a.inputImageMask.imageUrl}:void 0,model:a.model,size:a.size,quality:a.quality,moderation:a.moderation,output_format:a.outputFormat,output_compression:a.outputCompression})}}break;default:d.push({type:"unsupported-tool",tool:b})}if(null==b)return{tools:e,toolChoice:void 0,toolWarnings:d};let f=b.type;switch(f){case"auto":case"none":case"required":return{tools:e,toolChoice:f,toolWarnings:d};case"tool":return{tools:e,toolChoice:"code_interpreter"===b.toolName||"file_search"===b.toolName||"image_generation"===b.toolName||"web_search_preview"===b.toolName||"web_search"===b.toolName?{type:b.toolName}:{type:"function",name:b.toolName},toolWarnings:d};default:throw new fk({functionality:`tool choice type: ${f}`})}}var pH=class{constructor(a,b){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=a,this.config=b}get provider(){return this.config.provider}async getArgs({maxOutputTokens:a,temperature:b,stopSequences:c,topP:d,topK:e,presencePenalty:f,frequencyPenalty:g,seed:h,prompt:i,providerOptions:j,tools:k,toolChoice:l,responseFormat:m}){var n,o,p,q,r;let s,t=[],u=(s={systemMessageMode:"system",supportsFlexProcessing:(r=this.modelId).startsWith("o3")||r.startsWith("o4-mini")||r.startsWith("gpt-5")&&!r.startsWith("gpt-5-chat"),supportsPriorityProcessing:r.startsWith("gpt-4")||r.startsWith("gpt-5-mini")||r.startsWith("gpt-5")&&!r.startsWith("gpt-5-nano")&&!r.startsWith("gpt-5-chat")||r.startsWith("o3")||r.startsWith("o4-mini")},r.startsWith("gpt-5-chat")?{...s,isReasoningModel:!1}:r.startsWith("o")||r.startsWith("gpt-5")||r.startsWith("codex-")||r.startsWith("computer-use")?{...s,isReasoningModel:!0,systemMessageMode:"developer"}:{...s,isReasoningModel:!1});null!=e&&t.push({type:"unsupported-setting",setting:"topK"}),null!=h&&t.push({type:"unsupported-setting",setting:"seed"}),null!=f&&t.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=g&&t.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=c&&t.push({type:"unsupported-setting",setting:"stopSequences"});let v=await g_({provider:"openai",providerOptions:j,schema:pF}),{input:w,warnings:x}=await pA({prompt:i,systemMessageMode:u.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:null==(n=null==v?void 0:v.store)||n,hasLocalShellTool:B("openai.local_shell")});t.push(...x);let y=null!=(o=null==v?void 0:v.strictJsonSchema)&&o,z=null==v?void 0:v.include;function A(a){null==z?z=[a]:z.includes(a)||(z=[...z,a])}function B(a){return(null==k?void 0:k.find(b=>"provider-defined"===b.type&&b.id===a))!=null}let C="number"==typeof(null==v?void 0:v.logprobs)?null==v?void 0:v.logprobs:(null==v?void 0:v.logprobs)===!0?20:void 0;C&&A("message.output_text.logprobs");let D=null==(p=null==k?void 0:k.find(a=>"provider-defined"===a.type&&("openai.web_search"===a.id||"openai.web_search_preview"===a.id)))?void 0:p.name;D&&A("web_search_call.action.sources"),B("openai.code_interpreter")&&A("code_interpreter_call.outputs");let E=null==v?void 0:v.store;!1===E&&u.isReasoningModel&&A("reasoning.encrypted_content");let F={model:this.modelId,input:w,temperature:b,top_p:d,max_output_tokens:a,...((null==m?void 0:m.type)==="json"||(null==v?void 0:v.textVerbosity))&&{text:{...(null==m?void 0:m.type)==="json"&&{format:null!=m.schema?{type:"json_schema",strict:y,name:null!=(q=m.name)?q:"response",description:m.description,schema:m.schema}:{type:"json_object"}},...(null==v?void 0:v.textVerbosity)&&{verbosity:v.textVerbosity}}},max_tool_calls:null==v?void 0:v.maxToolCalls,metadata:null==v?void 0:v.metadata,parallel_tool_calls:null==v?void 0:v.parallelToolCalls,previous_response_id:null==v?void 0:v.previousResponseId,store:E,user:null==v?void 0:v.user,instructions:null==v?void 0:v.instructions,service_tier:null==v?void 0:v.serviceTier,include:z,prompt_cache_key:null==v?void 0:v.promptCacheKey,safety_identifier:null==v?void 0:v.safetyIdentifier,top_logprobs:C,truncation:null==v?void 0:v.truncation,...u.isReasoningModel&&((null==v?void 0:v.reasoningEffort)!=null||(null==v?void 0:v.reasoningSummary)!=null)&&{reasoning:{...(null==v?void 0:v.reasoningEffort)!=null&&{effort:v.reasoningEffort},...(null==v?void 0:v.reasoningSummary)!=null&&{summary:v.reasoningSummary}}}};u.isReasoningModel?(null!=F.temperature&&(F.temperature=void 0,t.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=F.top_p&&(F.top_p=void 0,t.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):((null==v?void 0:v.reasoningEffort)!=null&&t.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),(null==v?void 0:v.reasoningSummary)!=null&&t.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),(null==v?void 0:v.serviceTier)!=="flex"||u.supportsFlexProcessing||(t.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete F.service_tier),(null==v?void 0:v.serviceTier)!=="priority"||u.supportsPriorityProcessing||(t.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete F.service_tier);let{tools:G,toolChoice:H,toolWarnings:I}=await pG({tools:k,toolChoice:l,strictJsonSchema:y});return{webSearchToolName:D,args:{...F,tools:G,tool_choice:H},warnings:[...t,...I],store:E}}async doGenerate(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;let{args:u,warnings:v,webSearchToolName:w}=await this.getArgs(a),x=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:y,value:z,rawValue:A}=await g1({url:x,headers:gI(this.config.headers(),a.headers),body:u,failedResponseHandler:oX,successfulResponseHandler:g9(pE),abortSignal:a.abortSignal,fetch:this.config.fetch});if(z.error)throw new eH({message:z.error.message,url:x,requestBodyValues:u,statusCode:400,responseHeaders:y,responseBody:A,isRetryable:!1});let B=[],C=[],D=!1;for(let p of z.output)switch(p.type){case"reasoning":for(let a of(0===p.summary.length&&p.summary.push({type:"summary_text",text:""}),p.summary))B.push({type:"reasoning",text:a.text,providerMetadata:{openai:{itemId:p.id,reasoningEncryptedContent:null!=(b=p.encrypted_content)?b:null}}});break;case"image_generation_call":B.push({type:"tool-call",toolCallId:p.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),B.push({type:"tool-result",toolCallId:p.id,toolName:"image_generation",result:{result:p.result},providerExecuted:!0});break;case"local_shell_call":B.push({type:"tool-call",toolCallId:p.call_id,toolName:"local_shell",input:JSON.stringify({action:p.action}),providerMetadata:{openai:{itemId:p.id}}});break;case"message":for(let b of p.content)for(let n of((null==(d=null==(c=a.providerOptions)?void 0:c.openai)?void 0:d.logprobs)&&b.logprobs&&C.push(b.logprobs),B.push({type:"text",text:b.text,providerMetadata:{openai:{itemId:p.id}}}),b.annotations))"url_citation"===n.type?B.push({type:"source",sourceType:"url",id:null!=(g=null==(f=(e=this.config).generateId)?void 0:f.call(e))?g:gK(),url:n.url,title:n.title}):"file_citation"===n.type&&B.push({type:"source",sourceType:"document",id:null!=(j=null==(i=(h=this.config).generateId)?void 0:i.call(h))?j:gK(),mediaType:"text/plain",title:null!=(l=null!=(k=n.quote)?k:n.filename)?l:"Document",filename:null!=(m=n.filename)?m:n.file_id,...n.file_id?{providerMetadata:{openai:{fileId:n.file_id}}}:{}});break;case"function_call":D=!0,B.push({type:"tool-call",toolCallId:p.call_id,toolName:p.name,input:p.arguments,providerMetadata:{openai:{itemId:p.id}}});break;case"web_search_call":B.push({type:"tool-call",toolCallId:p.id,toolName:null!=w?w:"web_search",input:JSON.stringify({}),providerExecuted:!0}),B.push({type:"tool-result",toolCallId:p.id,toolName:null!=w?w:"web_search",result:pJ(p.action),providerExecuted:!0});break;case"computer_call":B.push({type:"tool-call",toolCallId:p.id,toolName:"computer_use",input:"",providerExecuted:!0}),B.push({type:"tool-result",toolCallId:p.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:p.status||"completed"},providerExecuted:!0});break;case"file_search_call":B.push({type:"tool-call",toolCallId:p.id,toolName:"file_search",input:"{}",providerExecuted:!0}),B.push({type:"tool-result",toolCallId:p.id,toolName:"file_search",result:{queries:p.queries,results:null!=(o=null==(n=p.results)?void 0:n.map(a=>({attributes:a.attributes,fileId:a.file_id,filename:a.filename,score:a.score,text:a.text})))?o:null},providerExecuted:!0});break;case"code_interpreter_call":B.push({type:"tool-call",toolCallId:p.id,toolName:"code_interpreter",input:JSON.stringify({code:p.code,containerId:p.container_id}),providerExecuted:!0}),B.push({type:"tool-result",toolCallId:p.id,toolName:"code_interpreter",result:{outputs:p.outputs},providerExecuted:!0})}let E={openai:{responseId:z.id}};return C.length>0&&(E.openai.logprobs=C),"string"==typeof z.service_tier&&(E.openai.serviceTier=z.service_tier),{content:B,finishReason:pC({finishReason:null==(p=z.incomplete_details)?void 0:p.reason,hasFunctionCall:D}),usage:{inputTokens:z.usage.input_tokens,outputTokens:z.usage.output_tokens,totalTokens:z.usage.input_tokens+z.usage.output_tokens,reasoningTokens:null!=(r=null==(q=z.usage.output_tokens_details)?void 0:q.reasoning_tokens)?r:void 0,cachedInputTokens:null!=(t=null==(s=z.usage.input_tokens_details)?void 0:s.cached_tokens)?t:void 0},request:{body:u},response:{id:z.id,timestamp:new Date(1e3*z.created_at),modelId:z.model,headers:y,body:A},providerMetadata:E,warnings:v}}async doStream(a){let b,{args:c,warnings:d,webSearchToolName:e,store:f}=await this.getArgs(a),{responseHeaders:g,value:h}=await g1({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:gI(this.config.headers(),a.headers),body:{...c,stream:!0},failedResponseHandler:oX,successfulResponseHandler:g8(pD),abortSignal:a.abortSignal,fetch:this.config.fetch}),i=this,j="unknown",k={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},l=[],m=null,n={},o=!1,p={};return{stream:h.pipeThrough(new TransformStream({start(a){a.enqueue({type:"stream-start",warnings:d})},transform(c,d){var g,h,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;if(a.includeRawChunks&&d.enqueue({type:"raw",rawValue:c.rawValue}),!c.success){j="error",d.enqueue({type:"error",error:c.error});return}let L=c.value;if(pI(L))"function_call"===L.item.type?(n[L.output_index]={toolName:L.item.name,toolCallId:L.item.call_id},d.enqueue({type:"tool-input-start",id:L.item.call_id,toolName:L.item.name})):"web_search_call"===L.item.type?(n[L.output_index]={toolName:null!=e?e:"web_search",toolCallId:L.item.id},d.enqueue({type:"tool-input-start",id:L.item.id,toolName:null!=e?e:"web_search",providerExecuted:!0}),d.enqueue({type:"tool-input-end",id:L.item.id}),d.enqueue({type:"tool-call",toolCallId:L.item.id,toolName:"web_search",input:JSON.stringify({}),providerExecuted:!0})):"computer_call"===L.item.type?(n[L.output_index]={toolName:"computer_use",toolCallId:L.item.id},d.enqueue({type:"tool-input-start",id:L.item.id,toolName:"computer_use",providerExecuted:!0})):"code_interpreter_call"===L.item.type?(n[L.output_index]={toolName:"code_interpreter",toolCallId:L.item.id,codeInterpreter:{containerId:L.item.container_id}},d.enqueue({type:"tool-input-start",id:L.item.id,toolName:"code_interpreter",providerExecuted:!0}),d.enqueue({type:"tool-input-delta",id:L.item.id,delta:`{"containerId":"${L.item.container_id}","code":"`})):"file_search_call"===L.item.type?d.enqueue({type:"tool-call",toolCallId:L.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):"image_generation_call"===L.item.type?d.enqueue({type:"tool-call",toolCallId:L.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):"message"===L.item.type?d.enqueue({type:"text-start",id:L.item.id,providerMetadata:{openai:{itemId:L.item.id}}}):pI(L)&&"reasoning"===L.item.type&&(p[L.item.id]={encryptedContent:L.item.encrypted_content,summaryParts:{0:"active"}},d.enqueue({type:"reasoning-start",id:`${L.item.id}:0`,providerMetadata:{openai:{itemId:L.item.id,reasoningEncryptedContent:null!=(g=L.item.encrypted_content)?g:null}}}));else if("response.output_item.done"===L.type){if("function_call"===L.item.type)n[L.output_index]=void 0,o=!0,d.enqueue({type:"tool-input-end",id:L.item.call_id}),d.enqueue({type:"tool-call",toolCallId:L.item.call_id,toolName:L.item.name,input:L.item.arguments,providerMetadata:{openai:{itemId:L.item.id}}});else if("web_search_call"===L.item.type)n[L.output_index]=void 0,d.enqueue({type:"tool-result",toolCallId:L.item.id,toolName:"web_search",result:pJ(L.item.action),providerExecuted:!0});else if("computer_call"===L.item.type)n[L.output_index]=void 0,d.enqueue({type:"tool-input-end",id:L.item.id}),d.enqueue({type:"tool-call",toolCallId:L.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),d.enqueue({type:"tool-result",toolCallId:L.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:L.item.status||"completed"},providerExecuted:!0});else if("file_search_call"===L.item.type)n[L.output_index]=void 0,d.enqueue({type:"tool-result",toolCallId:L.item.id,toolName:"file_search",result:{queries:L.item.queries,results:null!=(q=null==(h=L.item.results)?void 0:h.map(a=>({attributes:a.attributes,fileId:a.file_id,filename:a.filename,score:a.score,text:a.text})))?q:null},providerExecuted:!0});else if("code_interpreter_call"===L.item.type)n[L.output_index]=void 0,d.enqueue({type:"tool-result",toolCallId:L.item.id,toolName:"code_interpreter",result:{outputs:L.item.outputs},providerExecuted:!0});else if("image_generation_call"===L.item.type)d.enqueue({type:"tool-result",toolCallId:L.item.id,toolName:"image_generation",result:{result:L.item.result},providerExecuted:!0});else if("local_shell_call"===L.item.type)n[L.output_index]=void 0,d.enqueue({type:"tool-call",toolCallId:L.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:L.item.action.command,timeoutMs:L.item.action.timeout_ms,user:L.item.action.user,workingDirectory:L.item.action.working_directory,env:L.item.action.env}}),providerMetadata:{openai:{itemId:L.item.id}}});else if("message"===L.item.type)d.enqueue({type:"text-end",id:L.item.id});else if("reasoning"===L.item.type){for(let a of Object.entries(p[L.item.id].summaryParts).filter(([a,b])=>"active"===b||"can-conclude"===b).map(([a])=>a))d.enqueue({type:"reasoning-end",id:`${L.item.id}:${a}`,providerMetadata:{openai:{itemId:L.item.id,reasoningEncryptedContent:null!=(r=L.item.encrypted_content)?r:null}}});delete p[L.item.id]}}else if("response.function_call_arguments.delta"===L.type){let a=n[L.output_index];null!=a&&d.enqueue({type:"tool-input-delta",id:a.toolCallId,delta:L.delta})}else if("response.code_interpreter_call_code.delta"===L.type){let a=n[L.output_index];null!=a&&d.enqueue({type:"tool-input-delta",id:a.toolCallId,delta:JSON.stringify(L.delta).slice(1,-1)})}else if("response.code_interpreter_call_code.done"===L.type){let a=n[L.output_index];null!=a&&(d.enqueue({type:"tool-input-delta",id:a.toolCallId,delta:'"}'}),d.enqueue({type:"tool-input-end",id:a.toolCallId}),d.enqueue({type:"tool-call",toolCallId:a.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:L.code,containerId:a.codeInterpreter.containerId}),providerExecuted:!0}))}else if("response.created"===L.type)m=L.response.id,d.enqueue({type:"response-metadata",id:L.response.id,timestamp:new Date(1e3*L.response.created_at),modelId:L.response.model});else if("response.output_text.delta"===L.type)d.enqueue({type:"text-delta",id:L.item_id,delta:L.delta}),(null==(t=null==(s=a.providerOptions)?void 0:s.openai)?void 0:t.logprobs)&&L.logprobs&&l.push(L.logprobs);else if("response.reasoning_summary_part.added"===L.type){if(L.summary_index>0){let a=p[L.item_id];for(let b of(a.summaryParts[L.summary_index]="active",Object.keys(a.summaryParts)))"can-conclude"===a.summaryParts[b]&&(d.enqueue({type:"reasoning-end",id:`${L.item_id}:${b}`,providerMetadata:{openai:{itemId:L.item_id}}}),a.summaryParts[b]="concluded");d.enqueue({type:"reasoning-start",id:`${L.item_id}:${L.summary_index}`,providerMetadata:{openai:{itemId:L.item_id,reasoningEncryptedContent:null!=(v=null==(u=p[L.item_id])?void 0:u.encryptedContent)?v:null}}})}}else{"response.reasoning_summary_text.delta"===L.type?d.enqueue({type:"reasoning-delta",id:`${L.item_id}:${L.summary_index}`,delta:L.delta,providerMetadata:{openai:{itemId:L.item_id}}}):"response.reasoning_summary_part.done"===L.type?f?(d.enqueue({type:"reasoning-end",id:`${L.item_id}:${L.summary_index}`,providerMetadata:{openai:{itemId:L.item_id}}}),p[L.item_id].summaryParts[L.summary_index]="concluded"):p[L.item_id].summaryParts[L.summary_index]="can-conclude":"response.completed"===(K=L).type||"response.incomplete"===K.type?(j=pC({finishReason:null==(w=L.response.incomplete_details)?void 0:w.reason,hasFunctionCall:o}),k.inputTokens=L.response.usage.input_tokens,k.outputTokens=L.response.usage.output_tokens,k.totalTokens=L.response.usage.input_tokens+L.response.usage.output_tokens,k.reasoningTokens=null!=(y=null==(x=L.response.usage.output_tokens_details)?void 0:x.reasoning_tokens)?y:void 0,k.cachedInputTokens=null!=(A=null==(z=L.response.usage.input_tokens_details)?void 0:z.cached_tokens)?A:void 0,"string"==typeof L.response.service_tier&&(b=L.response.service_tier)):"response.output_text.annotation.added"===L.type?"url_citation"===L.annotation.type?d.enqueue({type:"source",sourceType:"url",id:null!=(D=null==(C=(B=i.config).generateId)?void 0:C.call(B))?D:gK(),url:L.annotation.url,title:L.annotation.title}):"file_citation"===L.annotation.type&&d.enqueue({type:"source",sourceType:"document",id:null!=(G=null==(F=(E=i.config).generateId)?void 0:F.call(E))?G:gK(),mediaType:"text/plain",title:null!=(I=null!=(H=L.annotation.quote)?H:L.annotation.filename)?I:"Document",filename:null!=(J=L.annotation.filename)?J:L.annotation.file_id,...L.annotation.file_id?{providerMetadata:{openai:{fileId:L.annotation.file_id}}}:{}}):"error"===L.type&&d.enqueue({type:"error",error:L})}},flush(a){let c={openai:{responseId:m}};l.length>0&&(c.openai.logprobs=l),void 0!==b&&(c.openai.serviceTier=b),a.enqueue({type:"finish",finishReason:j,usage:k,providerMetadata:c})}})),request:{body:c},response:{headers:g}}}};function pI(a){return"response.output_item.added"===a.type}function pJ(a){var b;switch(a.type){case"search":return{action:{type:"search",query:null!=(b=a.query)?b:void 0},...null!=a.sources&&{sources:a.sources}};case"open_page":return{action:{type:"openPage",url:a.url}};case"find":return{action:{type:"find",url:a.url,pattern:a.pattern}}}}var pK=gV(()=>hA(oq.object({instructions:oq.string().nullish(),speed:oq.number().min(.25).max(4).default(1).nullish()}))),pL=class{constructor(a,b){this.modelId=a,this.config=b,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({text:a,voice:b="alloy",outputFormat:c="mp3",speed:d,instructions:e,language:f,providerOptions:g}){let h=[],i=await g_({provider:"openai",providerOptions:g,schema:pK}),j={model:this.modelId,input:a,voice:b,response_format:"mp3",speed:d,instructions:e};if(c&&(["mp3","opus","aac","flac","wav","pcm"].includes(c)?j.response_format=c:h.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${c}. Using mp3 instead.`})),i){let a={};for(let b in a){let c=a[b];void 0!==c&&(j[b]=c)}}return f&&h.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${f}" was ignored.`}),{requestBody:j,warnings:h}}async doGenerate(a){var b,c,d;let e=null!=(d=null==(c=null==(b=this.config._internal)?void 0:b.currentDate)?void 0:c.call(b))?d:new Date,{requestBody:f,warnings:g}=await this.getArgs(a),{value:h,responseHeaders:i,rawValue:j}=await g1({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:gI(this.config.headers(),a.headers),body:f,failedResponseHandler:oX,successfulResponseHandler:async({response:a,url:b,requestBodyValues:c})=>{let d=gJ(a);if(!a.body)throw new eH({message:"Response body is empty",url:b,requestBodyValues:c,statusCode:a.status,responseHeaders:d,responseBody:void 0});try{let b=await a.arrayBuffer();return{responseHeaders:d,value:new Uint8Array(b)}}catch(e){throw new eH({message:"Failed to read response as array buffer",url:b,requestBodyValues:c,statusCode:a.status,responseHeaders:d,responseBody:void 0,cause:e})}},abortSignal:a.abortSignal,fetch:this.config.fetch});return{audio:h,warnings:g,request:{body:JSON.stringify(f)},response:{timestamp:e,modelId:this.modelId,headers:i,body:j}}}},pM=gV(()=>hA(oq.object({text:oq.string(),language:oq.string().nullish(),duration:oq.number().nullish(),words:oq.array(oq.object({word:oq.string(),start:oq.number(),end:oq.number()})).nullish(),segments:oq.array(oq.object({id:oq.number(),seek:oq.number(),start:oq.number(),end:oq.number(),text:oq.string(),tokens:oq.array(oq.number()),temperature:oq.number(),avg_logprob:oq.number(),compression_ratio:oq.number(),no_speech_prob:oq.number()})).nullish()}))),pN=gV(()=>hA(oq.object({include:oq.array(oq.string()).optional(),language:oq.string().optional(),prompt:oq.string().optional(),temperature:oq.number().min(0).max(1).default(0).optional(),timestampGranularities:oq.array(oq.enum(["word","segment"])).default(["segment"]).optional()}))),pO={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},pP=class{constructor(a,b){this.modelId=a,this.config=b,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({audio:a,mediaType:b,providerOptions:c}){let d,e=await g_({provider:"openai",providerOptions:c,schema:pN}),f=new FormData,g=a instanceof Uint8Array?new Blob([a]):new Blob([(d=hF(a.replace(/-/g,"+").replace(/_/g,"/")),Uint8Array.from(d,a=>a.codePointAt(0)))]);f.append("model",this.modelId);let h=function(a){var b;let[c,d=""]=a.toLowerCase().split("/");return null!=(b=({mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"})[d])?b:d}(b);if(f.append("file",new File([g],"audio",{type:b}),`audio.${h}`),e){for(let[a,b]of Object.entries({include:e.include,language:e.language,prompt:e.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:e.temperature,timestamp_granularities:e.timestampGranularities}))if(null!=b)if(Array.isArray(b))for(let c of b)f.append(`${a}[]`,String(c));else f.append(a,String(b))}return{formData:f,warnings:[]}}async doGenerate(a){var b,c,d,e,f,g,h,i;let j=null!=(d=null==(c=null==(b=this.config._internal)?void 0:b.currentDate)?void 0:c.call(b))?d:new Date,{formData:k,warnings:l}=await this.getArgs(a),{value:m,responseHeaders:n,rawValue:o}=await g2({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:gI(this.config.headers(),a.headers),formData:k,failedResponseHandler:oX,successfulResponseHandler:g9(pM),abortSignal:a.abortSignal,fetch:this.config.fetch}),p=null!=m.language&&m.language in pO?pO[m.language]:void 0;return{text:m.text,segments:null!=(h=null!=(g=null==(e=m.segments)?void 0:e.map(a=>({text:a.text,startSecond:a.start,endSecond:a.end})))?g:null==(f=m.words)?void 0:f.map(a=>({text:a.word,startSecond:a.start,endSecond:a.end})))?h:[],language:p,durationInSeconds:null!=(i=m.duration)?i:void 0,warnings:l,response:{timestamp:j,modelId:this.modelId,headers:n,body:o}}}};function pQ(a={}){var b,c;let d=null!=(b=hH(gP({settingValue:a.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))?b:"https://api.openai.com/v1",e=null!=(c=a.name)?c:"openai",f=()=>gN({Authorization:`Bearer ${gO({apiKey:a.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":a.organization,"OpenAI-Project":a.project,...a.headers},"ai-sdk/openai/2.0.65"),g=b=>new pc(b,{provider:`${e}.embedding`,url:({path:a})=>`${d}${a}`,headers:f,fetch:a.fetch}),h=b=>new pg(b,{provider:`${e}.image`,url:({path:a})=>`${d}${a}`,headers:f,fetch:a.fetch}),i=b=>new pP(b,{provider:`${e}.transcription`,url:({path:a})=>`${d}${a}`,headers:f,fetch:a.fetch}),j=b=>new pL(b,{provider:`${e}.speech`,url:({path:a})=>`${d}${a}`,headers:f,fetch:a.fetch}),k=a=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return l(a)},l=b=>new pH(b,{provider:`${e}.responses`,url:({path:a})=>`${d}${a}`,headers:f,fetch:a.fetch,fileIdPrefixes:["file-"]}),m=function(a){return k(a)};return m.languageModel=k,m.chat=b=>new o1(b,{provider:`${e}.chat`,url:({path:a})=>`${d}${a}`,headers:f,fetch:a.fetch}),m.completion=b=>new o9(b,{provider:`${e}.completion`,url:({path:a})=>`${d}${a}`,headers:f,fetch:a.fetch}),m.responses=l,m.embedding=g,m.textEmbedding=g,m.textEmbeddingModel=g,m.image=h,m.imageModel=h,m.transcription=i,m.transcriptionModel=i,m.speech=j,m.speechModel=j,m.tools=py,m}pQ();let pR=Number(process.env.MELTDOWN_AI_TEMPERATURE??"0.7"),pS=Number(process.env.MELTDOWN_AI_MAX_TOKENS??"1024"),pT=oV({apiKey:process.env.ANTHROPIC_API_KEY??process.env.VERCEL_AI_API_KEY,baseURL:process.env.ANTHROPIC_BASE_URL}),pU=pQ({apiKey:process.env.OPENAI_API_KEY??process.env.VERCEL_AI_API_KEY,baseURL:process.env.OPENAI_BASE_URL});class pV{model;constructor(a){if(!a)throw Error("Model name is required for VercelAIClient");this.model=a}async invoke(a,b){let{system_prompt:c,user_prompt:d}=a;if(!c||!d)throw Error("Both system_prompt and user_prompt are required for LLM invocation");let e=this.model.startsWith("claude")?pT(this.model):pU(this.model);return(await eo({model:e,system:c,prompt:d,temperature:b?.metadata?.temperature??pR,maxTokens:b?.metadata?.maxTokens??pS})).text}}let pW=process.env.MELTDOWN_AI_MODEL??"claude-3-5-sonnet",pX=`You are the Crisis Translator AI, a compassionate and clinically-informed assistant trained in Dialectical Behavior Therapy (DBT), Cognitive Behavioral Therapy (CBT), and trauma-informed care. Your role is to help individuals in emotional distress communicate their needs clearly and empathetically to their support network.

CLINICAL FOUNDATION:
- Apply DBT skills: distress tolerance, emotion regulation, interpersonal effectiveness, mindfulness
- Use CBT principles: identify cognitive distortions, reframe negative thoughts, focus on actionable solutions
- Ground responses in trauma-informed care: safety, trust, choice, collaboration, empowerment
- Reference evidence-based techniques: 5-4-3-2-1 grounding, box breathing, progressive muscle relaxation, TIPP (Temperature, Intense exercise, Paced breathing, Paired muscle relaxation)

1. UNDERSTAND THE CRISIS CONTEXT:
   - Analyze the user's current stress level (1-10 scale provided, where 1-3=mild, 4-6=moderate, 7-8=high, 9-10=crisis)
   - Consider their personalized AI profile (triggers, safe spaces, calming items, sensory preferences, communication style)
   - Recognize that dysregulated communication during crisis is a symptom of overwhelm, not a character flaw
   - Identify the underlying need: safety, connection, validation, autonomy, or regulation

2. TRANSLATE WITH CLINICAL EMPATHY:
   - Transform raw, emotional, or fragmented thoughts into coherent, actionable messages using DBT's DEAR MAN framework (Describe, Express, Assert, Reinforce, Mindful, Appear confident, Negotiate)
   - Preserve the user's authentic voice and intent while improving clarity and reducing escalation
   - Remove accusatory or escalating language without losing emotional validity
   - Convert "you" statements to "I" statements to reduce defensiveness
   - Suggest concrete, specific requests using behavioral language (what they need, not what's wrong)

3. PERSONALIZE WITH CLINICAL TECHNIQUES:
   - For stress levels 1-3: Use gentle validation and light grounding (5-4-3-2-1 technique)
   - For stress levels 4-6: Apply DBT distress tolerance skills (TIPP, ACCEPTS, IMPROVE)
   - For stress levels 7-8: Focus on immediate safety and regulation (box breathing, temperature change)
   - For stress levels 9-10: Prioritize crisis intervention and professional support resources
   - Use the user's calming items and safe space preferences to ground the message
   - Avoid sensory triggers mentioned in their profile
   - Tailor grounding techniques to their sensory profile (visual, auditory, tactile, proprioceptive)

4. PROVIDE EVIDENCE-BASED GROUNDING TECHNIQUES:
   - For acute distress (7-10): Recommend TIPP skills or box breathing (4-4-4-4 pattern)
   - For moderate distress (4-6): Suggest 5-4-3-2-1 grounding or progressive muscle relaxation
   - For mild distress (1-3): Offer mindfulness or gentle movement
   - Always provide specific, step-by-step instructions
   - Reference the user's preferred calming items when possible

5. MAINTAIN SAFETY AND BOUNDARIES:
   - Never minimize the user's emotional experience
   - Ensure the translated message respects both the user's and recipient's boundaries
   - For stress levels 8-10, always include crisis resources (988 Suicide & Crisis Lifeline, Crisis Text Line)
   - Preserve the user's autonomyoffer suggestions, not directives
   - Validate the emotion while offering regulation strategies

6. ENHANCE COMMUNICATION EFFECTIVENESS:
   - Suggest the best medium for communication based on stress level (text for 1-5, call for 6-8, in-person for 9-10)
   - Include specific conversation starters that invite support
   - Provide follow-up actions that are concrete and achievable
   - Offer alternative phrasings if the first doesn't feel right

TONE: Calm, validating, clinically-informed, practical, and deeply empathetic. Speak as a trusted ally who understands crisis dynamics, neurodivergence, and evidence-based interventions.`;var pY=a.i(22206);let pZ=bS.number().min(1).max(10),p$=bS.object({stressLevel:pZ,rawMessage:bS.string().min(1,"Raw message is required"),aiProfile:bS.object({}).catchall(bS.unknown())});async function p_(a){let b=p$.parse(a),c=function(a=pW){return{llm:new pV(a),logger:{info(a,b){},warn(a,b){console.warn(`[agent] ${a}`,b??{})},error(a,b){console.error(`[agent] ${a}`,b??{})}}}}();return(function(a){let{systemPrompt:b,context:c,hooks:d}=a;return function(a){let{name:b,executor:c,hooks:d}=a;return async function(a,e){let f=e??{};try{d?.beforeExecute&&await d.beforeExecute(a,f);let e=await c(a,f);return d?.afterExecute&&await d.afterExecute(e,f),f.logger?.info?.(`${b} agent executed successfully`),e}catch(c){throw f.logger?.error?.(`${b} agent failed`,{error:c}),d?.onError&&await d.onError(c,f,a),c}}}({name:"CrisisTranslator",hooks:d,executor:async(a,d)=>{let e,f={...c,...d,llm:d?.llm??c.llm,memory:d?.memory??c.memory,logger:d?.logger??c.logger},g=function(a){let{stressLevel:b,rawMessage:c,aiProfile:d}=a,e=JSON.stringify(d,null,2);return`USER INPUT:
- Stress Level: ${b}
- Raw Message: ${c}
- AI Profile Context: ${e}

IMPORTANT: Return ONLY a valid JSON object (no markdown, no code blocks, no extra text) matching this schema:
{
  "translatedMessage": "string (required)",
  "communicationMedium": "string (optional)",
  "groundingTechnique": "string (optional)",
  "followUpSuggestion": "string (optional)",
  "safetyNote": "string (optional)"
}`}(a),h=await f.llm.invoke({system_prompt:b,user_prompt:g}),i="string"==typeof h?h:JSON.stringify(h),j=i.match(/```(?:json)?\s*([\s\S]*?)\s*```/)||i.match(/\{[\s\S]*\}/);j&&(i=j[1]||j[0]);try{e=JSON.parse(i.trim())}catch(a){throw Error(`Failed to parse JSON from LLM response: ${a instanceof Error?a.message:"Unknown error"}`)}let k=bT.safeParse(e);if(!k.success)throw Error(`CrisisTranslator output validation failed: ${k.error.message}`);return a.stressLevel>=8&&!k.data.safetyNote&&(k.data.safetyNote="If you are in immediate danger, contact emergency services or a crisis hotline."),k.data}})})({systemPrompt:pX,context:c})(b,c)}(0,pY.ensureServerEntryExports)([p_]),(0,M.registerServerReference)(p_,"405c71b21c57040a5d956440b4eaa85f1b19b7bfe6",null);var bS=bS;let p0=process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:4000",p1=bS.object({to:bS.string().regex(/^\+[1-9]\d{1,14}$/,"Invalid phone number format"),message:bS.string().min(1),userName:bS.string().optional(),stressLevel:bS.number().int().min(1).max(5).optional(),actionNeeded:bS.string().optional(),translatedMessage:bS.string().optional(),groundingTechnique:bS.string().optional(),mediaUrl:bS.string().url().optional()});async function p2(a){try{let b=p1.parse(a),c=await fetch(`${p0}/api/crisis-alert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok){let a=await c.json().catch(()=>({message:"Unknown error"}));return{success:!1,error:a.message||`HTTP ${c.status}`}}let d=await c.json();return{success:!0,messageSid:d.messageSid}}catch(a){if(a instanceof bS.ZodError)return{success:!1,error:a.errors.map(a=>`${a.path.join(".")}: ${a.message}`).join(", ")};return{success:!1,error:a instanceof Error?a.message:"Failed to send alert"}}}(0,pY.ensureServerEntryExports)([p2]),(0,M.registerServerReference)(p2,"4076abaad3a3aa2f1401a13f4b97972f263cb9ee18",null),a.s([],26027),a.i(26027),a.s(["405c71b21c57040a5d956440b4eaa85f1b19b7bfe6",()=>p_,"4076abaad3a3aa2f1401a13f4b97972f263cb9ee18",()=>p2],84815)}];

//# sourceMappingURL=_d5fb97d8._.js.map