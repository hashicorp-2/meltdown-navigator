module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},31699,(a,b,c)=>{"use strict";b.exports=a.r(18622)},57850,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactJsxRuntime},45056,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].React},13866,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(39853);let e=(0,c.memo)(({value:a,label:c="Stress",ariaLabel:d})=>{let e=Math.min(Math.max(a,0),5),f=e/5,g=`${100*f} ${100-100*f}`;return(0,b.jsxs)("figure",{className:"relative flex size-44 items-center justify-center rounded-full bg-gradient-to-br from-indigo-100 via-white to-slate-50 shadow-xl","aria-label":d??c,children:[(0,b.jsxs)("svg",{className:"absolute inset-4",viewBox:"0 0 36 36",role:"presentation","aria-hidden":"true",children:[(0,b.jsx)("path",{className:"fill-none stroke-slate-200/60",strokeWidth:"3.6",strokeLinecap:"round",d:"M18 2.4a15.6 15.6 0 1 1 0 31.2 15.6 15.6 0 1 1 0-31.2"}),(0,b.jsx)("path",{className:"fill-none stroke-indigo-500",strokeWidth:"3.6",strokeLinecap:"round",strokeDasharray:g,d:"M18 2.4a15.6 15.6 0 1 1 0 31.2 15.6 15.6 0 1 1 0-31.2"})]}),(0,b.jsxs)("div",{className:"relative z-10 flex size-28 flex-col items-center justify-center rounded-full bg-white text-slate-800 shadow-inner",children:[(0,b.jsx)("span",{className:"text-xs uppercase tracking-[0.2em] text-indigo-400",children:c}),(0,b.jsx)("span",{className:"text-3xl font-semibold text-indigo-600",children:e}),(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"/5"})]}),(0,b.jsxs)("figcaption",{className:"absolute -bottom-8 flex items-center gap-2 text-sm text-indigo-600",children:[(0,b.jsx)("span",{className:"inline-flex size-2 rounded-full bg-indigo-400"}),(0,b.jsx)("span",{children:"High awareness mode"})]})]})});e.displayName="StressDial";var f=a.i(240);let g=["ðŸ’œ","ðŸŒ¿","ðŸ¤","ðŸª„","ðŸŽ¯"];function h({step:a,icon:c,position:d}){let e=c??g[(d??a.step_number-1)%g.length];return(0,b.jsxs)("li",{className:"group rounded-3xl border border-transparent bg-white/70 p-5 shadow-lg shadow-indigo-100 transition hover:border-indigo-200 hover:shadow-indigo-200/80",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"flex size-12 items-center justify-center rounded-full bg-indigo-50 text-2xl",children:e}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:["Step ",a.step_number]}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:a.title})]})]})}),(0,b.jsx)("p",{className:"mt-3 text-slate-600",children:a.rephrased_message}),(0,b.jsxs)("p",{className:"mt-4 text-sm font-medium text-indigo-500",children:["Pro tip: ",a.pro_tip]})]})}let i={text:"ðŸ’¬",sms:"ðŸ’¬","text message":"ðŸ’¬",call:"ðŸ“ž",phone:"ðŸ“ž",email:"ðŸ“§",default:"ðŸ’œ"};function j({plan:a,onCopyAll:d}){let[e,f]=(0,c.useState)(!1),g=i[a.communication_medium.toLowerCase().trim()]??i.default,j=async()=>{if(d)return void d();let b=[`Communication Medium: ${a.communication_medium}`,`Grounding Technique: ${a.grounding_technique}`,"","Steps:",...a.steps.map(a=>`
${a.step_number}. ${a.title}
${a.rephrased_message}
ðŸ’¡ ${a.pro_tip}`)].join("\n");try{await navigator.clipboard.writeText(b),f(!0),setTimeout(()=>f(!1),2e3)}catch(a){console.error("Failed to copy:",a)}};return(0,b.jsxs)("article",{className:"rounded-4xl bg-white/80 p-6 shadow-2xl shadow-indigo-100 backdrop-blur-xl",children:[(0,b.jsxs)("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Recommended medium"}),(0,b.jsxs)("h2",{className:"mt-1 flex items-center gap-3 text-2xl font-semibold text-slate-900",children:[(0,b.jsx)("span",{className:"flex size-10 items-center justify-center rounded-full bg-indigo-50 text-2xl",children:g}),(0,b.jsx)("span",{className:"capitalize",children:a.communication_medium})]}),(0,b.jsx)("p",{className:"mt-3 text-base text-slate-600",children:a.grounding_technique})]}),(0,b.jsx)("button",{type:"button",onClick:j,className:"self-start rounded-full border border-indigo-200 px-4 py-2 text-sm font-medium text-indigo-600 transition hover:border-indigo-300 hover:bg-indigo-50",children:e?"âœ“ Copied!":"Copy plan"})]}),(0,b.jsx)("ul",{className:"mt-6 space-y-4",children:a.steps.map((a,c)=>(0,b.jsx)(h,{step:a,position:c},a.step_number))})]})}let k=[{id:"overwhelm",label:"Overwhelmed",emoji:"ðŸŒŠ"},{id:"sensory",label:"Sensory overload",emoji:"ðŸ”Š"},{id:"transition",label:"Transitioning tasks",emoji:"ðŸ”„"},{id:"fatigue",label:"Low energy",emoji:"ðŸ˜´"},{id:"conflict",label:"Conflict brewing",emoji:"âš¡ï¸"},{id:"isolation",label:"Feeling alone",emoji:"ðŸ«§"},{id:"shutdown",label:"Shutdown",emoji:"ðŸŒ€"},{id:"panic",label:"Panic spike",emoji:"ðŸ’¥"}];function l({items:a=k,onSelect:c}){return(0,b.jsx)("ul",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:a.map(a=>(0,b.jsx)("li",{children:(0,b.jsxs)("button",{type:"button",onClick:c?()=>c(a):void 0,className:"group flex w-full flex-col items-center gap-2 rounded-3xl border border-transparent bg-white/70 px-4 py-5 text-center shadow-md shadow-indigo-100 transition hover:border-indigo-200 hover:bg-white",children:[(0,b.jsx)("span",{className:"text-3xl transition group-hover:scale-110",children:a.emoji}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-600",children:a.label})]})},a.id))})}var m=a.i(15528),n=a.i(50813),o=a.i(34075);let p={communication_medium:"Send as Text Message",grounding_technique:"Try box breathing for 2 minutes before you reach out.",steps:[{step_number:1,title:"Open softly",icon_suggestion:"text-bubble",rephrased_message:"Hey love, Iâ€™m feeling really overstimulated and could use a quick grounding check-in.",pro_tip:"Pause and take three slow breaths before you send this."},{step_number:2,title:"Name the need",icon_suggestion:"clipboard",rephrased_message:"Could you remind me that weâ€™re safe and maybe help me step outside for some air?",pro_tip:"Use short sentences so it feels easier to read."},{step_number:3,title:"Invite support",icon_suggestion:"handshake",rephrased_message:"If youâ€™re free, Iâ€™d love a calm hug or a glass of water to help me reset.",pro_tip:"If they canâ€™t respond right away, set a self-soothing timer for 5 minutes."}],metadata:{model:"demo",latencyMs:0}},q={enter:{scale:.92,opacity:0,rotate:-6},center:{scale:1,opacity:1,rotate:0,transition:{type:"spring",damping:16,stiffness:140}},exit:{scale:.95,opacity:0,rotate:6,transition:{duration:.2}}},r={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{delay:.1,duration:.5,ease:[.22,1,.36,1]}}},s={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.45,ease:[.16,1,.3,1]}},exit:{opacity:0,y:-10,transition:{duration:.2}}};function t(){let[a,g]=(0,c.useState)(4),[h,i]=(0,c.useState)(""),[k,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!1),C=async()=>{if(z(null),!h.trim())return void z("Share a quick note about what's happening so we can translate it.");x(!0);let b=k.length>0?`

Context triggers: ${k.map(a=>a.label).join(", ")}.`:"",c=`${h.trim()}${b}`;try{let b=await (0,o.translateMessage)({rawMessage:c,stressLevel:a,profileId:void 0}),e=d.translatorResponseSchema.parse(b);v(e),B(!1)}catch(a){a instanceof o.TranslatorApiError?z(a.message):z("We hit a snag talking to the translator. Try again in a moment."),process.env.NEXT_PUBLIC_BACKEND_URL||(B(!0),v(p))}finally{x(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-[#F3EEFF] via-white to-white text-slate-900",children:(0,b.jsxs)("div",{className:"mx-auto max-w-6xl px-6 pb-24",children:[(0,b.jsx)("header",{className:"pt-16 text-center sm:text-left",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-indigo-400",children:"Crisis Translator"}),(0,b.jsx)(n.motion.h1,{className:"mt-3 text-4xl font-semibold text-slate-900 sm:text-5xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.16,1,.29,1]},children:"Grounded support, step by step."}),(0,b.jsx)(n.motion.p,{className:"mt-4 max-w-2xl text-lg text-slate-600",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.6,ease:[.16,1,.29,1]},children:"Input how you're feeling and we'll craft a calm, structured plan your caregiver can follow. Tap the triggers that resonate so the AI knows which patterns to support."})]}),(0,b.jsx)(n.motion.a,{href:"/onboarding",className:"rounded-full border border-indigo-200 bg-white/80 px-4 py-2 text-sm font-medium text-indigo-600 transition hover:border-indigo-300 hover:bg-white",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Profile"})]})}),(0,b.jsxs)("main",{className:"mt-12 grid gap-10 lg:grid-cols-[360px,1fr]",children:[(0,b.jsx)(n.motion.section,{className:"rounded-4xl bg-white/80 p-8 shadow-2xl shadow-indigo-100 backdrop-blur-xl",variants:r,initial:"hidden",animate:"visible",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,b.jsx)(m.AnimatePresence,{mode:"wait",children:(0,b.jsx)(n.motion.div,{variants:q,initial:"enter",animate:"center",exit:"exit",children:(0,b.jsx)(e,{value:a})},a)}),(0,b.jsxs)("label",{className:"flex w-full flex-col gap-3",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"How intense does it feel?"}),(0,b.jsx)(n.motion.input,{className:"w-full accent-indigo-500",type:"range",min:1,max:5,value:a,onChange:a=>g(Number(a.target.value)),whileFocus:{scale:1.01},transition:{type:"spring",stiffness:120,damping:12}}),(0,b.jsxs)("span",{className:"text-sm text-slate-500",children:["Stress level ",a," of 5"]})]}),(0,b.jsxs)("label",{className:"flex w-full flex-col gap-3",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Raw message"}),(0,b.jsx)(n.motion.textarea,{className:"min-h-[160px] rounded-3xl border border-slate-200 bg-slate-50 p-4 text-base text-slate-700 shadow-inner focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"Tell us whatâ€™s happeningâ€¦",value:h,onChange:a=>i(a.target.value),whileFocus:{scale:1.01},transition:{type:"spring",stiffness:120,damping:12}})]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Whatâ€™s triggering the spike?"}),(0,b.jsx)(n.motion.div,{className:"mt-4",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.15,duration:.5,ease:[.16,1,.29,1]},children:(0,b.jsx)(l,{onSelect:a=>{t(b=>b.some(b=>b.id===a.id)?b.filter(b=>b.id!==a.id):[...b,a])}})}),k.length>0?(0,b.jsxs)(n.motion.div,{className:"mt-3 flex flex-wrap items-center gap-2",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,b.jsx)("span",{className:"text-xs uppercase tracking-[0.2em] text-indigo-400",children:"Selected:"}),k.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700",children:[(0,b.jsx)("span",{children:a.emoji}),(0,b.jsx)("span",{children:a.label})]},a.id))]}):null]}),(0,b.jsx)(f.FocusButton,{type:"button",onClick:C,glow:!0,disabled:w,"aria-busy":w,className:"w-full justify-center disabled:cursor-not-allowed disabled:opacity-70",children:w?"Translatingâ€¦":"Translate to visual plan"}),(0,b.jsx)(m.AnimatePresence,{children:y?(0,b.jsx)(n.motion.p,{className:"text-center text-sm text-rose-500",initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.25},children:y},y):null})]})}),(0,b.jsxs)("section",{className:"flex flex-col gap-6",children:[(0,b.jsx)(m.AnimatePresence,{mode:"wait",children:u?(0,b.jsxs)(n.motion.div,{variants:s,initial:"hidden",animate:"visible",exit:"exit",children:[(0,b.jsx)(j,{plan:u}),A?(0,b.jsx)("p",{className:"mt-3 text-xs text-slate-400",children:"Showing demo plan because the live translator is offline. Set `NEXT_PUBLIC_BACKEND_URL` to connect to the backend."}):null]},u.metadata?.model??(A?"demo":"plan")):(0,b.jsx)(n.motion.div,{className:"grid place-items-center rounded-4xl border border-dashed border-indigo-200 bg-white/60 p-10 text-center text-slate-500",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.4},children:(0,b.jsx)("p",{children:"Once you translate, your visual communication plan will bloom here."})},"empty")}),(0,b.jsxs)(n.motion.div,{className:"rounded-4xl bg-indigo-50 p-6 text-sm text-indigo-700 shadow-inner shadow-indigo-200",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5,ease:[.16,1,.29,1]},children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-indigo-900",children:"Grounding techniques we love"}),(0,b.jsx)("p",{className:"mt-2 text-indigo-700",children:"Try a 4-7-8 breathing pattern, hold an ice cube, or trace the outline of your hand slowly while counting. Weâ€™ll bake these into your plan once the AI is online."})]})]})]})]})})}a.s(["default",()=>t],13866)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8386eca7._.js.map