{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ogowemr/meltdown-navigator/common/types/index.ts"],"sourcesContent":["import { z } from 'zod';\n\nexport type ContactMethod = 'sms' | 'email' | 'call';\nexport type CommunicationTone = 'soft' | 'direct' | 'informative';\n\nexport interface SupportContact {\n  name: string;\n  relationship: string;\n  contactMethod: ContactMethod;\n}\n\nexport interface CommunicationGuidelines {\n  tone: CommunicationTone;\n  doPhrases: string[];\n  avoidPhrases: string[];\n}\n\nexport interface CrisisSignals {\n  triggers: string[];\n  escalationIndicators: string[];\n  selfRegulationTechniques: string[];\n}\n\nexport interface AiProfileDTO {\n  userId: string;\n  preferredName: string;\n  supportCircle: SupportContact[];\n  communicationGuidelines: CommunicationGuidelines;\n  crisisSignals: CrisisSignals;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport const translatorStepSchema = z.object({\n  step_number: z.number().int().positive(),\n  title: z.string().min(1),\n  icon_suggestion: z.string().min(1),\n  rephrased_message: z.string().min(1),\n  pro_tip: z.string().min(1),\n});\n\nexport const translatorResponseSchema = z.object({\n  communication_medium: z.string().min(1),\n  grounding_technique: z.string().min(1),\n  steps: z.array(translatorStepSchema).min(1),\n  metadata: z\n    .object({\n      model: z.string().optional(),\n      latencyMs: z.number().positive().optional(),\n    })\n    .optional(),\n});\n\nexport const translatorRequestSchema = z.object({\n  rawMessage: z.string().min(1, 'rawMessage is required'),\n  stressLevel: z\n    .number()\n    .int()\n    .min(1)\n    .max(5),\n  profileId: z.string().min(1).optional(),\n});\n\nexport type TranslatorStep = z.infer<typeof translatorStepSchema>;\nexport type TranslatorResponseDTO = z.infer<typeof translatorResponseSchema>;\nexport type TranslatorRequestDTO = z.infer<typeof translatorRequestSchema>;\n\n// Profile schemas\nexport const supportContactSchema = z.object({\n  name: z.string().min(1, 'Name is required').trim(),\n  relationship: z.string().min(1, 'Relationship is required').trim(),\n  contactMethod: z.enum(['sms', 'email', 'call']),\n});\n\nexport const communicationGuidelinesSchema = z.object({\n  tone: z.enum(['soft', 'direct', 'informative']).default('soft'),\n  doPhrases: z.array(z.string()).default([]),\n  avoidPhrases: z.array(z.string()).default([]),\n});\n\nexport const crisisSignalsSchema = z.object({\n  triggers: z.array(z.string()).default([]),\n  escalationIndicators: z.array(z.string()).default([]),\n  selfRegulationTechniques: z.array(z.string()).default([]),\n});\n\nexport const createProfileRequestSchema = z.object({\n  userId: z.string().min(1, 'userId is required'),\n  preferredName: z.string().min(1, 'preferredName is required').trim(),\n  supportCircle: z.array(supportContactSchema).max(5, 'Support circle cannot exceed five contacts').default([]),\n  communicationGuidelines: communicationGuidelinesSchema.optional(),\n  crisisSignals: crisisSignalsSchema.optional(),\n});\n\nexport const updateProfileRequestSchema = createProfileRequestSchema.partial().extend({\n  userId: z.string().min(1, 'userId is required'),\n});\n\nexport const profileResponseSchema = z.object({\n  userId: z.string(),\n  preferredName: z.string(),\n  supportCircle: z.array(supportContactSchema),\n  communicationGuidelines: communicationGuidelinesSchema,\n  crisisSignals: crisisSignalsSchema,\n  createdAt: z.string(),\n  updatedAt: z.string(),\n  _id: z.string().optional(),\n});\n\nexport type CreateProfileRequestDTO = z.infer<typeof createProfileRequestSchema>;\nexport type UpdateProfileRequestDTO = z.infer<typeof updateProfileRequestSchema>;\nexport type ProfileResponseDTO = z.infer<typeof profileResponseSchema>;\n\n// Communication Mediator DTOs\nexport const sentimentAnalysisSchema = z.object({\n  detectedEmotion: z.string().min(1),\n  escalationLevel: z.number().int().min(1).max(10),\n  underlyingNeed: z.string().min(1),\n});\n\nexport const communicationMediatorRequestSchema = z.object({\n  rawMessage: z.string().min(1, 'Raw message is required'),\n  senderContext: z.string().min(1, 'Sender context is required'),\n  recipientContext: z.string().min(1, 'Recipient context is required'),\n  conversationHistory: z.array(z.string()).default([]),\n  communicationGoal: z.string().optional(),\n  profileId: z.string().min(1).optional(),\n});\n\nexport const communicationMediatorResponseSchema = z.object({\n  sentimentAnalysis: sentimentAnalysisSchema,\n  rephrasedMessage: z.string().min(1),\n  keyChanges: z.array(z.string()),\n  toneShift: z.string().min(1),\n  timingSuggestion: z.string().min(1),\n  alternativePhrasings: z.array(z.string()).min(1),\n  metadata: z\n    .object({\n      model: z.string().optional(),\n      latencyMs: z.number().positive().optional(),\n    })\n    .optional(),\n});\n\nexport type CommunicationMediatorRequestDTO = z.infer<\n  typeof communicationMediatorRequestSchema\n>;\nexport type CommunicationMediatorResponseDTO = z.infer<\n  typeof communicationMediatorResponseSchema\n>;\nexport type SentimentAnalysisDTO = z.infer<typeof sentimentAnalysisSchema>;\n\n// Twilio/Crisis Alert DTOs\nexport const sendCrisisAlertRequestSchema = z.object({\n  to: z.string().regex(/^\\+[1-9]\\d{1,14}$/, 'Invalid phone number format. Use E.164 format (e.g., +1234567890)'),\n  message: z.string().min(1, 'Message is required'),\n  userName: z.string().optional(),\n  stressLevel: z.number().int().min(1).max(5).optional(),\n  actionNeeded: z.string().optional(),\n});\n\nexport type SendCrisisAlertRequestDTO = z.infer<\n  typeof sendCrisisAlertRequestSchema\n>;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///Users/ogowemr/meltdown-navigator/frontend/src/components/ui/StressDial.tsx"],"sourcesContent":["import { memo } from 'react';\n\nexport interface StressDialProps {\n  /** Current stress level (1-5). */\n  value: number;\n  /** Label describing what the dial measures (e.g., \"Stress\"). */\n  label?: string;\n  /** Optional aria-label for accessibility when label is not visible. */\n  ariaLabel?: string;\n}\n\nconst SEGMENTS = 5;\n\n/**\n * Renders a circular dial that visualizes stress level using concentric arcs,\n * inspired by Tiimo's focus timers. Designed for neurodivergent clarity.\n */\nexport const StressDial = memo(({ value, label = 'Stress', ariaLabel }: StressDialProps) => {\n  const clampedValue = Math.min(Math.max(value, 0), SEGMENTS);\n  const percentage = clampedValue / SEGMENTS;\n  const strokeDasharray = `${percentage * 100} ${100 - percentage * 100}`;\n\n  return (\n    <figure\n      className=\"relative flex size-44 items-center justify-center rounded-full bg-gradient-to-br from-indigo-100 via-white to-slate-50 shadow-xl\"\n      aria-label={ariaLabel ?? label}\n    >\n      <svg\n        className=\"absolute inset-4\"\n        viewBox=\"0 0 36 36\"\n        role=\"presentation\"\n        aria-hidden=\"true\"\n      >\n        <path\n          className=\"fill-none stroke-slate-200/60\"\n          strokeWidth=\"3.6\"\n          strokeLinecap=\"round\"\n          d=\"M18 2.4a15.6 15.6 0 1 1 0 31.2 15.6 15.6 0 1 1 0-31.2\"\n        />\n        <path\n          className=\"fill-none stroke-indigo-500\"\n          strokeWidth=\"3.6\"\n          strokeLinecap=\"round\"\n          strokeDasharray={strokeDasharray}\n          d=\"M18 2.4a15.6 15.6 0 1 1 0 31.2 15.6 15.6 0 1 1 0-31.2\"\n        />\n      </svg>\n      <div className=\"relative z-10 flex size-28 flex-col items-center justify-center rounded-full bg-white text-slate-800 shadow-inner\">\n        <span className=\"text-xs uppercase tracking-[0.2em] text-indigo-400\">{label}</span>\n        <span className=\"text-3xl font-semibold text-indigo-600\">{clampedValue}</span>\n        <span className=\"text-sm text-slate-400\">/5</span>\n      </div>\n      <figcaption className=\"absolute -bottom-8 flex items-center gap-2 text-sm text-indigo-600\">\n        <span className=\"inline-flex size-2 rounded-full bg-indigo-400\" />\n        <span>High awareness mode</span>\n      </figcaption>\n    </figure>\n  );\n});\n\nStressDial.displayName = 'StressDial';\n\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAAA;;;AAWA,MAAM,WAAW;AAMV,MAAM,2BAAa,IAAA,iLAAI,OAAC,CAAC,EAAE,KAAK,EAAE,QAAQ,QAAQ,EAAE,SAAS,EAAmB;IACrF,MAAM,eAAe,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,OAAO,IAAI;IAClD,MAAM,aAAa,eAAe;IAClC,MAAM,kBAAkB,GAAG,aAAa,IAAI,CAAC,EAAE,MAAM,aAAa,KAAK;IAEvE,qBACE,yMAAC;QACC,WAAU;QACV,cAAY,aAAa;;0BAEzB,yMAAC;gBACC,WAAU;gBACV,SAAQ;gBACR,MAAK;gBACL,eAAY;;kCAEZ,yMAAC;wBACC,WAAU;wBACV,aAAY;wBACZ,eAAc;wBACd,GAAE;;;;;;kCAEJ,yMAAC;wBACC,WAAU;wBACV,aAAY;wBACZ,eAAc;wBACd,iBAAiB;wBACjB,GAAE;;;;;;;;;;;;0BAGN,yMAAC;gBAAI,WAAU;;kCACb,yMAAC;wBAAK,WAAU;kCAAsD;;;;;;kCACtE,yMAAC;wBAAK,WAAU;kCAA0C;;;;;;kCAC1D,yMAAC;wBAAK,WAAU;kCAAyB;;;;;;;;;;;;0BAE3C,yMAAC;gBAAW,WAAU;;kCACpB,yMAAC;wBAAK,WAAU;;;;;;kCAChB,yMAAC;kCAAK;;;;;;;;;;;;;;;;;;AAId;;AAEA,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///Users/ogowemr/meltdown-navigator/frontend/src/components/ui/FocusButton.tsx"],"sourcesContent":["import { ButtonHTMLAttributes, forwardRef } from 'react';\nimport clsx from 'clsx';\n\ntype FocusButtonVariant = 'primary' | 'secondary';\n\ntype FocusButtonProps = ButtonHTMLAttributes<HTMLButtonElement> & {\n  /** Visual style variant. */\n  variant?: FocusButtonVariant;\n  /** Emphasize button with glow (for key actions). */\n  glow?: boolean;\n};\n\nconst variantClasses: Record<FocusButtonVariant, string> = {\n  primary:\n    'bg-gradient-to-r from-indigo-500 via-indigo-500 to-purple-500 text-white shadow-[0_15px_30px_-10px_rgba(79,70,229,0.6)]',\n  secondary:\n    'border border-indigo-200 text-indigo-600 bg-white/80 hover:border-indigo-300 backdrop-blur-sm',\n};\n\n/**\n * A rounded, Tiimo-inspired button with gentle gradients and optional glow.\n */\nexport const FocusButton = forwardRef<HTMLButtonElement, FocusButtonProps>(\n  ({ variant = 'primary', glow = false, className, children, ...rest }, ref) => (\n    <button\n      ref={ref}\n      className={clsx(\n        'relative inline-flex items-center justify-center rounded-full px-6 py-3 text-sm font-medium transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-300',\n        variantClasses[variant],\n        glow && 'after:absolute after:inset-0 after:rounded-full after:bg-indigo-400/20 after:blur-xl after:content-[\"\"]',\n        className,\n      )}\n      {...rest}\n    >\n      <span className=\"relative z-10 flex items-center gap-2\">{children}</span>\n    </button>\n  ),\n);\n\nFocusButton.displayName = 'FocusButton';\n\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAWA,MAAM,iBAAqD;IACzD,SACE;IACF,WACE;AACJ;AAKO,MAAM,4BAAc,IAAA,uLAAU,OACnC,CAAC,EAAE,UAAU,SAAS,EAAE,OAAO,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,MAAM,EAAE,oBACpE,yMAAC;QACC,KAAK;QACL,WAAW,IAAA,mJAAI,EACb,wNACA,cAAc,CAAC,QAAQ,EACvB,QAAQ,2GACR;QAED,GAAG,IAAI;kBAER,cAAA,yMAAC;YAAK,WAAU;sBAAyC;;;;;;;;;;;;AAK/D,YAAY,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"sources":["file:///Users/ogowemr/meltdown-navigator/frontend/src/components/ui/VisualStepCard.tsx"],"sourcesContent":["import { TranslatorStep } from '../../../../common/types';\n\nexport interface VisualStepCardProps {\n  /** Individual plan step returned from the translator. */\n  step: TranslatorStep;\n  /** Optional emoji/icon override to emphasize the step. */\n  icon?: string;\n  /** Index within the plan to show ordering. */\n  position?: number;\n}\n\nconst defaultIcons = ['üíú', 'üåø', 'ü§ù', 'ü™Ñ', 'üéØ'];\n\n/**\n * Card component that surfaces a single communication step with iconography\n * and neurodivergent-friendly hierarchy.\n */\nexport function VisualStepCard({ step, icon, position }: VisualStepCardProps) {\n  const symbol = icon ?? defaultIcons[(position ?? step.step_number - 1) % defaultIcons.length];\n\n  return (\n    <li className=\"group rounded-3xl border border-transparent bg-white/70 p-5 shadow-lg shadow-indigo-100 transition hover:border-indigo-200 hover:shadow-indigo-200/80\">\n      <div className=\"flex items-start justify-between gap-4\">\n        <div className=\"flex items-center gap-3\">\n          <span className=\"flex size-12 items-center justify-center rounded-full bg-indigo-50 text-2xl\">\n            {symbol}\n          </span>\n          <div>\n            <p className=\"text-xs uppercase tracking-[0.2em] text-slate-400\">\n              Step {step.step_number}\n            </p>\n            <h3 className=\"text-lg font-semibold text-slate-900\">{step.title}</h3>\n          </div>\n        </div>\n      </div>\n      <p className=\"mt-3 text-slate-600\">{step.rephrased_message}</p>\n      <p className=\"mt-4 text-sm font-medium text-indigo-500\">\n        Pro tip: {step.pro_tip}\n      </p>\n    </li>\n  );\n}\n\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;;AAWA,MAAM,eAAe;IAAC;IAAM;IAAM;IAAM;IAAM;CAAK;AAM5C,SAAS,eAAe,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAuB;IAC1E,MAAM,SAAS,QAAQ,YAAY,CAAC,CAAC,YAAY,KAAK,WAAW,GAAG,CAAC,IAAI,aAAa,MAAM,CAAC;IAE7F,qBACE,yMAAC;QAAG,WAAU;;0BACZ,yMAAC;gBAAI,WAAU;0BACb,cAAA,yMAAC;oBAAI,WAAU;;sCACb,yMAAC;4BAAK,WAAU;sCACb;;;;;;sCAEH,yMAAC;;8CACC,yMAAC;oCAAE,WAAU;;wCAAoD;wCACzD,KAAK,WAAW;;;;;;;8CAExB,yMAAC;oCAAG,WAAU;8CAAwC,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;;0BAItE,yMAAC;gBAAE,WAAU;0BAAuB,KAAK,iBAAiB;;;;;;0BAC1D,yMAAC;gBAAE,WAAU;;oBAA2C;oBAC5C,KAAK,OAAO;;;;;;;;;;;;;AAI9B;KAxBgB","debugId":null}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///Users/ogowemr/meltdown-navigator/frontend/src/components/ui/CommunicationSummaryCard.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { TranslatorResponseDTO } from '../../../../common/types';\nimport { VisualStepCard } from './VisualStepCard';\n\nexport interface CommunicationSummaryCardProps {\n  /** Validated translator response. */\n  plan: TranslatorResponseDTO;\n  /** Optional label for copy button. */\n  onCopyAll?: () => void;\n}\n\nconst mediumIcons: Record<string, string> = {\n  text: 'üí¨',\n  sms: 'üí¨',\n  'text message': 'üí¨',\n  call: 'üìû',\n  phone: 'üìû',\n  email: 'üìß',\n  default: 'üíú',\n};\n\nconst normalizeMedium = (value: string): string => value.toLowerCase().trim();\n\n/**\n * Wraps the translated plan in a single card with recommended medium and\n * step list, mirroring the Tiimo-inspired visual hierarchy.\n */\nexport function CommunicationSummaryCard({ plan, onCopyAll }: CommunicationSummaryCardProps) {\n  const [copied, setCopied] = useState(false);\n  const mediumKey = normalizeMedium(plan.communication_medium);\n  const mediumIcon = mediumIcons[mediumKey] ?? mediumIcons.default;\n\n  const handleCopy = async () => {\n    if (onCopyAll) {\n      onCopyAll();\n      return;\n    }\n\n    // Default copy behavior: copy all steps as formatted text\n    const textToCopy = [\n      `Communication Medium: ${plan.communication_medium}`,\n      `Grounding Technique: ${plan.grounding_technique}`,\n      '',\n      'Steps:',\n      ...plan.steps.map(\n        (step) =>\n          `\\n${step.step_number}. ${step.title}\\n${step.rephrased_message}\\nüí° ${step.pro_tip}`,\n      ),\n    ].join('\\n');\n\n    try {\n      await navigator.clipboard.writeText(textToCopy);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error('Failed to copy:', err);\n    }\n  };\n\n  return (\n    <article className=\"rounded-4xl bg-white/80 p-6 shadow-2xl shadow-indigo-100 backdrop-blur-xl\">\n      <header className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n        <div>\n          <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400\">\n            Recommended medium\n          </p>\n          <h2 className=\"mt-1 flex items-center gap-3 text-2xl font-semibold text-slate-900\">\n            <span className=\"flex size-10 items-center justify-center rounded-full bg-indigo-50 text-2xl\">\n              {mediumIcon}\n            </span>\n            <span className=\"capitalize\">{plan.communication_medium}</span>\n          </h2>\n          <p className=\"mt-3 text-base text-slate-600\">{plan.grounding_technique}</p>\n        </div>\n        <button\n          type=\"button\"\n          onClick={handleCopy}\n          className=\"self-start rounded-full border border-indigo-200 px-4 py-2 text-sm font-medium text-indigo-600 transition hover:border-indigo-300 hover:bg-indigo-50\"\n        >\n          {copied ? '‚úì Copied!' : 'Copy plan'}\n        </button>\n      </header>\n\n      <ul className=\"mt-6 space-y-4\">\n        {plan.steps.map((step, index) => (\n          <VisualStepCard key={step.step_number} step={step} position={index} />\n        ))}\n      </ul>\n    </article>\n  );\n}\n\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;;AASA,MAAM,cAAsC;IAC1C,MAAM;IACN,KAAK;IACL,gBAAgB;IAChB,MAAM;IACN,OAAO;IACP,OAAO;IACP,SAAS;AACX;AAEA,MAAM,kBAAkB,CAAC,QAA0B,MAAM,WAAW,GAAG,IAAI;AAMpE,SAAS,yBAAyB,EAAE,IAAI,EAAE,SAAS,EAAiC;;IACzF,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,qLAAQ,EAAC;IACrC,MAAM,YAAY,gBAAgB,KAAK,oBAAoB;IAC3D,MAAM,aAAa,WAAW,CAAC,UAAU,IAAI,YAAY,OAAO;IAEhE,MAAM,aAAa;QACjB,IAAI,WAAW;YACb;YACA;QACF;QAEA,0DAA0D;QAC1D,MAAM,aAAa;YACjB,CAAC,sBAAsB,EAAE,KAAK,oBAAoB,EAAE;YACpD,CAAC,qBAAqB,EAAE,KAAK,mBAAmB,EAAE;YAClD;YACA;eACG,KAAK,KAAK,CAAC,GAAG,CACf,CAAC,OACC,CAAC,EAAE,EAAE,KAAK,WAAW,CAAC,EAAE,EAAE,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,iBAAiB,CAAC,KAAK,EAAE,KAAK,OAAO,EAAE;SAE1F,CAAC,IAAI,CAAC;QAEP,IAAI;YACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;YACpC,UAAU;YACV,WAAW,IAAM,UAAU,QAAQ;QACrC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,mBAAmB;QACnC;IACF;IAEA,qBACE,yMAAC;QAAQ,WAAU;;0BACjB,yMAAC;gBAAO,WAAU;;kCAChB,yMAAC;;0CACC,yMAAC;gCAAE,WAAU;0CAAoD;;;;;;0CAGjE,yMAAC;gCAAG,WAAU;;kDACZ,yMAAC;wCAAK,WAAU;kDACb;;;;;;kDAEH,yMAAC;wCAAK,WAAU;kDAAc,KAAK,oBAAoB;;;;;;;;;;;;0CAEzD,yMAAC;gCAAE,WAAU;0CAAiC,KAAK,mBAAmB;;;;;;;;;;;;kCAExE,yMAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCAET,SAAS,cAAc;;;;;;;;;;;;0BAI5B,yMAAC;gBAAG,WAAU;0BACX,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,sBACrB,yMAAC,2KAAc;wBAAwB,MAAM;wBAAM,UAAU;uBAAxC,KAAK,WAAW;;;;;;;;;;;;;;;;AAK/C;GA/DgB;KAAA","debugId":null}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"sources":["file:///Users/ogowemr/meltdown-navigator/frontend/src/components/ui/TriggerBadgeGrid.tsx"],"sourcesContent":["export interface TriggerBadge {\n  id: string;\n  label: string;\n  emoji: string;\n}\n\nexport interface TriggerBadgeGridProps {\n  /** List of triggers to present as visual chips. */\n  items?: TriggerBadge[];\n  /** Optional click handler when a trigger is selected. */\n  onSelect?: (trigger: TriggerBadge) => void;\n}\n\nconst defaultTriggers: TriggerBadge[] = [\n  { id: 'overwhelm', label: 'Overwhelmed', emoji: 'üåä' },\n  { id: 'sensory', label: 'Sensory overload', emoji: 'üîä' },\n  { id: 'transition', label: 'Transitioning tasks', emoji: 'üîÑ' },\n  { id: 'fatigue', label: 'Low energy', emoji: 'üò¥' },\n  { id: 'conflict', label: 'Conflict brewing', emoji: '‚ö°Ô∏è' },\n  { id: 'isolation', label: 'Feeling alone', emoji: 'ü´ß' },\n  { id: 'shutdown', label: 'Shutdown', emoji: 'üåÄ' },\n  { id: 'panic', label: 'Panic spike', emoji: 'üí•' },\n];\n\n/**\n * Displays a tactile grid of emoji-based trigger badges to help neurodivergent\n * users quickly communicate what patterns are present.\n */\nexport function TriggerBadgeGrid({ items = defaultTriggers, onSelect }: TriggerBadgeGridProps) {\n  return (\n    <ul className=\"grid grid-cols-2 gap-4 sm:grid-cols-4\">\n      {items.map((trigger) => (\n        <li key={trigger.id}>\n          <button\n            type=\"button\"\n            onClick={onSelect ? () => onSelect(trigger) : undefined}\n            className=\"group flex w-full flex-col items-center gap-2 rounded-3xl border border-transparent bg-white/70 px-4 py-5 text-center shadow-md shadow-indigo-100 transition hover:border-indigo-200 hover:bg-white\"\n          >\n            <span className=\"text-3xl transition group-hover:scale-110\">{trigger.emoji}</span>\n            <span className=\"text-sm font-medium text-slate-600\">{trigger.label}</span>\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;;AAaA,MAAM,kBAAkC;IACtC;QAAE,IAAI;QAAa,OAAO;QAAe,OAAO;IAAK;IACrD;QAAE,IAAI;QAAW,OAAO;QAAoB,OAAO;IAAK;IACxD;QAAE,IAAI;QAAc,OAAO;QAAuB,OAAO;IAAK;IAC9D;QAAE,IAAI;QAAW,OAAO;QAAc,OAAO;IAAK;IAClD;QAAE,IAAI;QAAY,OAAO;QAAoB,OAAO;IAAK;IACzD;QAAE,IAAI;QAAa,OAAO;QAAiB,OAAO;IAAK;IACvD;QAAE,IAAI;QAAY,OAAO;QAAY,OAAO;IAAK;IACjD;QAAE,IAAI;QAAS,OAAO;QAAe,OAAO;IAAK;CAClD;AAMM,SAAS,iBAAiB,EAAE,QAAQ,eAAe,EAAE,QAAQ,EAAyB;IAC3F,qBACE,yMAAC;QAAG,WAAU;kBACX,MAAM,GAAG,CAAC,CAAC,wBACV,yMAAC;0BACC,cAAA,yMAAC;oBACC,MAAK;oBACL,SAAS,WAAW,IAAM,SAAS,WAAW;oBAC9C,WAAU;;sCAEV,yMAAC;4BAAK,WAAU;sCAA6C,QAAQ,KAAK;;;;;;sCAC1E,yMAAC;4BAAK,WAAU;sCAAsC,QAAQ,KAAK;;;;;;;;;;;;eAP9D,QAAQ,EAAE;;;;;;;;;;AAa3B;KAjBgB","debugId":null}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"sources":["file:///Users/ogowemr/meltdown-navigator/frontend/src/lib/api.ts"],"sourcesContent":["import {\n  TranslatorRequestDTO,\n  TranslatorResponseDTO,\n  translatorRequestSchema,\n  translatorResponseSchema,\n  CreateProfileRequestDTO,\n  UpdateProfileRequestDTO,\n  ProfileResponseDTO,\n  createProfileRequestSchema,\n  updateProfileRequestSchema,\n  profileResponseSchema,\n  CommunicationMediatorRequestDTO,\n  CommunicationMediatorResponseDTO,\n  communicationMediatorRequestSchema,\n  communicationMediatorResponseSchema,\n  SendCrisisAlertRequestDTO,\n  sendCrisisAlertRequestSchema,\n} from \"../../../common/types\";\n\nconst DEFAULT_BACKEND_URL = \"http://localhost:4000\";\n\nconst getBackendUrl = () => {\n  if (typeof process !== \"undefined\") {\n    return process.env.NEXT_PUBLIC_BACKEND_URL ?? DEFAULT_BACKEND_URL;\n  }\n  return DEFAULT_BACKEND_URL;\n};\n\nexport class TranslatorApiError extends Error {\n  constructor(message: string, public readonly status?: number) {\n    super(message);\n    this.name = \"TranslatorApiError\";\n  }\n}\n\nexport class ProfileApiError extends Error {\n  constructor(message: string, public readonly status?: number) {\n    super(message);\n    this.name = \"ProfileApiError\";\n  }\n}\n\nexport class MediatorApiError extends Error {\n  constructor(message: string, public readonly status?: number) {\n    super(message);\n    this.name = \"MediatorApiError\";\n  }\n}\n\nexport class CrisisAlertApiError extends Error {\n  constructor(message: string, public readonly status?: number) {\n    super(message);\n    this.name = \"CrisisAlertApiError\";\n  }\n}\n\n/**\n * Calls the backend translator endpoint and validates the structured response.\n */\nexport async function translateMessage(\n  payload: TranslatorRequestDTO,\n): Promise<TranslatorResponseDTO> {\n  const body = translatorRequestSchema.parse(payload);\n\n  const response = await fetch(`${getBackendUrl()}/api/translator`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!response.ok) {\n    let message = \"Unexpected translator error\";\n    try {\n      const errorBody = await response.json();\n      if (typeof errorBody?.message === \"string\") {\n        message = errorBody.message;\n      }\n    } catch (error) {\n      // Ignore JSON parse errors and keep generic message.\n    }\n    throw new TranslatorApiError(message, response.status);\n  }\n\n  const data = await response.json();\n  return translatorResponseSchema.parse(data);\n}\n\n/**\n * Creates a new profile.\n */\nexport async function createProfile(\n  payload: CreateProfileRequestDTO,\n): Promise<ProfileResponseDTO> {\n  const body = createProfileRequestSchema.parse(payload);\n\n  const response = await fetch(`${getBackendUrl()}/api/profiles`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!response.ok) {\n    let message = \"Unexpected profile error\";\n    try {\n      const errorBody = await response.json();\n      if (typeof errorBody?.message === \"string\") {\n        message = errorBody.message;\n      }\n    } catch (error) {\n      // Ignore JSON parse errors and keep generic message.\n    }\n    throw new ProfileApiError(message, response.status);\n  }\n\n  const data = await response.json();\n  return profileResponseSchema.parse(data);\n}\n\n/**\n * Retrieves a profile by user ID.\n */\nexport async function getProfileByUserId(userId: string): Promise<ProfileResponseDTO> {\n  const response = await fetch(`${getBackendUrl()}/api/profiles/${userId}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  if (!response.ok) {\n    let message = \"Unexpected profile error\";\n    try {\n      const errorBody = await response.json();\n      if (typeof errorBody?.message === \"string\") {\n        message = errorBody.message;\n      }\n    } catch (error) {\n      // Ignore JSON parse errors and keep generic message.\n    }\n    throw new ProfileApiError(message, response.status);\n  }\n\n  const data = await response.json();\n  return profileResponseSchema.parse(data);\n}\n\n/**\n * Retrieves a profile by profile ID.\n */\nexport async function getProfileById(profileId: string): Promise<ProfileResponseDTO> {\n  const response = await fetch(`${getBackendUrl()}/api/profiles/id/${profileId}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  if (!response.ok) {\n    let message = \"Unexpected profile error\";\n    try {\n      const errorBody = await response.json();\n      if (typeof errorBody?.message === \"string\") {\n        message = errorBody.message;\n      }\n    } catch (error) {\n      // Ignore JSON parse errors and keep generic message.\n    }\n    throw new ProfileApiError(message, response.status);\n  }\n\n  const data = await response.json();\n  return profileResponseSchema.parse(data);\n}\n\n/**\n * Updates a profile by user ID.\n */\nexport async function updateProfile(\n  userId: string,\n  payload: UpdateProfileRequestDTO,\n): Promise<ProfileResponseDTO> {\n  const body = updateProfileRequestSchema.parse({ ...payload, userId });\n\n  const response = await fetch(`${getBackendUrl()}/api/profiles/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!response.ok) {\n    let message = \"Unexpected profile error\";\n    try {\n      const errorBody = await response.json();\n      if (typeof errorBody?.message === \"string\") {\n        message = errorBody.message;\n      }\n    } catch (error) {\n      // Ignore JSON parse errors and keep generic message.\n    }\n    throw new ProfileApiError(message, response.status);\n  }\n\n  const data = await response.json();\n  return profileResponseSchema.parse(data);\n}\n\n/**\n * Deletes a profile by user ID.\n */\nexport async function deleteProfile(userId: string): Promise<void> {\n  const response = await fetch(`${getBackendUrl()}/api/profiles/${userId}`, {\n    method: \"DELETE\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  if (!response.ok) {\n    let message = \"Unexpected profile error\";\n    try {\n      const errorBody = await response.json();\n      if (typeof errorBody?.message === \"string\") {\n        message = errorBody.message;\n      }\n    } catch (error) {\n      // Ignore JSON parse errors and keep generic message.\n    }\n    throw new ProfileApiError(message, response.status);\n  }\n}\n\n/**\n * Checks if a profile exists for a user.\n */\nexport async function profileExists(userId: string): Promise<boolean> {\n  const response = await fetch(`${getBackendUrl()}/api/profiles/${userId}/exists`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  if (!response.ok) {\n    return false;\n  }\n\n  const data = await response.json();\n  return data.exists === true;\n}\n\n/**\n * Mediates a communication message using the Communication Mediator AI.\n */\nexport async function mediateMessage(\n  payload: CommunicationMediatorRequestDTO,\n): Promise<CommunicationMediatorResponseDTO> {\n  const body = communicationMediatorRequestSchema.parse(payload);\n\n  const response = await fetch(`${getBackendUrl()}/api/mediate`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!response.ok) {\n    let message = \"Unexpected mediator error\";\n    try {\n      const errorBody = await response.json();\n      if (typeof errorBody?.message === \"string\") {\n        message = errorBody.message;\n      }\n    } catch (error) {\n      // Ignore JSON parse errors and keep generic message.\n    }\n    throw new MediatorApiError(message, response.status);\n  }\n\n  const data = await response.json();\n  return communicationMediatorResponseSchema.parse(data);\n}\n\n/**\n * Sends a crisis alert via SMS using Twilio.\n */\nexport async function sendCrisisAlert(\n  payload: SendCrisisAlertRequestDTO,\n): Promise<{ success: boolean; messageSid: string; message: string }> {\n  const body = sendCrisisAlertRequestSchema.parse(payload);\n\n  const response = await fetch(`${getBackendUrl()}/api/crisis-alert`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!response.ok) {\n    let message = \"Unexpected crisis alert error\";\n    try {\n      const errorBody = await response.json();\n      if (typeof errorBody?.message === \"string\") {\n        message = errorBody.message;\n      }\n    } catch (error) {\n      // Ignore JSON parse errors and keep generic message.\n    }\n    throw new CrisisAlertApiError(message, response.status);\n  }\n\n  const data = await response.json();\n  return data;\n}\n\n\n\n\n\n\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 934, "column": 0}, "map": {"version":3,"sources":["file:///Users/ogowemr/meltdown-navigator/frontend/src/app/%28translator%29/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport type { TranslatorResponseDTO } from \"../../../../common/types\";\nimport { translatorResponseSchema } from \"../../../../common/types\";\nimport { StressDial } from \"../../components/ui/StressDial\";\nimport { FocusButton } from \"../../components/ui/FocusButton\";\nimport { CommunicationSummaryCard } from \"../../components/ui/CommunicationSummaryCard\";\nimport { TriggerBadge, TriggerBadgeGrid } from \"../../components/ui/TriggerBadgeGrid\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { translateMessage, TranslatorApiError } from \"../../lib/api\";\n\nconst demoPlan: TranslatorResponseDTO = {\n  communication_medium: \"Send as Text Message\",\n  grounding_technique: \"Try box breathing for 2 minutes before you reach out.\",\n  steps: [\n    {\n      step_number: 1,\n      title: \"Open softly\",\n      icon_suggestion: \"text-bubble\",\n      rephrased_message: \"Hey love, I‚Äôm feeling really overstimulated and could use a quick grounding check-in.\",\n      pro_tip: \"Pause and take three slow breaths before you send this.\",\n    },\n    {\n      step_number: 2,\n      title: \"Name the need\",\n      icon_suggestion: \"clipboard\",\n      rephrased_message: \"Could you remind me that we‚Äôre safe and maybe help me step outside for some air?\",\n      pro_tip: \"Use short sentences so it feels easier to read.\",\n    },\n    {\n      step_number: 3,\n      title: \"Invite support\",\n      icon_suggestion: \"handshake\",\n      rephrased_message: \"If you‚Äôre free, I‚Äôd love a calm hug or a glass of water to help me reset.\",\n      pro_tip: \"If they can‚Äôt respond right away, set a self-soothing timer for 5 minutes.\",\n    },\n  ],\n  metadata: {\n    model: \"demo\",\n    latencyMs: 0,\n  },\n};\n\nconst dialVariants = {\n  enter: { scale: 0.92, opacity: 0, rotate: -6 },\n  center: {\n    scale: 1,\n    opacity: 1,\n    rotate: 0,\n    transition: { type: \"spring\", damping: 16, stiffness: 140 },\n  },\n  exit: { scale: 0.95, opacity: 0, rotate: 6, transition: { duration: 0.2 } },\n};\n\nconst formVariants = {\n  hidden: { opacity: 0, y: 24 },\n  visible: { opacity: 1, y: 0, transition: { delay: 0.1, duration: 0.5, ease: [0.22, 1, 0.36, 1] } },\n};\n\nconst planVariants = {\n  hidden: { opacity: 0, y: 24 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.45, ease: [0.16, 1, 0.3, 1] } },\n  exit: { opacity: 0, y: -10, transition: { duration: 0.2 } },\n};\n\nexport default function TranslatorPage() {\n  const [stressLevel, setStressLevel] = useState(4);\n  const [rawMessage, setRawMessage] = useState(\"\");\n  const [selectedTriggers, setSelectedTriggers] = useState<TriggerBadge[]>([]);\n  const [plan, setPlan] = useState<TranslatorResponseDTO | null>(null);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n  const [showDemoPlan, setShowDemoPlan] = useState(false);\n\n  const handleTriggerSelect = (trigger: TriggerBadge) => {\n    setSelectedTriggers((prev) => {\n      const exists = prev.some((item) => item.id === trigger.id);\n      if (exists) {\n        return prev.filter((item) => item.id !== trigger.id);\n      }\n      return [...prev, trigger];\n    });\n  };\n\n  const handleTranslate = async () => {\n    setErrorMessage(null);\n\n    if (!rawMessage.trim()) {\n      setErrorMessage(\"Share a quick note about what's happening so we can translate it.\");\n      return;\n    }\n\n    setIsGenerating(true);\n\n    const triggerLine =\n      selectedTriggers.length > 0\n        ? `\\n\\nContext triggers: ${selectedTriggers.map((item) => item.label).join(\", \")}.`\n        : \"\";\n\n    const enrichedMessage = `${rawMessage.trim()}${triggerLine}`;\n\n    // Get profile ID from localStorage if available\n    const profileId = typeof window !== \"undefined\" ? localStorage.getItem(\"meltdown_profileId\") : null;\n\n    try {\n      const livePlan = await translateMessage({\n        rawMessage: enrichedMessage,\n        stressLevel,\n        profileId: profileId || undefined,\n      });\n      const validatedPlan = translatorResponseSchema.parse(livePlan);\n      setPlan(validatedPlan);\n      setShowDemoPlan(false);\n    } catch (error) {\n      if (error instanceof TranslatorApiError) {\n        setErrorMessage(error.message);\n      } else {\n        setErrorMessage(\"We hit a snag talking to the translator. Try again in a moment.\");\n      }\n\n      if (!process.env.NEXT_PUBLIC_BACKEND_URL) {\n        setShowDemoPlan(true);\n        setPlan(demoPlan);\n      }\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-[#F3EEFF] via-white to-white text-slate-900\">\n      <div className=\"mx-auto max-w-6xl px-6 pb-24\">\n        <header className=\"pt-16 text-center sm:text-left\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-xs uppercase tracking-[0.35em] text-indigo-400\">Crisis Translator</p>\n              <motion.h1\n                className=\"mt-3 text-4xl font-semibold text-slate-900 sm:text-5xl\"\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.6, ease: [0.16, 1, 0.29, 1] }}\n              >\n                Grounded support, step by step.\n              </motion.h1>\n              <motion.p\n                className=\"mt-4 max-w-2xl text-lg text-slate-600\"\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.1, duration: 0.6, ease: [0.16, 1, 0.29, 1] }}\n              >\n                Input how you're feeling and we'll craft a calm, structured plan your caregiver can follow. Tap the triggers that resonate so the AI knows which patterns to support.\n              </motion.p>\n            </div>\n            <motion.a\n              href=\"/onboarding\"\n              className=\"rounded-full border border-indigo-200 bg-white/80 px-4 py-2 text-sm font-medium text-indigo-600 transition hover:border-indigo-300 hover:bg-white\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.2 }}\n            >\n              Profile\n            </motion.a>\n          </div>\n        </header>\n\n        <main className=\"mt-12 grid gap-10 lg:grid-cols-[360px,1fr]\">\n          <motion.section\n            className=\"rounded-4xl bg-white/80 p-8 shadow-2xl shadow-indigo-100 backdrop-blur-xl\"\n            variants={formVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n          >\n            <div className=\"flex flex-col items-center gap-6\">\n              <AnimatePresence mode=\"wait\">\n                <motion.div\n                  key={stressLevel}\n                  variants={dialVariants}\n                  initial=\"enter\"\n                  animate=\"center\"\n                  exit=\"exit\"\n                >\n                  <StressDial value={stressLevel} />\n                </motion.div>\n              </AnimatePresence>\n\n              <label className=\"flex w-full flex-col gap-3\">\n                <span className=\"text-sm font-medium text-slate-600\">How intense does it feel?</span>\n                <motion.input\n                  className=\"w-full accent-indigo-500\"\n                  type=\"range\"\n                  min={1}\n                  max={5}\n                  value={stressLevel}\n                  onChange={(event) => setStressLevel(Number(event.target.value))}\n                  whileFocus={{ scale: 1.01 }}\n                  transition={{ type: \"spring\", stiffness: 120, damping: 12 }}\n                />\n                <span className=\"text-sm text-slate-500\">\n                  Stress level {stressLevel} of 5\n                </span>\n              </label>\n\n              <label className=\"flex w-full flex-col gap-3\">\n                <span className=\"text-sm font-medium text-slate-600\">Raw message</span>\n                <motion.textarea\n                  className=\"min-h-[160px] rounded-3xl border border-slate-200 bg-slate-50 p-4 text-base text-slate-700 shadow-inner focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-200\"\n                  placeholder=\"Tell us what‚Äôs happening‚Ä¶\"\n                  value={rawMessage}\n                  onChange={(event) => setRawMessage(event.target.value)}\n                  whileFocus={{ scale: 1.01 }}\n                  transition={{ type: \"spring\", stiffness: 120, damping: 12 }}\n                />\n              </label>\n\n              <div className=\"w-full\">\n                <span className=\"text-sm font-medium text-slate-600\">What‚Äôs triggering the spike?</span>\n                <motion.div\n                  className=\"mt-4\"\n                  initial={{ opacity: 0, y: 16 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: 0.15, duration: 0.5, ease: [0.16, 1, 0.29, 1] }}\n                >\n                  <TriggerBadgeGrid onSelect={handleTriggerSelect} />\n                </motion.div>\n                {selectedTriggers.length > 0 ? (\n                  <motion.div\n                    className=\"mt-3 flex flex-wrap items-center gap-2\"\n                    initial={{ opacity: 0, y: 8 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    <span className=\"text-xs uppercase tracking-[0.2em] text-indigo-400\">Selected:</span>\n                    {selectedTriggers.map((trigger) => (\n                      <span\n                        key={trigger.id}\n                        className=\"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700\"\n                      >\n                        <span>{trigger.emoji}</span>\n                        <span>{trigger.label}</span>\n                      </span>\n                    ))}\n                  </motion.div>\n                ) : null}\n              </div>\n\n              <FocusButton\n                type=\"button\"\n                onClick={handleTranslate}\n                glow\n                disabled={isGenerating}\n                aria-busy={isGenerating}\n                className=\"w-full justify-center disabled:cursor-not-allowed disabled:opacity-70\"\n              >\n                {isGenerating ? \"Translating‚Ä¶\" : \"Translate to visual plan\"}\n              </FocusButton>\n\n              <AnimatePresence>\n                {errorMessage ? (\n                  <motion.p\n                    key={errorMessage}\n                    className=\"text-center text-sm text-rose-500\"\n                    initial={{ opacity: 0, y: 6 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: -6 }}\n                    transition={{ duration: 0.25 }}\n                  >\n                    {errorMessage}\n                  </motion.p>\n                ) : null}\n              </AnimatePresence>\n            </div>\n          </motion.section>\n\n          <section className=\"flex flex-col gap-6\">\n            <AnimatePresence mode=\"wait\">\n              {plan ? (\n                <motion.div\n                  key={plan.metadata?.model ?? (showDemoPlan ? \"demo\" : \"plan\")}\n                  variants={planVariants}\n                  initial=\"hidden\"\n                  animate=\"visible\"\n                  exit=\"exit\"\n                >\n                  <CommunicationSummaryCard plan={plan} />\n                  {showDemoPlan ? (\n                    <p className=\"mt-3 text-xs text-slate-400\">\n                      Showing demo plan because the live translator is offline. Set `NEXT_PUBLIC_BACKEND_URL` to connect to the backend.\n                    </p>\n                  ) : null}\n                </motion.div>\n              ) : (\n                <motion.div\n                  key=\"empty\"\n                  className=\"grid place-items-center rounded-4xl border border-dashed border-indigo-200 bg-white/60 p-10 text-center text-slate-500\"\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -10 }}\n                  transition={{ duration: 0.4 }}\n                >\n                  <p>Once you translate, your visual communication plan will bloom here.</p>\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            <motion.div\n              className=\"rounded-4xl bg-indigo-50 p-6 text-sm text-indigo-700 shadow-inner shadow-indigo-200\"\n              initial={{ opacity: 0, y: 16 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.2, duration: 0.5, ease: [0.16, 1, 0.29, 1] }}\n            >\n              <h2 className=\"text-lg font-semibold text-indigo-900\">Grounding techniques we love</h2>\n              <p className=\"mt-2 text-indigo-700\">\n                Try a 4-7-8 breathing pattern, hold an ice cube, or trace the outline of your hand slowly while counting. We‚Äôll bake these into your plan once the AI is online.\n              </p>\n            </motion.div>\n          </section>\n        </main>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAyHW;;AAvHX;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;AAVA;;;;;;;;;AAYA,MAAM,WAAkC;IACtC,sBAAsB;IACtB,qBAAqB;IACrB,OAAO;QACL;YACE,aAAa;YACb,OAAO;YACP,iBAAiB;YACjB,mBAAmB;YACnB,SAAS;QACX;QACA;YACE,aAAa;YACb,OAAO;YACP,iBAAiB;YACjB,mBAAmB;YACnB,SAAS;QACX;QACA;YACE,aAAa;YACb,OAAO;YACP,iBAAiB;YACjB,mBAAmB;YACnB,SAAS;QACX;KACD;IACD,UAAU;QACR,OAAO;QACP,WAAW;IACb;AACF;AAEA,MAAM,eAAe;IACnB,OAAO;QAAE,OAAO;QAAM,SAAS;QAAG,QAAQ,CAAC;IAAE;IAC7C,QAAQ;QACN,OAAO;QACP,SAAS;QACT,QAAQ;QACR,YAAY;YAAE,MAAM;YAAU,SAAS;YAAI,WAAW;QAAI;IAC5D;IACA,MAAM;QAAE,OAAO;QAAM,SAAS;QAAG,QAAQ;QAAG,YAAY;YAAE,UAAU;QAAI;IAAE;AAC5E;AAEA,MAAM,eAAe;IACnB,QAAQ;QAAE,SAAS;QAAG,GAAG;IAAG;IAC5B,SAAS;QAAE,SAAS;QAAG,GAAG;QAAG,YAAY;YAAE,OAAO;YAAK,UAAU;YAAK,MAAM;gBAAC;gBAAM;gBAAG;gBAAM;aAAE;QAAC;IAAE;AACnG;AAEA,MAAM,eAAe;IACnB,QAAQ;QAAE,SAAS;QAAG,GAAG;IAAG;IAC5B,SAAS;QAAE,SAAS;QAAG,GAAG;QAAG,YAAY;YAAE,UAAU;YAAM,MAAM;gBAAC;gBAAM;gBAAG;gBAAK;aAAE;QAAC;IAAE;IACrF,MAAM;QAAE,SAAS;QAAG,GAAG,CAAC;QAAI,YAAY;YAAE,UAAU;QAAI;IAAE;AAC5D;AAEe,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,qLAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,qLAAQ,EAAC;IAC7C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,qLAAQ,EAAiB,EAAE;IAC3E,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,qLAAQ,EAA+B;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qLAAQ,EAAC;IACjD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qLAAQ,EAAgB;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qLAAQ,EAAC;IAEjD,MAAM,sBAAsB,CAAC;QAC3B,oBAAoB,CAAC;YACnB,MAAM,SAAS,KAAK,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,QAAQ,EAAE;YACzD,IAAI,QAAQ;gBACV,OAAO,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,QAAQ,EAAE;YACrD;YACA,OAAO;mBAAI;gBAAM;aAAQ;QAC3B;IACF;IAEA,MAAM,kBAAkB;QACtB,gBAAgB;QAEhB,IAAI,CAAC,WAAW,IAAI,IAAI;YACtB,gBAAgB;YAChB;QACF;QAEA,gBAAgB;QAEhB,MAAM,cACJ,iBAAiB,MAAM,GAAG,IACtB,CAAC,sBAAsB,EAAE,iBAAiB,GAAG,CAAC,CAAC,OAAS,KAAK,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GACjF;QAEN,MAAM,kBAAkB,GAAG,WAAW,IAAI,KAAK,aAAa;QAE5D,gDAAgD;QAChD,MAAM,YAAY,uCAAgC,aAAa,OAAO,CAAC,wBAAwB;QAE/F,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,oJAAgB,EAAC;gBACtC,YAAY;gBACZ;gBACA,WAAW,aAAa;YAC1B;YACA,MAAM,gBAAgB,uJAAwB,CAAC,KAAK,CAAC;YACrD,QAAQ;YACR,gBAAgB;QAClB,EAAE,OAAO,OAAO;YACd,IAAI,iBAAiB,sJAAkB,EAAE;gBACvC,gBAAgB,MAAM,OAAO;YAC/B,OAAO;gBACL,gBAAgB;YAClB;YAEA,IAAI,CAAC,uLAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE;gBACxC,gBAAgB;gBAChB,QAAQ;YACV;QACF,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,qBACE,yMAAC;QAAI,WAAU;kBACb,cAAA,yMAAC;YAAI,WAAU;;8BACb,yMAAC;oBAAO,WAAU;8BAChB,cAAA,yMAAC;wBAAI,WAAU;;0CACb,yMAAC;;kDACC,yMAAC;wCAAE,WAAU;kDAAsD;;;;;;kDACnE,yMAAC,mNAAM,CAAC,EAAE;wCACR,WAAU;wCACV,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAG;wCAC7B,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAE;wCAC5B,YAAY;4CAAE,UAAU;4CAAK,MAAM;gDAAC;gDAAM;gDAAG;gDAAM;6CAAE;wCAAC;kDACvD;;;;;;kDAGD,yMAAC,mNAAM,CAAC,CAAC;wCACP,WAAU;wCACV,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAG;wCAC7B,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAE;wCAC5B,YAAY;4CAAE,OAAO;4CAAK,UAAU;4CAAK,MAAM;gDAAC;gDAAM;gDAAG;gDAAM;6CAAE;wCAAC;kDACnE;;;;;;;;;;;;0CAIH,yMAAC,mNAAM,CAAC,CAAC;gCACP,MAAK;gCACL,WAAU;gCACV,SAAS;oCAAE,SAAS;gCAAE;gCACtB,SAAS;oCAAE,SAAS;gCAAE;gCACtB,YAAY;oCAAE,OAAO;gCAAI;0CAC1B;;;;;;;;;;;;;;;;;8BAML,yMAAC;oBAAK,WAAU;;sCACd,yMAAC,mNAAM,CAAC,OAAO;4BACb,WAAU;4BACV,UAAU;4BACV,SAAQ;4BACR,SAAQ;sCAER,cAAA,yMAAC;gCAAI,WAAU;;kDACb,yMAAC,2NAAe;wCAAC,MAAK;kDACpB,cAAA,yMAAC,mNAAM,CAAC,GAAG;4CAET,UAAU;4CACV,SAAQ;4CACR,SAAQ;4CACR,MAAK;sDAEL,cAAA,yMAAC,mKAAU;gDAAC,OAAO;;;;;;2CANd;;;;;;;;;;kDAUT,yMAAC;wCAAM,WAAU;;0DACf,yMAAC;gDAAK,WAAU;0DAAqC;;;;;;0DACrD,yMAAC,mNAAM,CAAC,KAAK;gDACX,WAAU;gDACV,MAAK;gDACL,KAAK;gDACL,KAAK;gDACL,OAAO;gDACP,UAAU,CAAC,QAAU,eAAe,OAAO,MAAM,MAAM,CAAC,KAAK;gDAC7D,YAAY;oDAAE,OAAO;gDAAK;gDAC1B,YAAY;oDAAE,MAAM;oDAAU,WAAW;oDAAK,SAAS;gDAAG;;;;;;0DAE5D,yMAAC;gDAAK,WAAU;;oDAAyB;oDACzB;oDAAY;;;;;;;;;;;;;kDAI9B,yMAAC;wCAAM,WAAU;;0DACf,yMAAC;gDAAK,WAAU;0DAAqC;;;;;;0DACrD,yMAAC,mNAAM,CAAC,QAAQ;gDACd,WAAU;gDACV,aAAY;gDACZ,OAAO;gDACP,UAAU,CAAC,QAAU,cAAc,MAAM,MAAM,CAAC,KAAK;gDACrD,YAAY;oDAAE,OAAO;gDAAK;gDAC1B,YAAY;oDAAE,MAAM;oDAAU,WAAW;oDAAK,SAAS;gDAAG;;;;;;;;;;;;kDAI9D,yMAAC;wCAAI,WAAU;;0DACb,yMAAC;gDAAK,WAAU;0DAAqC;;;;;;0DACrD,yMAAC,mNAAM,CAAC,GAAG;gDACT,WAAU;gDACV,SAAS;oDAAE,SAAS;oDAAG,GAAG;gDAAG;gDAC7B,SAAS;oDAAE,SAAS;oDAAG,GAAG;gDAAE;gDAC5B,YAAY;oDAAE,OAAO;oDAAM,UAAU;oDAAK,MAAM;wDAAC;wDAAM;wDAAG;wDAAM;qDAAE;gDAAC;0DAEnE,cAAA,yMAAC,+KAAgB;oDAAC,UAAU;;;;;;;;;;;4CAE7B,iBAAiB,MAAM,GAAG,kBACzB,yMAAC,mNAAM,CAAC,GAAG;gDACT,WAAU;gDACV,SAAS;oDAAE,SAAS;oDAAG,GAAG;gDAAE;gDAC5B,SAAS;oDAAE,SAAS;oDAAG,GAAG;gDAAE;gDAC5B,YAAY;oDAAE,UAAU;gDAAI;;kEAE5B,yMAAC;wDAAK,WAAU;kEAAqD;;;;;;oDACpE,iBAAiB,GAAG,CAAC,CAAC,wBACrB,yMAAC;4DAEC,WAAU;;8EAEV,yMAAC;8EAAM,QAAQ,KAAK;;;;;;8EACpB,yMAAC;8EAAM,QAAQ,KAAK;;;;;;;2DAJf,QAAQ,EAAE;;;;;;;;;;uDAQnB;;;;;;;kDAGN,yMAAC,qKAAW;wCACV,MAAK;wCACL,SAAS;wCACT,IAAI;wCACJ,UAAU;wCACV,aAAW;wCACX,WAAU;kDAET,eAAe,iBAAiB;;;;;;kDAGnC,yMAAC,2NAAe;kDACb,6BACC,yMAAC,mNAAM,CAAC,CAAC;4CAEP,WAAU;4CACV,SAAS;gDAAE,SAAS;gDAAG,GAAG;4CAAE;4CAC5B,SAAS;gDAAE,SAAS;gDAAG,GAAG;4CAAE;4CAC5B,MAAM;gDAAE,SAAS;gDAAG,GAAG,CAAC;4CAAE;4CAC1B,YAAY;gDAAE,UAAU;4CAAK;sDAE5B;2CAPI;;;;mDASL;;;;;;;;;;;;;;;;;sCAKV,yMAAC;4BAAQ,WAAU;;8CACjB,yMAAC,2NAAe;oCAAC,MAAK;8CACnB,qBACC,yMAAC,mNAAM,CAAC,GAAG;wCAET,UAAU;wCACV,SAAQ;wCACR,SAAQ;wCACR,MAAK;;0DAEL,yMAAC,+LAAwB;gDAAC,MAAM;;;;;;4CAC/B,6BACC,yMAAC;gDAAE,WAAU;0DAA8B;;;;;uDAGzC;;uCAXC,KAAK,QAAQ,EAAE,SAAS,CAAC,eAAe,SAAS,MAAM;;;;6DAc9D,yMAAC,mNAAM,CAAC,GAAG;wCAET,WAAU;wCACV,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAG;wCAC7B,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAE;wCAC5B,MAAM;4CAAE,SAAS;4CAAG,GAAG,CAAC;wCAAG;wCAC3B,YAAY;4CAAE,UAAU;wCAAI;kDAE5B,cAAA,yMAAC;sDAAE;;;;;;uCAPC;;;;;;;;;;8CAYV,yMAAC,mNAAM,CAAC,GAAG;oCACT,WAAU;oCACV,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAG;oCAC7B,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAE;oCAC5B,YAAY;wCAAE,OAAO;wCAAK,UAAU;wCAAK,MAAM;4CAAC;4CAAM;4CAAG;4CAAM;yCAAE;oCAAC;;sDAElE,yMAAC;4CAAG,WAAU;sDAAwC;;;;;;sDACtD,yMAAC;4CAAE,WAAU;sDAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlD;GA/PwB;KAAA","debugId":null}}]
}