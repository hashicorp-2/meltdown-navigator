(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78622,e=>{"use strict";var t=e.i(39057),i=e.i(48277),s=e.i(30668),a=e.i(20673);let n=(0,s.memo)(({value:e,label:t="Stress",ariaLabel:s})=>{let a=Math.min(Math.max(e,0),5),n=a/5,l=`${100*n} ${100-100*n}`;return(0,i.jsxs)("figure",{className:"relative flex size-44 items-center justify-center rounded-full bg-gradient-to-br from-indigo-100 via-white to-slate-50 shadow-xl","aria-label":s??t,children:[(0,i.jsxs)("svg",{className:"absolute inset-4",viewBox:"0 0 36 36",role:"presentation","aria-hidden":"true",children:[(0,i.jsx)("path",{className:"fill-none stroke-slate-200/60",strokeWidth:"3.6",strokeLinecap:"round",d:"M18 2.4a15.6 15.6 0 1 1 0 31.2 15.6 15.6 0 1 1 0-31.2"}),(0,i.jsx)("path",{className:"fill-none stroke-indigo-500",strokeWidth:"3.6",strokeLinecap:"round",strokeDasharray:l,d:"M18 2.4a15.6 15.6 0 1 1 0 31.2 15.6 15.6 0 1 1 0-31.2"})]}),(0,i.jsxs)("div",{className:"relative z-10 flex size-28 flex-col items-center justify-center rounded-full bg-white text-slate-800 shadow-inner",children:[(0,i.jsx)("span",{className:"text-xs uppercase tracking-[0.2em] text-indigo-400",children:t}),(0,i.jsx)("span",{className:"text-3xl font-semibold text-indigo-600",children:a}),(0,i.jsx)("span",{className:"text-sm text-slate-400",children:"/5"})]}),(0,i.jsxs)("figcaption",{className:"absolute -bottom-8 flex items-center gap-2 text-sm text-indigo-600",children:[(0,i.jsx)("span",{className:"inline-flex size-2 rounded-full bg-indigo-400"}),(0,i.jsx)("span",{children:"High awareness mode"})]})]})});n.displayName="StressDial";var l=e.i(98989);let o=["ðŸ’œ","ðŸŒ¿","ðŸ¤","ðŸª„","ðŸŽ¯"];function r({step:e,icon:t,position:s}){let a=t??o[(s??e.step_number-1)%o.length];return(0,i.jsxs)("li",{className:"group rounded-3xl border border-transparent bg-white/70 p-5 shadow-lg shadow-indigo-100 transition hover:border-indigo-200 hover:shadow-indigo-200/80",children:[(0,i.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"flex size-12 items-center justify-center rounded-full bg-indigo-50 text-2xl",children:a}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:["Step ",e.step_number]}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:e.title})]})]})}),(0,i.jsx)("p",{className:"mt-3 text-slate-600",children:e.rephrased_message}),(0,i.jsxs)("p",{className:"mt-4 text-sm font-medium text-indigo-500",children:["Pro tip: ",e.pro_tip]})]})}let d={text:"ðŸ’¬",sms:"ðŸ’¬","text message":"ðŸ’¬",call:"ðŸ“ž",phone:"ðŸ“ž",email:"ðŸ“§",default:"ðŸ’œ"};function c({plan:e,onCopyAll:t}){let[a,n]=(0,s.useState)(!1),l=d[e.communication_medium.toLowerCase().trim()]??d.default,o=async()=>{if(t)return void t();let i=[`Communication Medium: ${e.communication_medium}`,`Grounding Technique: ${e.grounding_technique}`,"","Steps:",...e.steps.map(e=>`
${e.step_number}. ${e.title}
${e.rephrased_message}
ðŸ’¡ ${e.pro_tip}`)].join("\n");try{await navigator.clipboard.writeText(i),n(!0),setTimeout(()=>n(!1),2e3)}catch(e){console.error("Failed to copy:",e)}};return(0,i.jsxs)("article",{className:"rounded-4xl bg-white/80 p-6 shadow-2xl shadow-indigo-100 backdrop-blur-xl",children:[(0,i.jsxs)("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Recommended medium"}),(0,i.jsxs)("h2",{className:"mt-1 flex items-center gap-3 text-2xl font-semibold text-slate-900",children:[(0,i.jsx)("span",{className:"flex size-10 items-center justify-center rounded-full bg-indigo-50 text-2xl",children:l}),(0,i.jsx)("span",{className:"capitalize",children:e.communication_medium})]}),(0,i.jsx)("p",{className:"mt-3 text-base text-slate-600",children:e.grounding_technique})]}),(0,i.jsx)("button",{type:"button",onClick:o,className:"self-start rounded-full border border-indigo-200 px-4 py-2 text-sm font-medium text-indigo-600 transition hover:border-indigo-300 hover:bg-indigo-50",children:a?"âœ“ Copied!":"Copy plan"})]}),(0,i.jsx)("ul",{className:"mt-6 space-y-4",children:e.steps.map((e,t)=>(0,i.jsx)(r,{step:e,position:t},e.step_number))})]})}let m=[{id:"overwhelm",label:"Overwhelmed",emoji:"ðŸŒŠ"},{id:"sensory",label:"Sensory overload",emoji:"ðŸ”Š"},{id:"transition",label:"Transitioning tasks",emoji:"ðŸ”„"},{id:"fatigue",label:"Low energy",emoji:"ðŸ˜´"},{id:"conflict",label:"Conflict brewing",emoji:"âš¡ï¸"},{id:"isolation",label:"Feeling alone",emoji:"ðŸ«§"},{id:"shutdown",label:"Shutdown",emoji:"ðŸŒ€"},{id:"panic",label:"Panic spike",emoji:"ðŸ’¥"}];function x({items:e=m,onSelect:t}){return(0,i.jsx)("ul",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:e.map(e=>(0,i.jsx)("li",{children:(0,i.jsxs)("button",{type:"button",onClick:t?()=>t(e):void 0,className:"group flex w-full flex-col items-center gap-2 rounded-3xl border border-transparent bg-white/70 px-4 py-5 text-center shadow-md shadow-indigo-100 transition hover:border-indigo-200 hover:bg-white",children:[(0,i.jsx)("span",{className:"text-3xl transition group-hover:scale-110",children:e.emoji}),(0,i.jsx)("span",{className:"text-sm font-medium text-slate-600",children:e.label})]})},e.id))})}var p=e.i(53938),u=e.i(35691),h=e.i(1831);let g={communication_medium:"Send as Text Message",grounding_technique:"Try box breathing for 2 minutes before you reach out.",steps:[{step_number:1,title:"Open softly",icon_suggestion:"text-bubble",rephrased_message:"Hey love, Iâ€™m feeling really overstimulated and could use a quick grounding check-in.",pro_tip:"Pause and take three slow breaths before you send this."},{step_number:2,title:"Name the need",icon_suggestion:"clipboard",rephrased_message:"Could you remind me that weâ€™re safe and maybe help me step outside for some air?",pro_tip:"Use short sentences so it feels easier to read."},{step_number:3,title:"Invite support",icon_suggestion:"handshake",rephrased_message:"If youâ€™re free, Iâ€™d love a calm hug or a glass of water to help me reset.",pro_tip:"If they canâ€™t respond right away, set a self-soothing timer for 5 minutes."}],metadata:{model:"demo",latencyMs:0}},f={enter:{scale:.92,opacity:0,rotate:-6},center:{scale:1,opacity:1,rotate:0,transition:{type:"spring",damping:16,stiffness:140}},exit:{scale:.95,opacity:0,rotate:6,transition:{duration:.2}}},b={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{delay:.1,duration:.5,ease:[.22,1,.36,1]}}},y={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.45,ease:[.16,1,.3,1]}},exit:{opacity:0,y:-10,transition:{duration:.2}}};function j(){let[e,o]=(0,s.useState)(4),[r,d]=(0,s.useState)(""),[m,j]=(0,s.useState)([]),[w,N]=(0,s.useState)(null),[v,_]=(0,s.useState)(!1),[k,S]=(0,s.useState)(null),[T,C]=(0,s.useState)(!1),I=async()=>{if(S(null),!r.trim())return void S("Share a quick note about what's happening so we can translate it.");_(!0);let i=m.length>0?`

Context triggers: ${m.map(e=>e.label).join(", ")}.`:"",s=`${r.trim()}${i}`,n=localStorage.getItem("meltdown_profileId");try{let t=await (0,h.translateMessage)({rawMessage:s,stressLevel:e,profileId:n||void 0}),i=a.translatorResponseSchema.parse(t);N(i),C(!1)}catch(e){e instanceof h.TranslatorApiError?S(e.message):S("We hit a snag talking to the translator. Try again in a moment."),t.default.env.NEXT_PUBLIC_BACKEND_URL||(C(!0),N(g))}finally{_(!1)}};return(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-[#F3EEFF] via-white to-white text-slate-900",children:(0,i.jsxs)("div",{className:"mx-auto max-w-6xl px-6 pb-24",children:[(0,i.jsx)("header",{className:"pt-16 text-center sm:text-left",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-indigo-400",children:"Crisis Translator"}),(0,i.jsx)(u.motion.h1,{className:"mt-3 text-4xl font-semibold text-slate-900 sm:text-5xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.16,1,.29,1]},children:"Grounded support, step by step."}),(0,i.jsx)(u.motion.p,{className:"mt-4 max-w-2xl text-lg text-slate-600",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.6,ease:[.16,1,.29,1]},children:"Input how you're feeling and we'll craft a calm, structured plan your caregiver can follow. Tap the triggers that resonate so the AI knows which patterns to support."})]}),(0,i.jsx)(u.motion.a,{href:"/onboarding",className:"rounded-full border border-indigo-200 bg-white/80 px-4 py-2 text-sm font-medium text-indigo-600 transition hover:border-indigo-300 hover:bg-white",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Profile"})]})}),(0,i.jsxs)("main",{className:"mt-12 grid gap-10 lg:grid-cols-[360px,1fr]",children:[(0,i.jsx)(u.motion.section,{className:"rounded-4xl bg-white/80 p-8 shadow-2xl shadow-indigo-100 backdrop-blur-xl",variants:b,initial:"hidden",animate:"visible",children:(0,i.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,i.jsx)(p.AnimatePresence,{mode:"wait",children:(0,i.jsx)(u.motion.div,{variants:f,initial:"enter",animate:"center",exit:"exit",children:(0,i.jsx)(n,{value:e})},e)}),(0,i.jsxs)("label",{className:"flex w-full flex-col gap-3",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"How intense does it feel?"}),(0,i.jsx)(u.motion.input,{className:"w-full accent-indigo-500",type:"range",min:1,max:5,value:e,onChange:e=>o(Number(e.target.value)),whileFocus:{scale:1.01},transition:{type:"spring",stiffness:120,damping:12}}),(0,i.jsxs)("span",{className:"text-sm text-slate-500",children:["Stress level ",e," of 5"]})]}),(0,i.jsxs)("label",{className:"flex w-full flex-col gap-3",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Raw message"}),(0,i.jsx)(u.motion.textarea,{className:"min-h-[160px] rounded-3xl border border-slate-200 bg-slate-50 p-4 text-base text-slate-700 shadow-inner focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"Tell us whatâ€™s happeningâ€¦",value:r,onChange:e=>d(e.target.value),whileFocus:{scale:1.01},transition:{type:"spring",stiffness:120,damping:12}})]}),(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Whatâ€™s triggering the spike?"}),(0,i.jsx)(u.motion.div,{className:"mt-4",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.15,duration:.5,ease:[.16,1,.29,1]},children:(0,i.jsx)(x,{onSelect:e=>{j(t=>t.some(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):[...t,e])}})}),m.length>0?(0,i.jsxs)(u.motion.div,{className:"mt-3 flex flex-wrap items-center gap-2",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,i.jsx)("span",{className:"text-xs uppercase tracking-[0.2em] text-indigo-400",children:"Selected:"}),m.map(e=>(0,i.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700",children:[(0,i.jsx)("span",{children:e.emoji}),(0,i.jsx)("span",{children:e.label})]},e.id))]}):null]}),(0,i.jsx)(l.FocusButton,{type:"button",onClick:I,glow:!0,disabled:v,"aria-busy":v,className:"w-full justify-center disabled:cursor-not-allowed disabled:opacity-70",children:v?"Translatingâ€¦":"Translate to visual plan"}),(0,i.jsx)(p.AnimatePresence,{children:k?(0,i.jsx)(u.motion.p,{className:"text-center text-sm text-rose-500",initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.25},children:k},k):null})]})}),(0,i.jsxs)("section",{className:"flex flex-col gap-6",children:[(0,i.jsx)(p.AnimatePresence,{mode:"wait",children:w?(0,i.jsxs)(u.motion.div,{variants:y,initial:"hidden",animate:"visible",exit:"exit",children:[(0,i.jsx)(c,{plan:w}),T?(0,i.jsx)("p",{className:"mt-3 text-xs text-slate-400",children:"Showing demo plan because the live translator is offline. Set `NEXT_PUBLIC_BACKEND_URL` to connect to the backend."}):null]},w.metadata?.model??(T?"demo":"plan")):(0,i.jsx)(u.motion.div,{className:"grid place-items-center rounded-4xl border border-dashed border-indigo-200 bg-white/60 p-10 text-center text-slate-500",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.4},children:(0,i.jsx)("p",{children:"Once you translate, your visual communication plan will bloom here."})},"empty")}),(0,i.jsxs)(u.motion.div,{className:"rounded-4xl bg-indigo-50 p-6 text-sm text-indigo-700 shadow-inner shadow-indigo-200",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5,ease:[.16,1,.29,1]},children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-indigo-900",children:"Grounding techniques we love"}),(0,i.jsx)("p",{className:"mt-2 text-indigo-700",children:"Try a 4-7-8 breathing pattern, hold an ice cube, or trace the outline of your hand slowly while counting. Weâ€™ll bake these into your plan once the AI is online."})]})]})]})]})})}e.s(["default",()=>j],78622)}]);